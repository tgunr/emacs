<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
  <meta name="generator" content=
  "HTML Tidy for Mac OS X (vers 31 October 2006 - Apple Inc. build 16.1), see www.w3.org" />

  <title>Identities - The MH-E Manual</title>
  <meta http-equiv="Content-Type" content="text/html" />
  <meta name="description" content="The MH-E Manual" />
  <meta name="generator" content="makeinfo 4.13" />
  <link title="Top" rel="start" href="index.html#Top" />
  <link rel="prev" href="Aliases.html#Aliases" title="Aliases" />
  <link rel="next" href="Speedbar.html#Speedbar" title=
  "Speedbar" />
  <link href="http://www.gnu.org/software/texinfo/" rel=
  "generator-home" title="Texinfo Homepage" /><!--
This is version 8.2 of `The MH-E
Manual', last updated 2009-06-13.

Copyright (C) 1995, 2001, 2002, 2003, 2005, 2006, 2007, 2008,
  2009, 2010  Free Software Foundation, Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of either:

       a. the GNU Free Documentation License, Version 1.3 or any later
          version published by the Free Software Foundation; with no
          Invariant Sections, with the Front-Cover texts being ``A GNU
          Manual,'' and with the Back-Cover Texts as in (a) below. A
          copy of the license is included in the section entitled ``GNU
          Free Documentation License.''

          (a) The FSF's Back-Cover Text is: ``You have the freedom to
          copy and modify this GNU manual. Buying copies from the FSF
          supports it in developing GNU and promoting software
          freedom.''

       b. the GNU General Public License as published by the Free
          Software Foundation; either version 3, or (at your option)
          any later version. A copy of the license is included in the
          section entitled ``GNU General Public License.''
   -->
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <style type="text/css">
/*<![CDATA[*/
  <!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; }
  span.sansserif { font-family:sans-serif; font-weight:normal; }
  -->
  /*]]>*/
  </style>
</head>

<body>
  <div class="node">
    <a name="Identities" id="Identities"></a>

    <p>Next:&nbsp;<a rel="next" accesskey="n" href=
    "Speedbar.html#Speedbar">Speedbar</a>, Previous:&nbsp;<a rel=
    "previous" accesskey="p" href=
    "Aliases.html#Aliases">Aliases</a>, Up:&nbsp;<a rel="up"
    accesskey="u" href="index.html#Top">Top</a></p>
    <hr />
  </div>

  <h2 class="chapter">11 Identities</h2>

  <p><a name="index-identities-1572" id=
  "index-identities-1572"></a><a name=
  "index-multiple-personalities-1573" id=
  "index-multiple-personalities-1573"></a> MH-E supports the
  concept of multiple personalities or identities. This means that
  you can easily have a different header and signature at home and
  at work.</p>

  <p><a name="index-g_t_0040samp_007bIdentity_007d-menu-1574" id=
  "index-g_t_0040samp_007bIdentity_007d-menu-1574"></a><a name=
  "index-menu_002c-_0040samp_007bIdentity_007d-1575" id=
  "index-menu_002c-_0040samp_007bIdentity_007d-1575"></a> A couple
  of commands are used to insert identities in MH-Letter mode which
  are also found in the &lsquo;<samp><span class=
  "samp">Identity</span></samp>&rsquo; menu. <a name=
  "index-C_002dc-C_002dd-1576" id="index-C_002dc-C_002dd-1576"></a>
  <a name="index-mh_002dinsert_002didentity-1577" id=
  "index-mh_002dinsert_002didentity-1577"></a></p>

  <dl>
    <dt><kbd>C-c C-d</kbd></dt>

    <dd>Insert fields specified by given identity
    (<code>mh-insert-identity</code>). <!--  -->
     <a name=
    "index-g_t_0040samp_007bIdentity-_003e-Insert-Auto-Fields_007d-menu-item-1578"
    id=
    "index-g_t_0040samp_007bIdentity-_003e-Insert-Auto-Fields_007d-menu-item-1578">
    </a><a name=
    "index-menu-item_002c-_0040samp_007bIdentity-_003e-Insert-Auto-Fields_007d-1579"
    id=
    "index-menu-item_002c-_0040samp_007bIdentity-_003e-Insert-Auto-Fields_007d-1579"></a><a name="index-C_002dc-M_002dd-1580"
    id="index-C_002dc-M_002dd-1580"></a><a name=
    "index-mh_002dinsert_002dauto_002dfields-1581" id=
    "index-mh_002dinsert_002dauto_002dfields-1581"></a><br /></dd>

    <dt><kbd>C-c M-d</kbd></dt>

    <dd>Insert custom fields if recipient found in
    <code>mh-auto-fields-list</code>
    (<code>mh-insert-auto-fields</code>).</dd>
  </dl>

  <p><a name=
  "index-g_t_0040samp_007bmh_002didentity_007d-customization-group-1582"
  id=
  "index-g_t_0040samp_007bmh_002didentity_007d-customization-group-1582">
  </a><a name=
  "index-customization-group_002c-_0040samp_007bmh_002didentity_007d-1583"
  id=
  "index-customization-group_002c-_0040samp_007bmh_002didentity_007d-1583"></a>
  The &lsquo;<samp><span class=
  "samp">mh-identity</span></samp>&rsquo; customization group
  contains the following options.</p>

  <dl>
    <dt><code>mh-auto-fields-list</code><a name=
    "index-mh_002dauto_002dfields_002dlist-1584" id=
    "index-mh_002dauto_002dfields_002dlist-1584"></a></dt>

    <dd>List of recipients for which header lines are automatically
    inserted (default: <code>nil</code>). <!--  -->
    <br /></dd>

    <dt><code>mh-auto-fields-prompt-flag</code><a name=
    "index-mh_002dauto_002dfields_002dprompt_002dflag-1585" id=
    "index-mh_002dauto_002dfields_002dprompt_002dflag-1585"></a></dt>

    <dd>On means to prompt before sending if fields inserted
    (default: &lsquo;<samp><span class=
    "samp">on</span></samp>&rsquo;) <!--  -->
    <br /></dd>

    <dt><code>mh-identity-default</code><a name=
    "index-mh_002didentity_002ddefault-1586" id=
    "index-mh_002didentity_002ddefault-1586"></a></dt>

    <dd>Default identity to use when <code>mh-letter-mode</code> is
    called (default: &lsquo;<samp><span class=
    "samp">None</span></samp>&rsquo;). <!--  -->
    <br /></dd>

    <dt><code>mh-identity-handlers</code><a name=
    "index-mh_002didentity_002dhandlers-1587" id=
    "index-mh_002didentity_002dhandlers-1587"></a></dt>

    <dd>Handler functions for fields in
    <code>mh-identity-list</code>. <!--  -->
    <br /></dd>

    <dt><code>mh-identity-list</code><a name=
    "index-mh_002didentity_002dlist-1588" id=
    "index-mh_002didentity_002dlist-1588"></a></dt>

    <dd>List of identities (default: <code>nil</code>).</dd>
  </dl>

  <p>Some of the common header fields that people change depending
  on the context are the &lsquo;<samp><span class=
  "samp">From:</span></samp>&rsquo; and &lsquo;<samp><span class=
  "samp">Organization:</span></samp>&rsquo; fields, as well as the
  signature.</p>

  <p><a name="index-mh_002didentity_002dlist-1589" id=
  "index-mh_002didentity_002dlist-1589"></a> This is done by
  customizing the option <code>mh-identity-list</code>. In the
  customization buffer for this option, click on the
  &lsquo;<samp><span class="samp">INS</span></samp>&rsquo; button
  and enter a label such as &lsquo;<samp><span class=
  "samp">Home</span></samp>&rsquo; or &lsquo;<samp><span class=
  "samp">Work</span></samp>&rsquo;. Then click on the
  &lsquo;<samp><span class="samp">INS</span></samp>&rsquo; button
  with the label &lsquo;<samp><span class="samp">Add at least one
  item below</span></samp>&rsquo;. The &lsquo;<samp><span class=
  "samp">Value Menu</span></samp>&rsquo; has the following menu
  items: <a name=
  "index-header-field_002c-_0040samp_007bFrom_003a_007d-1590" id=
  "index-header-field_002c-_0040samp_007bFrom_003a_007d-1590"></a>
  <a name="index-g_t_0040samp_007bFrom_003a_007d-header-field-1591"
  id=
  "index-g_t_0040samp_007bFrom_003a_007d-header-field-1591"></a></p>

  <dl>
    <dt>&lsquo;<samp><span class="samp">From
    Field</span></samp>&rsquo;</dt>

    <dd>Specify an alternate &lsquo;<samp><span class=
    "samp">From:</span></samp>&rsquo; header field. You must
    include a valid email address. A standard format is
    &lsquo;<samp><span class="samp">First Last
    &lt;login@host.domain&gt;</span></samp>&rsquo;. If you use an
    initial with a period, then you must quote your name as in
    &lsquo;<samp><span class="samp">"First I. Last"
    &lt;login@host.domain&gt;</span></samp>&rsquo;. <!--  -->
     <a name=
    "index-header-field_002c-_0040samp_007bOrganization_003a_007d-1592"
    id=
    "index-header-field_002c-_0040samp_007bOrganization_003a_007d-1592">
    </a><a name=
    "index-g_t_0040samp_007bOrganization_003a_007d-header-field-1593"
    id=
    "index-g_t_0040samp_007bOrganization_003a_007d-header-field-1593"></a><br />
    </dd>

    <dt>&lsquo;<samp><span class="samp">Organization
    Field</span></samp>&rsquo;</dt>

    <dd>People usually list the name of the company where they work
    here. <!--  -->
    <br /></dd>

    <dt>&lsquo;<samp><span class="samp">Other
    Field</span></samp>&rsquo;</dt>

    <dd>Set any arbitrary header field and value here. Unless the
    header field is a standard one, precede the name of your
    field's label with &lsquo;<samp><span class=
    "samp">X-</span></samp>&rsquo;, as in &lsquo;<samp><span class=
    "samp">X-Fruit-of-the-Day:</span></samp>&rsquo;. <!--  -->
    <br /></dd>

    <dt>&lsquo;<samp><span class="samp">Attribution
    Verb</span></samp>&rsquo;</dt>

    <dd>This value overrides the setting of
    <code>mh-extract-from-attribution-verb</code>. See <a href=
    "Inserting-Letter.html#Inserting-Letter">Inserting Letter</a>.
    <!--  -->
     <a name="index-signature-1594" id=
    "index-signature-1594"></a><a name=
    "index-mh_002dsignature_002dfile_002dname-1595" id=
    "index-mh_002dsignature_002dfile_002dname-1595"></a><br /></dd>

    <dt>&lsquo;<samp><span class=
    "samp">Signature</span></samp>&rsquo;</dt>

    <dd>Set your signature with this item. You can specify the
    contents of <code>mh-signature-file-name</code>, a file, or a
    function. See <a href="Signature.html#Signature">Signature</a>.
    <!--  -->
    <br /></dd>

    <dt>&lsquo;<samp><span class="samp">GPG Key
    ID</span></samp>&rsquo;</dt>

    <dd>Specify a different key to sign or encrypt messages.</dd>
  </dl>

  <p><a name="index-Identity-menu-1596" id=
  "index-Identity-menu-1596"></a><a name=
  "index-menu_002c-Identity-1597" id=
  "index-menu_002c-Identity-1597"></a><a name=
  "index-mh_002dinsert_002didentity-1598" id=
  "index-mh_002dinsert_002didentity-1598"></a><a name=
  "index-C_002dc-C_002dd-1599" id="index-C_002dc-C_002dd-1599"></a>
  You can select the identities you have added via the menu called
  &lsquo;<samp><span class="samp">Identity</span></samp>&rsquo; in
  the MH-Letter buffer. You can also use <kbd>C-c C-d</kbd>
  (<code>mh-insert-identity</code>). To clear the fields and
  signature added by the identity, select the
  &lsquo;<samp><span class="samp">None</span></samp>&rsquo;
  identity.</p>

  <p><a name=
  "index-menu-item_002c-_0040samp_007bIdentity-_003e-Customize-Identities_007d-1600"
  id=
  "index-menu-item_002c-_0040samp_007bIdentity-_003e-Customize-Identities_007d-1600">
  </a><a name=
  "index-menu-item_002c-_0040samp_007bIdentity-_003e-Save-as-Default_007d-1601"
  id=
  "index-menu-item_002c-_0040samp_007bIdentity-_003e-Save-as-Default_007d-1601"></a><a name="index-menu-item_002c-_0040samp_007bIdentity-_003e-Set-Default-for-Session_007d-1602"
  id=
  "index-menu-item_002c-_0040samp_007bIdentity-_003e-Set-Default-for-Session_007d-1602"></a><a name="index-g_t_0040samp_007bIdentity-_003e-Customize-Identities_007d-menu-item-1603"
  id=
  "index-g_t_0040samp_007bIdentity-_003e-Customize-Identities_007d-menu-item-1603"></a><a name="index-g_t_0040samp_007bIdentity-_003e-Save-as-Default_007d-menu-item-1604"
  id=
  "index-g_t_0040samp_007bIdentity-_003e-Save-as-Default_007d-menu-item-1604"></a><a name="index-g_t_0040samp_007bIdentity-_003e-Set-Default-for-Session_007d-menu-item-1605"
  id=
  "index-g_t_0040samp_007bIdentity-_003e-Set-Default-for-Session_007d-menu-item-1605"></a><a name="index-mh_002didentity_002ddefault-1606"
  id="index-mh_002didentity_002ddefault-1606"></a> The
  &lsquo;<samp><span class="samp">Identity</span></samp>&rsquo;
  menu contains two other items to save you from having to set the
  identity on every message. The menu item
  &lsquo;<samp><span class="samp">Set Default for
  Session</span></samp>&rsquo; can be used to set the default
  identity to the current identity until you exit Emacs. The menu
  item &lsquo;<samp><span class="samp">Save as
  Default</span></samp>&rsquo; sets the option
  <code>mh-identity-default</code> to the current identity setting.
  You can also customize the option
  <code>mh-identity-default</code> in the usual fashion. If you
  find that you need to add another identity, the menu item
  &lsquo;<samp><span class="samp">Customize
  Identities</span></samp>&rsquo; is available for your
  convenience.</p>

  <p><a name=
  "index-regular-expressions_002c-_0040code_007bmh_002dauto_002dfields_002dlist_007d-1607"
  id=
  "index-regular-expressions_002c-_0040code_007bmh_002dauto_002dfields_002dlist_007d-1607">
  </a><a name="index-mh_002dauto_002dfields_002dlist-1608" id=
  "index-mh_002dauto_002dfields_002dlist-1608"></a> The option
  <code>mh-auto-fields-list</code> can also be used to set the
  identity depending on the recipient to provide even more control.
  To customize <code>mh-auto-fields-list</code>, click on the
  &lsquo;<samp><span class="samp">INS</span></samp>&rsquo; button
  and enter a regular expression for the recipient's address (see
  the section <a href=
  "http://www.gnu.org/software/emacs/manual/html_node/Regexps.html">
  Syntax of Regular Expressions</a> in <cite>The GNU Emacs
  Manual</cite>). Click on the &lsquo;<samp><span class=
  "samp">INS</span></samp>&rsquo; button with the
  &lsquo;<samp><span class="samp">Add at least one item
  below</span></samp>&rsquo; label. The &lsquo;<samp><span class=
  "samp">Value Menu</span></samp>&rsquo; contains the following
  menu items:</p>

  <dl>
    <dt>&lsquo;<samp><span class=
    "samp">Identity</span></samp>&rsquo;</dt>

    <dd>Select an identity from those configured in
    <code>mh-identity-list</code>. All of the information for that
    identity will be added if the recipient matches. <!--  -->
     <a name=
    "index-g_t_0040samp_007bFcc_003a_007d-header-field-1609" id=
    "index-g_t_0040samp_007bFcc_003a_007d-header-field-1609"></a><a name="index-header-field_002c-_0040samp_007bFcc_003a_007d-1610"
    id=
    "index-header-field_002c-_0040samp_007bFcc_003a_007d-1610"></a><br />
    </dd>

    <dt>&lsquo;<samp><span class="samp">Fcc
    Field</span></samp>&rsquo;</dt>

    <dd>Insert an &lsquo;<samp><span class=
    "samp">Fcc:</span></samp>&rsquo; header field with the folder
    you provide. When you send the message, MH will put a copy of
    your message in this folder. <!--  -->
     <a name=
    "index-g_t_0040samp_007bMail_002dFollowup_002dTo_003a_007d-header-field-1611"
    id=
    "index-g_t_0040samp_007bMail_002dFollowup_002dTo_003a_007d-header-field-1611">
    </a><a name=
    "index-header-field_002c-_0040samp_007bMail_002dFollowup_002dTo_003a_007d-1612"
    id=
    "index-header-field_002c-_0040samp_007bMail_002dFollowup_002dTo_003a_007d-1612"></a><br />
    </dd>

    <dt>&lsquo;<samp><span class="samp">Mail-Followup-To
    Field</span></samp>&rsquo;</dt>

    <dd>Insert an &lsquo;<samp><span class=
    "samp">Mail-Followup-To:</span></samp>&rsquo; header field with
    the recipients you provide. If the recipient's mail user agent
    supports this header field<a rel="footnote" href="#fn-1" name=
    "fnd-1" id="fnd-1"><sup>1</sup></a>, then their replies will go
    to the addresses listed. This is useful if their replies go
    both to the list and to you and you don't have a mechanism to
    suppress duplicates. If you reply to someone not on the list,
    you must either remove the &lsquo;<samp><span class=
    "samp">Mail-Followup-To:</span></samp>&rsquo; field, or ensure
    the recipient is also listed there so that he receives replies
    to your reply. <!--  -->
    <br /></dd>

    <dt>&lsquo;<samp><span class="samp">Other
    Field</span></samp>&rsquo;</dt>

    <dd>Other header fields may be added using this menu item.</dd>
  </dl>

  <p><a name="index-mh_002dinsert_002dauto_002dfields-1613" id=
  "index-mh_002dinsert_002dauto_002dfields-1613"></a><a name=
  "index-C_002dc-M_002dd-1614" id=
  "index-C_002dc-M_002dd-1614"></a><a name=
  "index-mh_002dauto_002dfields_002dprompt_002dflag-1615" id=
  "index-mh_002dauto_002dfields_002dprompt_002dflag-1615"></a>
  These fields can only be added after the recipient is known.
  Because you can continue to add recipients as you edit the draft,
  MH-E waits until the message is sent to perform the
  auto-insertions. This seems strange at first, but you'll get used
  to it. There are two ways to help you feel that the desired
  fields are added. The first is the action when the message is
  sent: if any fields are added automatically, you are given a
  chance to see and to confirm these fields before the message is
  actually sent. You can do away with this confirmation by turning
  off the option <code>mh-auto-fields-prompt-flag</code>. The
  second method is manual: once the header contains one or more
  recipients, you may run the command <kbd>C-c M-d</kbd>
  (<code>mh-insert-auto-fields</code>) or choose the
  &lsquo;<samp><span class="samp">Identity -&gt; Insert Auto
  Fields</span></samp>&rsquo; menu item to insert these fields
  manually. However, if you use this command, the automatic
  insertion when the message is sent is disabled.</p>

  <p><a name="index-mh_002dauto_002dfields_002dlist-1616" id=
  "index-mh_002dauto_002dfields_002dlist-1616"></a><a name=
  "index-mh_002didentity_002dlist-1617" id=
  "index-mh_002didentity_002dlist-1617"></a> You should avoid using
  the same header field in <code>mh-auto-fields-list</code> and
  <code>mh-identity-list</code> definitions that may apply to the
  same message as the result is undefined.</p>

  <p><a name="index-mh_002didentity_002dhandlers-1618" id=
  "index-mh_002didentity_002dhandlers-1618"></a><a name=
  "index-mh_002didentity_002dlist-1619" id=
  "index-mh_002didentity_002dlist-1619"></a> The option
  <code>mh-identity-handlers</code> is used to change the way that
  fields, signatures, and attributions in
  <code>mh-identity-list</code> are added. To customize
  <code>mh-identity-handlers</code>, replace the name of an
  existing handler function associated with the field you want to
  change with the name of a function you have written. You can also
  click on an &lsquo;<samp><span class=
  "samp">INS</span></samp>&rsquo; button and insert a field of your
  choice and the name of the function you have written to handle
  it.</p>

  <p><a name="index-mh_002didentity_002dlist-1620" id=
  "index-mh_002didentity_002dlist-1620"></a> The
  &lsquo;<samp><span class="samp">Field</span></samp>&rsquo; field
  can be any field that you've used in your
  <code>mh-identity-list</code>. The special fields
  &lsquo;<samp><span class=
  "samp">:attribution-verb</span></samp>&rsquo;,
  &lsquo;<samp><span class="samp">:signature</span></samp>&rsquo;,
  or &lsquo;<samp><span class=
  "samp">:pgg-default-user-id</span></samp>&rsquo; are used for the
  <code>mh-identity-list</code> choices &lsquo;<samp><span class=
  "samp">Attribution Verb</span></samp>&rsquo;,
  &lsquo;<samp><span class="samp">Signature</span></samp>&rsquo;,
  and &lsquo;<samp><span class="samp">GPG Key
  ID</span></samp>&rsquo; respectively.</p>

  <p>The handler associated with the &lsquo;<samp><span class=
  "samp">:default</span></samp>&rsquo; field is used when no other
  field matches.</p>

  <p>The handler functions are passed two or three arguments: the
  field itself (for example, &lsquo;<samp><span class=
  "samp">From</span></samp>&rsquo;), or one of the special fields
  (for example, &lsquo;<samp><span class=
  "samp">:signature</span></samp>&rsquo;), and the action
  &lsquo;<samp><span class="samp">'remove</span></samp>&rsquo; or
  &lsquo;<samp><span class="samp">'add</span></samp>&rsquo;. If the
  action is &lsquo;<samp><span class=
  "samp">'add</span></samp>&rsquo;, an additional argument
  containing the value for the field is given.</p>

  <div class="footnote">
    <hr />

    <h4>Footnotes</h4>

    <p class="footnote"><small>[<a name="fn-1" href="#fnd-1" id=
    "fn-1">1</a>]</small> &lsquo;<samp><span class=
    "samp">Mail-Followup-To:</span></samp>&rsquo; is supported by
    nmh.</p>
    <hr />
  </div>
</body>
</html>
