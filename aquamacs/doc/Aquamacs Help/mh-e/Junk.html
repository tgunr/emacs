<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
  <meta name="generator" content=
  "HTML Tidy for Mac OS X (vers 31 October 2006 - Apple Inc. build 16.1), see www.w3.org" />

  <title>Junk - The MH-E Manual</title>
  <meta http-equiv="Content-Type" content="text/html" />
  <meta name="description" content="The MH-E Manual" />
  <meta name="generator" content="makeinfo 4.13" />
  <link title="Top" rel="start" href="index.html#Top" />
  <link rel="prev" href="Sequences.html#Sequences" title=
  "Sequences" />
  <link rel="next" href="Miscellaneous.html#Miscellaneous" title=
  "Miscellaneous" />
  <link href="http://www.gnu.org/software/texinfo/" rel=
  "generator-home" title="Texinfo Homepage" /><!--
This is version 8.2 of `The MH-E
Manual', last updated 2009-06-13.

Copyright (C) 1995, 2001, 2002, 2003, 2005, 2006, 2007, 2008,
  2009, 2010  Free Software Foundation, Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of either:

       a. the GNU Free Documentation License, Version 1.3 or any later
          version published by the Free Software Foundation; with no
          Invariant Sections, with the Front-Cover texts being ``A GNU
          Manual,'' and with the Back-Cover Texts as in (a) below. A
          copy of the license is included in the section entitled ``GNU
          Free Documentation License.''

          (a) The FSF's Back-Cover Text is: ``You have the freedom to
          copy and modify this GNU manual. Buying copies from the FSF
          supports it in developing GNU and promoting software
          freedom.''

       b. the GNU General Public License as published by the Free
          Software Foundation; either version 3, or (at your option)
          any later version. A copy of the license is included in the
          section entitled ``GNU General Public License.''
   -->
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <style type="text/css">
/*<![CDATA[*/
  <!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; }
  span.sansserif { font-family:sans-serif; font-weight:normal; }
  -->
  /*]]>*/
  </style>
</head>

<body>
  <div class="node">
    <a name="Junk" id="Junk"></a>

    <p>Next:&nbsp;<a rel="next" accesskey="n" href=
    "Miscellaneous.html#Miscellaneous">Miscellaneous</a>,
    Previous:&nbsp;<a rel="previous" accesskey="p" href=
    "Sequences.html#Sequences">Sequences</a>, Up:&nbsp;<a rel="up"
    accesskey="u" href="index.html#Top">Top</a></p>
    <hr />
  </div>

  <h2 class="chapter">19 Dealing With Junk Mail</h2>

  <p><a name="index-Marshall-Rose-1990" id=
  "index-Marshall-Rose-1990"></a><a name="index-junk-mail-1991" id=
  "index-junk-mail-1991"></a><a name="index-spam-1992" id=
  "index-spam-1992"></a> Marshall Rose once wrote a paper on MH
  entitled, <cite>How to process 200 messages a day and still get
  some real work done</cite>. This chapter could be entitled,
  <cite>How to process 1000 spams a day and still get some real
  work done</cite>.</p>

  <p><a name="index-blacklisting-1993" id=
  "index-blacklisting-1993"></a><a name="index-ham-1994" id=
  "index-ham-1994"></a><a name="index-viruses-1995" id=
  "index-viruses-1995"></a><a name="index-whitelisting-1996" id=
  "index-whitelisting-1996"></a><a name="index-worms-1997" id=
  "index-worms-1997"></a> We use the terms <dfn>junk mail</dfn> and
  <dfn>spam</dfn> interchangeably for any unwanted message which
  includes spam, <dfn>viruses</dfn>, and <dfn>worms</dfn>. The
  opposite of spam is <dfn>ham</dfn>. The act of classifying a
  sender as one who sends junk mail is called
  <dfn>blacklisting</dfn>; the opposite is called
  <dfn>whitelisting</dfn>. <a name="index-J-_003f-1998" id=
  "index-J-_003f-1998"></a> <a name=
  "index-mh_002dprefix_002dhelp-1999" id=
  "index-mh_002dprefix_002dhelp-1999"></a></p>

  <dl>
    <dt><kbd>J ?</kbd></dt>

    <dd>Display cheat sheet for the commands of the current prefix
    in minibuffer (<code>mh-prefix-help</code>). <!--  -->
     <a name="index-J-b-2000" id="index-J-b-2000"></a><a name=
    "index-mh_002djunk_002dblacklist-2001" id=
    "index-mh_002djunk_002dblacklist-2001"></a><br /></dd>

    <dt><kbd>J b</kbd></dt>

    <dd>Blacklist range as spam (<code>mh-junk-blacklist</code>).
    <!--  -->
     <a name="index-J-w-2002" id="index-J-w-2002"></a><a name=
    "index-mh_002djunk_002dwhitelist-2003" id=
    "index-mh_002djunk_002dwhitelist-2003"></a><br /></dd>

    <dt><kbd>J w</kbd></dt>

    <dd>Whitelist range as ham (<code>mh-junk-whitelist</code>).
    <!--  -->
    <br /></dd>

    <dt><code>mh-spamassassin-identify-spammers</code></dt>

    <dd>Identify spammers who are repeat offenders.</dd>
  </dl>

  <p><a name=
  "index-g_t_0040samp_007bmh_002djunk_007d-customization-group-2004"
  id=
  "index-g_t_0040samp_007bmh_002djunk_007d-customization-group-2004">
  </a><a name=
  "index-customization-group_002c-_0040samp_007bmh_002djunk_007d-2005"
  id=
  "index-customization-group_002c-_0040samp_007bmh_002djunk_007d-2005"></a>
  The following table lists the options from the
  &lsquo;<samp><span class="samp">mh-junk</span></samp>&rsquo;
  customization group.</p>

  <dl>
    <dt><code>mh-junk-background</code><a name=
    "index-mh_002djunk_002dbackground-2006" id=
    "index-mh_002djunk_002dbackground-2006"></a></dt>

    <dd>If on, spam programs are run in background (default:
    &lsquo;<samp><span class="samp">off</span></samp>&rsquo;).
    <!--  -->
    <br /></dd>

    <dt><code>mh-junk-disposition</code><a name=
    "index-mh_002djunk_002ddisposition-2007" id=
    "index-mh_002djunk_002ddisposition-2007"></a></dt>

    <dd>Disposition of junk mail (default:
    &lsquo;<samp><span class="samp">Delete
    Spam</span></samp>&rsquo;). <!--  -->
    <br /></dd>

    <dt><code>mh-junk-program</code><a name=
    "index-mh_002djunk_002dprogram-2008" id=
    "index-mh_002djunk_002dprogram-2008"></a></dt>

    <dd>Spam program that MH-E should use (default:
    &lsquo;<samp><span class=
    "samp">Auto-detect</span></samp>&rsquo;).</dd>
  </dl>

  <p><a name="index-SpamProbe-2009" id=
  "index-SpamProbe-2009"></a><a name="index-Spamassassin-2010" id=
  "index-Spamassassin-2010"></a><a name="index-bogofilter-2011" id=
  "index-bogofilter-2011"></a><a name=
  "index-spam-filters_002c-SpamProbe-2012" id=
  "index-spam-filters_002c-SpamProbe-2012"></a><a name=
  "index-spam-filters_002c-Spamassassin-2013" id=
  "index-spam-filters_002c-Spamassassin-2013"></a><a name=
  "index-spam-filters_002c-bogofilter-2014" id=
  "index-spam-filters_002c-bogofilter-2014"></a> MH-E depends on
  <a href="http://spamassassin.apache.org/">SpamAssassin</a>,
  <a href="http://bogofilter.sourceforge.net/">bogofilter</a>, or
  <a href="http://spamprobe.sourceforge.net/">SpamProbe</a> to
  throw the dreck away. This chapter describes briefly how to
  configure these programs to work well with MH-E and how to use
  MH-E's interface that provides continuing education for these
  programs.</p>

  <p><a name="index-mh_002djunk_002dprogram-2015" id=
  "index-mh_002djunk_002dprogram-2015"></a> The default setting of
  the option <code>mh-junk-program</code> is
  &lsquo;<samp><span class="samp">Auto-detect</span></samp>&rsquo;
  which means that MH-E will automatically choose one of
  SpamAssassin, bogofilter, or SpamProbe in that order. If, for
  example, you have both SpamAssassin and bogofilter installed and
  you want to use bogofilter, then you can set this option to
  &lsquo;<samp><span class=
  "samp">Bogofilter</span></samp>&rsquo;.</p>

  <p><a name="index-mh_002djunk_002dblacklist-2016" id=
  "index-mh_002djunk_002dblacklist-2016"></a><a name=
  "index-J-b-2017" id="index-J-b-2017"></a><a name=
  "index-mh_002djunk_002ddisposition-2018" id=
  "index-mh_002djunk_002ddisposition-2018"></a> The command <kbd>J
  b</kbd> (<code>mh-junk-blacklist</code>) trains the spam program
  in use with the content of the range (see <a href=
  "Ranges.html#Ranges">Ranges</a>) and then handles the message(s)
  as specified by the option <code>mh-junk-disposition</code>. By
  default, this option is set to &lsquo;<samp><span class=
  "samp">Delete Spam</span></samp>&rsquo; but you can also specify
  the name of the folder which is useful for building a corpus of
  spam for training purposes.</p>

  <p><a name="index-mh_002djunk_002dwhitelist-2019" id=
  "index-mh_002djunk_002dwhitelist-2019"></a><a name=
  "index-J-w-2020" id="index-J-w-2020"></a> In contrast, the
  command <kbd>J w</kbd> (<code>mh-junk-whitelist</code>)
  reclassifies a range of messages (see <a href=
  "Ranges.html#Ranges">Ranges</a>) as ham if it were incorrectly
  classified as spam. It then refiles the message into the
  <samp><span class="file">+inbox</span></samp> folder.</p>

  <p><a name=
  "index-g_t_0040samp_007b_002aMH_002dE-Log_002a_007d-2021" id=
  "index-g_t_0040samp_007b_002aMH_002dE-Log_002a_007d-2021"></a><a name="index-buffers_002c-_0040samp_007b_002aMH_002dE-Log_002a_007d-2022"
  id=
  "index-buffers_002c-_0040samp_007b_002aMH_002dE-Log_002a_007d-2022"></a><a name="index-call_002dprocess-2023"
  id="index-call_002dprocess-2023"></a><a name=
  "index-mh_002djunk_002dbackground-2024" id=
  "index-mh_002djunk_002dbackground-2024"></a> By default, the
  programs are run in the foreground, but this can be slow when
  junking large numbers of messages. If you have enough memory or
  don't junk that many messages at the same time, you might try
  turning on the option <code>mh-junk-background</code>. <a rel=
  "footnote" href="#fn-1" name="fnd-1" id=
  "fnd-1"><sup>1</sup></a></p>

  <p>The following sections discuss the various counter-spam
  measures that MH-E can work with.</p>

  <p><a name="index-g_t_0040file_007b_002eprocmailrc_007d-2025" id=
  "index-g_t_0040file_007b_002eprocmailrc_007d-2025"></a><a name=
  "index-files_002c-_0040file_007b_002eprocmailrc_007d-2026" id=
  "index-files_002c-_0040file_007b_002eprocmailrc_007d-2026"></a></p>

  <h4 class="subheading">SpamAssassin</h4>

  <p><a name="index-Spamassassin-2027" id=
  "index-Spamassassin-2027"></a><a name=
  "index-spam-filters_002c-Spamassassin-2028" id=
  "index-spam-filters_002c-Spamassassin-2028"></a> SpamAssassin is
  one of the more popular spam filtering programs. Get it from your
  local distribution or from the <a href=
  "http://spamassassin.apache.org/">SpamAssassin web site</a>.</p>

  <p>To use SpamAssassin, add the following recipes to
  <samp><span class="file">~/.procmailrc</span></samp>:</p>

  <p><a name="index-g_t_0040command_007bspamc_007d-2029" id=
  "index-g_t_0040command_007bspamc_007d-2029"></a><a name=
  "index-g_t_0040samp_007bX_002dSpam_002dLevel_003a_007d-header-field-2030"
  id=
  "index-g_t_0040samp_007bX_002dSpam_002dLevel_003a_007d-header-field-2030"></a><a name="index-g_t_0040samp_007bX_002dSpam_002dStatus_003a_007d-header-field-2031"
  id=
  "index-g_t_0040samp_007bX_002dSpam_002dStatus_003a_007d-header-field-2031"></a><a name="index-header-field_002c-_0040samp_007bX_002dSpam_002dLevel_003a_007d-2032"
  id=
  "index-header-field_002c-_0040samp_007bX_002dSpam_002dLevel_003a_007d-2032"></a><a name="index-header-field_002c-_0040samp_007bX_002dSpam_002dStatus_003a_007d-2033"
  id=
  "index-header-field_002c-_0040samp_007bX_002dSpam_002dStatus_003a_007d-2033"></a></p>
  <pre class="smallexample">
     PATH=$PATH:/usr/bin/mh
     MAILDIR=$HOME/`mhparam Path`

     # Fight spam with SpamAssassin.
     :0fw
     | spamc

     # Anything with a spam level of 10 or more is junked immediately.
     :0:
     * ^X-Spam-Level: ..........
     /dev/null

     :0:
     * ^X-Spam-Status: Yes
     spam/.
</pre>

  <p>If you don't use <samp><span class=
  "command">spamc</span></samp>, use &lsquo;<samp><span class=
  "samp">spamassassin -P -a</span></samp>&rsquo;.</p>

  <p>Note that one of the recipes above throws away messages with a
  score greater than or equal to 10. Here's how you can determine a
  value that works best for you.</p>

  <p>First, run &lsquo;<samp><span class="samp">spamassassin
  -t</span></samp>&rsquo; on every mail message in your archive and
  use <samp><span class="command">gnumeric</span></samp> to verify
  that the average plus the standard deviation of good mail is
  under 5, the SpamAssassin default for &ldquo;spam&rdquo;.</p>

  <p>Using <samp><span class="command">gnumeric</span></samp>, sort
  the messages by score and view the messages with the highest
  score. Determine the score which encompasses all of your
  interesting messages and add a couple of points to be
  conservative. Add that many dots to the &lsquo;<samp><span class=
  "samp">X-Spam-Level:</span></samp>&rsquo; header field above to
  send messages with that score down the drain.</p>

  <p>In the example above, messages with a score of 5-9 are set
  aside in the &lsquo;<samp><span class=
  "samp">+spam</span></samp>&rsquo; folder for later review. The
  major weakness of rules-based filters is a plethora of false
  positives so it is worthwhile to check.</p>

  <p><a name="index-mh_002djunk_002dblacklist-2034" id=
  "index-mh_002djunk_002dblacklist-2034"></a><a name=
  "index-mh_002djunk_002dwhitelist-2035" id=
  "index-mh_002djunk_002dwhitelist-2035"></a><a name=
  "index-J-b-2036" id="index-J-b-2036"></a><a name="index-J-w-2037"
  id="index-J-w-2037"></a> If SpamAssassin classifies a message
  incorrectly, or is unsure, you can use the MH-E commands <kbd>J
  b</kbd> (<code>mh-junk-blacklist</code>) and <kbd>J w</kbd>
  (<code>mh-junk-whitelist</code>).</p>

  <p><a name="index-g_t_0040command_007bsa_002dlearn_007d-2038" id=
  "index-g_t_0040command_007bsa_002dlearn_007d-2038"></a><a name=
  "index-g_t_0040file_007b_002espamassassin_002fuser_005fprefs_007d-2039"
  id=
  "index-g_t_0040file_007b_002espamassassin_002fuser_005fprefs_007d-2039"></a><a name="index-files_002c-_0040file_007b_002espamassassin_002fuser_005fprefs_007d-2040"
  id=
  "index-files_002c-_0040file_007b_002espamassassin_002fuser_005fprefs_007d-2040"></a>
  The command <kbd>J b</kbd> (<code>mh-junk-blacklist</code>) adds
  a &lsquo;<samp><span class=
  "samp">blacklist_from</span></samp>&rsquo; entry to
  <samp><span class="file">~/spamassassin/user_prefs</span></samp>,
  deletes the message, and sends the message to the Razor, so that
  others might not see this spam. If the <samp><span class=
  "command">sa-learn</span></samp> command is available, the
  message is also recategorized as spam.</p>

  <p>The command<kbd>J w</kbd> (<code>mh-junk-whitelist</code>)
  adds a &lsquo;<samp><span class=
  "samp">whitelist_from</span></samp>&rsquo; rule to
  &lsquo;<samp><span class=
  "samp">~/.spamassassin/user_prefs</span></samp>&rsquo;. If the
  <samp><span class="command">sa-learn</span></samp> command is
  available, the message is also recategorized as ham.</p>

  <p>Over time, you'll observe that the same host or domain occurs
  repeatedly in the &lsquo;<samp><span class=
  "samp">blacklist_from</span></samp>&rsquo; entries, so you might
  think that you could avoid future spam by blacklisting all mail
  from a particular domain. The utility function
  <code>mh-spamassassin-identify-spammers</code> helps you do
  precisely that. This function displays a frequency count of the
  hosts and domains in the &lsquo;<samp><span class=
  "samp">blacklist_from</span></samp>&rsquo; entries from the last
  blank line in <samp><span class=
  "file">~/.spamassassin/user_prefs</span></samp> to the end of the
  file. This information can be used so that you can replace
  multiple &lsquo;<samp><span class=
  "samp">blacklist_from</span></samp>&rsquo; entries with a single
  wildcard entry such as:</p>
  <pre class="smallexample">
     blacklist_from *@*amazingoffersdirect2u.com
</pre>

  <p>In versions of SpamAssassin (2.50 and on) that support a
  Bayesian classifier, <kbd>J b</kbd>
  <code>(mh-junk-blacklist</code>) uses the program
  <samp><span class="command">sa-learn</span></samp> to
  recategorize the message as spam. Neither MH-E, nor SpamAssassin,
  rebuilds the database after adding words, so you will need to run
  &lsquo;<samp><span class="samp">sa-learn
  --rebuild</span></samp>&rsquo; periodically. This can be done by
  adding the following to your <samp><span class=
  "file">crontab</span></samp>:</p>
  <pre class="smallexample">
     0 * * * *       sa-learn --rebuild &gt; /dev/null 2&gt;&amp;1
</pre>

  <h4 class="subheading">Bogofilter</h4>

  <p><a name="index-bogofilter-2041" id=
  "index-bogofilter-2041"></a><a name=
  "index-spam-filters_002c-bogofilter-2042" id=
  "index-spam-filters_002c-bogofilter-2042"></a> Bogofilter is a
  Bayesian spam filtering program. Get it from your local
  distribution or from the <a href=
  "http://bogofilter.sourceforge.net/">bogofilter web site</a>.</p>

  <p>Bogofilter is taught by running:</p>
  <pre class="smallexample">
     bogofilter -n &lt; good-message
</pre>

  <p>on every good message, and</p>
  <pre class="smallexample">
     bogofilter -s &lt; spam-message
</pre>

  <p><a name="index-full-training-2043" id=
  "index-full-training-2043"></a> on every spam message. This is
  called a <dfn>full training</dfn>; three other training methods
  are described in the FAQ that is distributed with bogofilter.
  Note that most Bayesian filters need 1000 to 5000 of each type of
  message to start doing a good job.</p>

  <p>To use bogofilter, add the following recipes to
  <samp><span class="file">~/.procmailrc</span></samp>:</p>

  <p><a name=
  "index-g_t_0040samp_007bX_002dBogosity_003a_007d-header-field-2044"
  id=
  "index-g_t_0040samp_007bX_002dBogosity_003a_007d-header-field-2044">
  </a><a name=
  "index-header-field_002c-_0040samp_007bX_002dBogosity_003a_007d-2045"
  id=
  "index-header-field_002c-_0040samp_007bX_002dBogosity_003a_007d-2045"></a></p>
  <pre class="smallexample">
     PATH=$PATH:/usr/bin/mh
     MAILDIR=$HOME/`mhparam Path`

     # Fight spam with Bogofilter.
     :0fw
     | bogofilter -3 -e -p

     :0:
     * ^X-Bogosity: Yes, tests=bogofilter
     spam/.

     :0:
     * ^X-Bogosity: Unsure, tests=bogofilter
     spam/unsure/.
</pre>

  <p><a name="index-mh_002djunk_002dblacklist-2046" id=
  "index-mh_002djunk_002dblacklist-2046"></a><a name=
  "index-mh_002djunk_002dwhitelist-2047" id=
  "index-mh_002djunk_002dwhitelist-2047"></a><a name=
  "index-J-b-2048" id="index-J-b-2048"></a><a name="index-J-w-2049"
  id="index-J-w-2049"></a> If bogofilter classifies a message
  incorrectly, or is unsure, you can use the MH-E commands <kbd>J
  b</kbd> (<code>mh-junk-blacklist</code>) and <kbd>J w</kbd>
  (<code>mh-junk-whitelist</code>) to update bogofilter's
  training.</p>

  <p>The <cite>Bogofilter FAQ</cite> suggests that you run the
  following occasionally to shrink the database:</p>
  <pre class="smallexample">
     bogoutil -d wordlist.db | bogoutil -l wordlist.db.new
     mv wordlist.db wordlist.db.prv
     mv wordlist.db.new wordlist.db
</pre>

  <p>The <cite>Bogofilter tuning HOWTO</cite> describes how you can
  fine-tune bogofilter.</p>

  <h4 class="subheading">SpamProbe</h4>

  <p><a name="index-SpamProbe-2050" id=
  "index-SpamProbe-2050"></a><a name=
  "index-spam-filters_002c-SpamProbe-2051" id=
  "index-spam-filters_002c-SpamProbe-2051"></a> SpamProbe is a
  Bayesian spam filtering program. Get it from your local
  distribution or from the <a href=
  "http://spamprobe.sourceforge.net">SpamProbe web site</a>.</p>

  <p>To use SpamProbe, add the following recipes to
  <samp><span class="file">~/.procmailrc</span></samp>:</p>

  <p><a name="index-g_t_0040command_007bformail_007d-2052" id=
  "index-g_t_0040command_007bformail_007d-2052"></a><a name=
  "index-g_t_0040samp_007bX_002dSpamProbe_003a_007d-header-field-2053"
  id=
  "index-g_t_0040samp_007bX_002dSpamProbe_003a_007d-header-field-2053"></a><a name="index-header-field_002c-_0040samp_007bX_002dSpamProbe_003a_007d-2054"
  id=
  "index-header-field_002c-_0040samp_007bX_002dSpamProbe_003a_007d-2054"></a></p>
  <pre class="smallexample">
     PATH=$PATH:/usr/bin/mh
     MAILDIR=$HOME/`mhparam Path`

     # Fight spam with SpamProbe.
     :0
     SCORE=| spamprobe receive

     :0 wf
     | formail -I "X-SpamProbe: $SCORE"

     :0:
     *^X-SpamProbe: SPAM
     spam/.
</pre>

  <p><a name="index-mh_002djunk_002dblacklist-2055" id=
  "index-mh_002djunk_002dblacklist-2055"></a><a name=
  "index-mh_002djunk_002dwhitelist-2056" id=
  "index-mh_002djunk_002dwhitelist-2056"></a><a name=
  "index-J-b-2057" id="index-J-b-2057"></a><a name="index-J-w-2058"
  id="index-J-w-2058"></a> If SpamProbe classifies a message
  incorrectly, you can use the MH-E commands <kbd>J b</kbd>
  (<code>mh-junk-blacklist</code>) and <kbd>J w</kbd>
  (<code>mh-junk-whitelist</code>) to update SpamProbe's
  training.</p>

  <h4 class="subheading">Other Things You Can Do</h4>

  <p>There are a couple of things that you can add to
  <samp><span class="file">~/.procmailrc</span></samp> in order to
  filter out a lot of spam and viruses. The first is to eliminate
  any message with a Windows executable (which is most likely a
  virus). The second is to eliminate mail in character sets that
  you can't read.</p>

  <p><a name=
  "index-g_t_0040samp_007bContent_002dTransfer_002dEncoding_003a_007d-header-field-2059"
  id=
  "index-g_t_0040samp_007bContent_002dTransfer_002dEncoding_003a_007d-header-field-2059">
  </a><a name=
  "index-g_t_0040samp_007bContent_002dType_003a_007d-header-field-2060"
  id=
  "index-g_t_0040samp_007bContent_002dType_003a_007d-header-field-2060"></a><a name="index-g_t_0040samp_007bSubject_003a_007d-header-field-2061"
  id=
  "index-g_t_0040samp_007bSubject_003a_007d-header-field-2061"></a><a name="index-header-field_002c-_0040samp_007bContent_002dTransfer_002dEncoding_003a_007d-2062"
  id=
  "index-header-field_002c-_0040samp_007bContent_002dTransfer_002dEncoding_003a_007d-2062"></a><a name="index-header-field_002c-_0040samp_007bContent_002dType_003a_007d-2063"
  id=
  "index-header-field_002c-_0040samp_007bContent_002dType_003a_007d-2063"></a><a name="index-header-field_002c-_0040samp_007bSubject_003a_007d-2064"
  id=
  "index-header-field_002c-_0040samp_007bSubject_003a_007d-2064"></a></p>
  <pre class="smallexample">
     PATH=$PATH:/usr/bin/mh
     MAILDIR=$HOME/`mhparam Path`

     #
     # Filter messages with win32 executables/virii.
     #
     # These attachments are base64 and have a TVqQAAMAAAAEAAAA//8AALg
     # pattern. The string "this program cannot be run in MS-DOS mode"
     # encoded in base64 is 4fug4AtAnNIbg and helps to avoid false
     # positives (Roland Smith via Pete from the bogofilter mailing list).
     #
     :0 B:
     * ^Content-Transfer-Encoding:.*base64
     * ^TVqQAAMAAAAEAAAA//8AALg
     * 4fug4AtAnNIbg
     spam/exe/.

     #
     # Filter mail in unreadable character sets (from the Bogofilter FAQ).
     #
     UNREADABLE='[^?"]*big5|iso-2022-jp|ISO-2022-KR|euc-kr|gb2312|ks_c_5601-1987'

     :0:
     * 1^0 $ ^Subject:.*=\?($UNREADABLE)
     * 1^0 $ ^Content-Type:.*charset="?($UNREADABLE)
     spam/unreadable/.

     :0:
     * ^Content-Type:.*multipart
     * B ?? $ ^Content-Type:.*^?.*charset="?($UNREADABLE)
     spam/unreadable/.
</pre>

  <div class="footnote">
    <hr />

    <h4>Footnotes</h4>

    <p class="footnote"><small>[<a name="fn-1" href="#fnd-1" id=
    "fn-1">1</a>]</small> Note that the option
    <code>mh-junk-background</code> is used as the
    <code>display</code> argument in the call to
    <code>call-process</code>. Therefore, turning on this option
    means setting its value to &lsquo;<samp><span class=
    "samp">0</span></samp>&rsquo;. You can also set its value to
    &lsquo;<samp><span class="samp">t</span></samp>&rsquo; to
    direct the programs' output to the &lsquo;<samp><span class=
    "samp">*MH-E Log*</span></samp>&rsquo; buffer; this may be
    useful for debugging.</p>
    <hr />
  </div>
</body>
</html>
