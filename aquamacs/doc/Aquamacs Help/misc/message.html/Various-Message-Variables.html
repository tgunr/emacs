<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<!-- This file documents Message, the Emacs message composition mode.

Copyright (C) 1996-2016 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, with the Front-Cover Texts being "A GNU Manual",
and with the Back-Cover Texts as in (a) below.  A copy of the license
is included in the section entitled "GNU Free Documentation License".

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual." -->
<!-- Created by GNU Texinfo 5.2, http://www.gnu.org/software/texinfo/ -->

<head>
  <meta name="generator" content=
  "HTML Tidy for Mac OS X (vers 31 October 2006 - Apple Inc. build 16.1), see www.w3.org" />

  <title>Message Manual: Various Message Variables</title>
  <meta name="description" content=
  "Message Manual: Various Message Variables" />
  <meta name="keywords" content=
  "Message Manual: Various Message Variables" />
  <meta name="resource-type" content="document" />
  <meta name="distribution" content="global" />
  <meta name="Generator" content="makeinfo" />
  <meta http-equiv="Content-Type" content=
  "text/html; charset=us-ascii" />
  <link href="index.html#Top" rel="start" title="Top" />
  <link href="Index.html#Index" rel="index" title="Index" />
  <link href="index.html#SEC_Contents" rel="contents" title=
  "Table of Contents" />
  <link href="Variables.html#Variables" rel="up" title=
  "Variables" />
  <link href="Sending-Variables.html#Sending-Variables" rel="next"
  title="Sending Variables" />
  <link href="Insertion-Variables.html#Insertion-Variables" rel=
  "prev" title="Insertion Variables" />
  <style type="text/css">
/*<![CDATA[*/
  <!--
  a.summary-letter {text-decoration: none}
  blockquote.smallquotation {font-size: smaller}
  div.display {margin-left: 3.2em}
  div.example {margin-left: 3.2em}
  div.indentedblock {margin-left: 3.2em}
  div.lisp {margin-left: 3.2em}
  div.smalldisplay {margin-left: 3.2em}
  div.smallexample {margin-left: 3.2em}
  div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
  div.smalllisp {margin-left: 3.2em}
  kbd {font-style:oblique}
  pre.display {font-family: inherit}
  pre.format {font-family: inherit}
  pre.menu-comment {font-family: serif}
  pre.menu-preformatted {font-family: serif}
  pre.smalldisplay {font-family: inherit; font-size: smaller}
  pre.smallexample {font-size: smaller}
  pre.smallformat {font-family: inherit; font-size: smaller}
  pre.smalllisp {font-size: smaller}
  span.nocodebreak {white-space:nowrap}
  span.nolinebreak {white-space:nowrap}
  span.roman {font-family:serif; font-weight:normal}
  span.sansserif {font-family:sans-serif; font-weight:normal}
  ul.no-bullet {list-style: none}
  -->
  /*]]>*/
  </style>
  <style type="text/css">
/*<![CDATA[*/
  body {
  background-color: #FFFFFF;
  color: #000000;
  }
  :link { color: #0000FF }
  :visited { color: #800080 }
  :active { color: #FF0000 }
  /*]]>*/
  </style>
</head>

<body lang="en" xml:lang="en">
  <a name="Various-Message-Variables" id=
  "Various-Message-Variables"></a>

  <div class="header">
    <p>Next: <a href="Sending-Variables.html#Sending-Variables"
    accesskey="n" rel="next">Sending Variables</a>, Previous:
    <a href="Insertion-Variables.html#Insertion-Variables"
    accesskey="p" rel="prev">Insertion Variables</a>, Up: <a href=
    "Variables.html#Variables" accesskey="u" rel="up">Variables</a>
    &nbsp; [<a href="index.html#SEC_Contents" title=
    "Table of contents" rel="contents">Contents</a>][<a href=
    "Index.html#Index" title="Index" rel="index">Index</a>]</p>
  </div>
  <hr />
  <a name="Various-Message-Variables-1" id=
  "Various-Message-Variables-1"></a>

  <h3 class="section">3.7 Various Message Variables</h3>

  <dl compact="compact">
    <dt><code>message-default-charset</code></dt>

    <dd>
      <a name="index-message_002ddefault_002dcharset" id=
      "index-message_002ddefault_002dcharset"></a> <a name=
      "index-charset" id="index-charset"></a>

      <p>Symbol naming a <acronym>MIME</acronym> charset.
      Non-<acronym>ASCII</acronym> characters in messages are
      assumed to be encoded using this charset. The default is
      <code>iso-8859-1</code> on non-<small>MULE</small> Emacsen;
      otherwise <code>nil</code>, which means ask the user. (This
      variable is used only on non-<small>MULE</small> Emacsen.)
      See <a href=
      "../emacs-mime/Charset-Translation.html#Charset-Translation">Charset
      Translation</a> in <cite>Emacs MIME Manual</cite>, for
      details on the <small>MULE</small>-to-<acronym>MIME</acronym>
      translation process.</p>
    </dd>

    <dt><code>message-fill-column</code></dt>

    <dd>
      <a name="index-message_002dfill_002dcolumn" id=
      "index-message_002dfill_002dcolumn"></a> <a name=
      "index-auto_002dfill" id="index-auto_002dfill"></a>

      <p>Local value for the column beyond which automatic
      line-wrapping should happen for message buffers. If
      non-<code>nil</code> (the default), also turn on auto-fill in
      message buffers.</p>
    </dd>

    <dt><code>message-signature-separator</code></dt>

    <dd>
      <a name="index-message_002dsignature_002dseparator" id=
      "index-message_002dsignature_002dseparator"></a>

      <p>Regexp matching the signature separator. It is
      &lsquo;<samp>^-- *$</samp>&rsquo; by default.</p>
    </dd>

    <dt><code>mail-header-separator</code></dt>

    <dd>
      <a name="index-mail_002dheader_002dseparator" id=
      "index-mail_002dheader_002dseparator"></a>

      <p>String used to separate the headers from the body. It is
      &lsquo;<samp>--text follows this line--</samp>&rsquo; by
      default.</p>
    </dd>

    <dt><code>message-directory</code></dt>

    <dd>
      <a name="index-message_002ddirectory" id=
      "index-message_002ddirectory"></a>

      <p>Directory used by many mailish things. The default is
      <samp>~/Mail/</samp>. All other mail file variables are
      derived from <code>message-directory</code>.</p>
    </dd>

    <dt><code>message-auto-save-directory</code></dt>

    <dd>
      <a name="index-message_002dauto_002dsave_002ddirectory" id=
      "index-message_002dauto_002dsave_002ddirectory"></a>

      <p>Directory where Message auto-saves buffers if Gnus
      isn&rsquo;t running. If <code>nil</code>, Message won&rsquo;t
      auto-save. The default is <samp>~/Mail/drafts/</samp>.</p>
    </dd>

    <dt><code>message-signature-setup-hook</code></dt>

    <dd>
      <a name="index-message_002dsignature_002dsetup_002dhook" id=
      "index-message_002dsignature_002dsetup_002dhook"></a>

      <p>Hook run when initializing the message buffer. It is run
      after the headers have been inserted but before the signature
      has been inserted.</p>
    </dd>

    <dt><code>message-setup-hook</code></dt>

    <dd>
      <a name="index-message_002dsetup_002dhook" id=
      "index-message_002dsetup_002dhook"></a>

      <p>Hook run as the last thing when the message buffer has
      been initialized, but before yanked text is inserted.</p>
    </dd>

    <dt><code>message-header-setup-hook</code></dt>

    <dd>
      <a name="index-message_002dheader_002dsetup_002dhook" id=
      "index-message_002dheader_002dsetup_002dhook"></a>

      <p>Hook called narrowed to the headers after initializing the
      headers.</p>

      <p>For instance, if you&rsquo;re running Gnus and wish to
      insert a &lsquo;<samp>Mail-Copies-To</samp>&rsquo; header in
      all your news articles and all messages you send to mailing
      lists, you could do something like the following:</p>

      <div class="lisp">
        <pre class="lisp">
(defun my-message-header-setup-hook ()
  (let ((group (or gnus-newsgroup-name "")))
    (when (or (message-fetch-field "newsgroups")
              (gnus-group-find-parameter group 'to-address)
              (gnus-group-find-parameter group 'to-list))
      (insert "Mail-Copies-To: never\n"))))

(add-hook 'message-header-setup-hook
          'my-message-header-setup-hook)
</pre>
      </div>
    </dd>

    <dt><code>message-send-hook</code></dt>

    <dd>
      <a name="index-message_002dsend_002dhook" id=
      "index-message_002dsend_002dhook"></a>

      <p>Hook run before sending messages.</p>

      <p>If you want to add certain headers before sending, you can
      use the <code>message-add-header</code> function in this
      hook. For instance: <a name=
      "index-message_002dadd_002dheader" id=
      "index-message_002dadd_002dheader"></a></p>

      <div class="lisp">
        <pre class="lisp">
(add-hook 'message-send-hook 'my-message-add-content)
(defun my-message-add-content ()
  (message-add-header "X-In-No-Sense: Nonsense")
  (message-add-header "X-Whatever: no"))
</pre>
      </div>

      <p>This function won&rsquo;t add the header if the header is
      already present.</p>
    </dd>

    <dt><code>message-send-mail-hook</code></dt>

    <dd>
      <a name="index-message_002dsend_002dmail_002dhook" id=
      "index-message_002dsend_002dmail_002dhook"></a>

      <p>Hook run before sending mail messages. This hook is run
      very late: just before the message is actually sent as
      mail.</p>
    </dd>

    <dt><code>message-send-news-hook</code></dt>

    <dd>
      <a name="index-message_002dsend_002dnews_002dhook" id=
      "index-message_002dsend_002dnews_002dhook"></a>

      <p>Hook run before sending news messages. This hook is run
      very late: just before the message is actually sent as
      news.</p>
    </dd>

    <dt><code>message-sent-hook</code></dt>

    <dd>
      <a name="index-message_002dsent_002dhook" id=
      "index-message_002dsent_002dhook"></a>

      <p>Hook run after sending messages.</p>
    </dd>

    <dt><code>message-cancel-hook</code></dt>

    <dd>
      <a name="index-message_002dcancel_002dhook" id=
      "index-message_002dcancel_002dhook"></a>

      <p>Hook run when canceling news articles.</p>
    </dd>

    <dt><code>message-mode-syntax-table</code></dt>

    <dd>
      <a name="index-message_002dmode_002dsyntax_002dtable" id=
      "index-message_002dmode_002dsyntax_002dtable"></a>

      <p>Syntax table used in message mode buffers.</p>
    </dd>

    <dt><code>message-cite-articles-with-x-no-archive</code></dt>

    <dd>
      <a name=
      "index-message_002dcite_002darticles_002dwith_002dx_002dno_002darchive"
      id=
      "index-message_002dcite_002darticles_002dwith_002dx_002dno_002darchive">
      </a>

      <p>If non-<code>nil</code>, don&rsquo;t strip quoted text
      from articles that have
      &lsquo;<samp>X-No-Archive</samp>&rsquo; set. Even if this
      variable isn&rsquo;t set, you can undo the stripping by
      hitting the <code>undo</code> keystroke.</p>
    </dd>

    <dt><code>message-strip-special-text-properties</code></dt>

    <dd>
      <a name=
      "index-message_002dstrip_002dspecial_002dtext_002dproperties"
      id=
      "index-message_002dstrip_002dspecial_002dtext_002dproperties">
      </a>

      <p>Emacs has a number of special text properties which can
      break message composing in various ways. If this option is
      set, message will strip these properties from the message
      composition buffer. However, some packages requires these
      properties to be present in order to work. If you use one of
      these packages, turn this option off, and hope the message
      composition doesn&rsquo;t break too bad.</p>
    </dd>

    <dt><code>message-send-method-alist</code></dt>

    <dd>
      <a name="index-message_002dsend_002dmethod_002dalist" id=
      "index-message_002dsend_002dmethod_002dalist"></a> <a name=
      "index-message_002dmail_002dp" id=
      "index-message_002dmail_002dp"></a> <a name=
      "index-message_002dnews_002dp" id=
      "index-message_002dnews_002dp"></a> <a name=
      "index-message_002dsend_002dvia_002dmail" id=
      "index-message_002dsend_002dvia_002dmail"></a> <a name=
      "index-message_002dsend_002dvia_002dnews" id=
      "index-message_002dsend_002dvia_002dnews"></a>

      <p>Alist of ways to send outgoing messages. Each element has
      the form:</p>

      <div class="lisp">
        <pre class="lisp">
(<var>type</var> <var>predicate</var> <var>function</var>)
</pre>
      </div>

      <dl compact="compact">
        <dt><var>type</var></dt>

        <dd>
          <p>A symbol that names the method.</p>
        </dd>

        <dt><var>predicate</var></dt>

        <dd>
          <p>A function called without any parameters to determine
          whether the message is a message of type <var>type</var>.
          The function will be called in the buffer where the
          message is.</p>
        </dd>

        <dt><var>function</var></dt>

        <dd>
          <p>A function to be called if <var>predicate</var>
          returns non-<code>nil</code>. <var>function</var> is
          called with one parameter&mdash;the prefix.</p>
        </dd>
      </dl>

      <p>The default is:</p>

      <div class="lisp">
        <pre class="lisp">
((news message-news-p message-send-via-news)
 (mail message-mail-p message-send-via-mail))
</pre>
      </div>

      <p>The <code>message-news-p</code> function returns
      non-<code>nil</code> if the message looks like news, and the
      <code>message-send-via-news</code> function sends the message
      according to the <code>message-send-news-function</code>
      variable (see <a href=
      "News-Variables.html#News-Variables">News Variables</a>). The
      <code>message-mail-p</code> function returns
      non-<code>nil</code> if the message looks like mail, and the
      <code>message-send-via-mail</code> function sends the message
      according to the <code>message-send-mail-function</code>
      variable (see <a href=
      "Mail-Variables.html#Mail-Variables">Mail Variables</a>).</p>

      <p>All the elements in this alist will be tried in order, so
      a message containing both a valid
      &lsquo;<samp>Newsgroups</samp>&rsquo; header and a valid
      &lsquo;<samp>To</samp>&rsquo; header, for example, will be
      sent as news, and then as mail.</p>
    </dd>
  </dl>
  <hr />

  <div class="header">
    <p>Next: <a href="Sending-Variables.html#Sending-Variables"
    accesskey="n" rel="next">Sending Variables</a>, Previous:
    <a href="Insertion-Variables.html#Insertion-Variables"
    accesskey="p" rel="prev">Insertion Variables</a>, Up: <a href=
    "Variables.html#Variables" accesskey="u" rel="up">Variables</a>
    &nbsp; [<a href="index.html#SEC_Contents" title=
    "Table of contents" rel="contents">Contents</a>][<a href=
    "Index.html#Index" title="Index" rel="index">Index</a>]</p>
  </div>
</body>
</html>
