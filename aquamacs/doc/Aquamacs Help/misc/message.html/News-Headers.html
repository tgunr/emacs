<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<!-- This file documents Message, the Emacs message composition mode.

Copyright (C) 1996-2016 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, with the Front-Cover Texts being "A GNU Manual",
and with the Back-Cover Texts as in (a) below.  A copy of the license
is included in the section entitled "GNU Free Documentation License".

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual." -->
<!-- Created by GNU Texinfo 5.2, http://www.gnu.org/software/texinfo/ -->

<head>
  <meta name="generator" content=
  "HTML Tidy for Mac OS X (vers 31 October 2006 - Apple Inc. build 16.1), see www.w3.org" />

  <title>Message Manual: News Headers</title>
  <meta name="description" content=
  "Message Manual: News Headers" />
  <meta name="keywords" content="Message Manual: News Headers" />
  <meta name="resource-type" content="document" />
  <meta name="distribution" content="global" />
  <meta name="Generator" content="makeinfo" />
  <meta http-equiv="Content-Type" content=
  "text/html; charset=us-ascii" />
  <link href="index.html#Top" rel="start" title="Top" />
  <link href="Index.html#Index" rel="index" title="Index" />
  <link href="index.html#SEC_Contents" rel="contents" title=
  "Table of Contents" />
  <link href="Variables.html#Variables" rel="up" title=
  "Variables" />
  <link href="News-Variables.html#News-Variables" rel="next" title=
  "News Variables" />
  <link href="Mail-Variables.html#Mail-Variables" rel="prev" title=
  "Mail Variables" />
  <style type="text/css">
/*<![CDATA[*/
  <!--
  a.summary-letter {text-decoration: none}
  blockquote.smallquotation {font-size: smaller}
  div.display {margin-left: 3.2em}
  div.example {margin-left: 3.2em}
  div.indentedblock {margin-left: 3.2em}
  div.lisp {margin-left: 3.2em}
  div.smalldisplay {margin-left: 3.2em}
  div.smallexample {margin-left: 3.2em}
  div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
  div.smalllisp {margin-left: 3.2em}
  kbd {font-style:oblique}
  pre.display {font-family: inherit}
  pre.format {font-family: inherit}
  pre.menu-comment {font-family: serif}
  pre.menu-preformatted {font-family: serif}
  pre.smalldisplay {font-family: inherit; font-size: smaller}
  pre.smallexample {font-size: smaller}
  pre.smallformat {font-family: inherit; font-size: smaller}
  pre.smalllisp {font-size: smaller}
  span.nocodebreak {white-space:nowrap}
  span.nolinebreak {white-space:nowrap}
  span.roman {font-family:serif; font-weight:normal}
  span.sansserif {font-family:sans-serif; font-weight:normal}
  ul.no-bullet {list-style: none}
  -->
  /*]]>*/
  </style>
  <style type="text/css">
/*<![CDATA[*/
  body {
  background-color: #FFFFFF;
  color: #000000;
  }
  :link { color: #0000FF }
  :visited { color: #800080 }
  :active { color: #FF0000 }
  /*]]>*/
  </style>
</head>

<body lang="en" xml:lang="en">
  <a name="News-Headers" id="News-Headers"></a>

  <div class="header">
    <p>Next: <a href="News-Variables.html#News-Variables"
    accesskey="n" rel="next">News Variables</a>, Previous: <a href=
    "Mail-Variables.html#Mail-Variables" accesskey="p" rel=
    "prev">Mail Variables</a>, Up: <a href=
    "Variables.html#Variables" accesskey="u" rel="up">Variables</a>
    &nbsp; [<a href="index.html#SEC_Contents" title=
    "Table of contents" rel="contents">Contents</a>][<a href=
    "Index.html#Index" title="Index" rel="index">Index</a>]</p>
  </div>
  <hr />
  <a name="News-Headers-1" id="News-Headers-1"></a>

  <h3 class="section">3.4 News Headers</h3><a name=
  "index-message_002drequired_002dnews_002dheaders" id=
  "index-message_002drequired_002dnews_002dheaders"></a>

  <p><code>message-required-news-headers</code> a list of header
  symbols. These headers will either be automatically generated,
  or, if that&rsquo;s impossible, they will be prompted for. The
  following symbols are valid:</p>

  <dl compact="compact">
    <dt><code>From</code></dt>

    <dd>
      <a name="index-From" id="index-From"></a> <a name=
      "index-user_002dfull_002dname" id=
      "index-user_002dfull_002dname"></a> <a name=
      "index-user_002dmail_002daddress" id=
      "index-user_002dmail_002daddress"></a>

      <p>This required header will be filled out with the result of
      the <code>message-make-from</code> function, which depends on
      the <code>message-from-style</code>,
      <code>user-full-name</code>, <code>user-mail-address</code>
      variables.</p>
    </dd>

    <dt><code>Subject</code></dt>

    <dd>
      <a name="index-Subject-1" id="index-Subject-1"></a>

      <p>This required header will be prompted for if not present
      already.</p>
    </dd>

    <dt><code>Newsgroups</code></dt>

    <dd>
      <a name="index-Newsgroups" id="index-Newsgroups"></a>

      <p>This required header says which newsgroups the article is
      to be posted to. If it isn&rsquo;t present already, it will
      be prompted for.</p>
    </dd>

    <dt><code>Organization</code></dt>

    <dd>
      <a name="index-organization" id="index-organization"></a>
      <a name="index-message_002duser_002dorganization" id=
      "index-message_002duser_002dorganization"></a> <a name=
      "index-message_002duser_002dorganization_002dfile" id=
      "index-message_002duser_002dorganization_002dfile"></a>

      <p>This optional header will be filled out depending on the
      <code>message-user-organization</code> variable.
      <code>message-user-organization-file</code> will be used if
      this variable is <code>t</code>. This variable can also be a
      string (in which case this string will be used), or it can be
      a function (which will be called with no parameters and
      should return a string to be used).</p>
    </dd>

    <dt><code>Lines</code></dt>

    <dd>
      <a name="index-Lines" id="index-Lines"></a>

      <p>This optional header will be computed by Message.</p>
    </dd>

    <dt><code>Message-ID</code></dt>

    <dd>
      <a name="index-Message_002dID" id="index-Message_002dID"></a>
      <a name="index-message_002duser_002dfqdn" id=
      "index-message_002duser_002dfqdn"></a> <a name=
      "index-mail_002dhost_002daddress" id=
      "index-mail_002dhost_002daddress"></a> <a name=
      "index-user_002dmail_002daddress-1" id=
      "index-user_002dmail_002daddress-1"></a> <a name=
      "index-system_002dname" id="index-system_002dname"></a>
      <a name="index-Sun" id="index-Sun"></a> <a name=
      "index-i_002ddid_002dnot_002dset_002d_002dmail_002dhost_002daddress_002d_002dso_002dtickle_002dme"
      id=
      "index-i_002ddid_002dnot_002dset_002d_002dmail_002dhost_002daddress_002d_002dso_002dtickle_002dme">
      </a>

      <p>This required header will be generated by Message. A
      unique ID will be created based on the date, time, user name
      (for the local part) and the domain part. For the domain
      part, message will look (in this order) at
      <code>message-user-fqdn</code>, <code>system-name</code>,
      <code>mail-host-address</code> and
      <code>message-user-mail-address</code> (i.e.,
      <code>user-mail-address</code>) until a probably valid fully
      qualified domain name (FQDN) was found.</p>
    </dd>

    <dt><code>User-Agent</code></dt>

    <dd>
      <a name="index-User_002dAgent" id="index-User_002dAgent"></a>

      <p>This optional header will be filled out according to the
      <code>message-newsreader</code> local variable.</p>
    </dd>

    <dt><code>In-Reply-To</code></dt>

    <dd>
      <p>This optional header is filled out using the
      <code>Date</code> and <code>From</code> header of the article
      being replied to.</p>
    </dd>

    <dt><code>Expires</code></dt>

    <dd>
      <a name="index-Expires" id="index-Expires"></a> <a name=
      "index-message_002dexpires" id=
      "index-message_002dexpires"></a>

      <p>This extremely optional header will be inserted according
      to the <code>message-expires</code> variable. It is highly
      deprecated and shouldn&rsquo;t be used unless you know what
      you&rsquo;re doing.</p>
    </dd>

    <dt><code>Distribution</code></dt>

    <dd>
      <a name="index-Distribution" id="index-Distribution"></a>
      <a name="index-message_002ddistribution_002dfunction" id=
      "index-message_002ddistribution_002dfunction"></a>

      <p>This optional header is filled out according to the
      <code>message-distribution-function</code> variable. It is a
      deprecated and much misunderstood header.</p>
    </dd>

    <dt><code>Path</code></dt>

    <dd>
      <a name="index-path" id="index-path"></a> <a name=
      "index-message_002duser_002dpath" id=
      "index-message_002duser_002dpath"></a>

      <p>This extremely optional header should probably never be
      used. However, some <em>very</em> old servers require that
      this header is present. <code>message-user-path</code>
      further controls how this <code>Path</code> header is to
      look. If it is <code>nil</code>, use the server name as the
      leaf node. If it is a string, use the string. If it is
      neither a string nor <code>nil</code>, use the user name
      only. However, it is highly unlikely that you should need to
      fiddle with this variable at all.</p>
    </dd>
  </dl><a name="index-Mime_002dVersion" id=
  "index-Mime_002dVersion"></a>

  <p>In addition, you can enter conses into this list. The
  <small>CAR</small> of this cons should be a symbol. This
  symbol&rsquo;s name is the name of the header, and the
  <small>CDR</small> can either be a string to be entered verbatim
  as the value of this header, or it can be a function to be
  called. This function should take no arguments, and return a
  string to be inserted. For instance, if you want to insert
  <code>Mime-Version: 1.0</code>, you should enter
  <code>(Mime-Version . "1.0")</code> into the list.</p>

  <p>If the list contains a cons where the <small>CAR</small> of
  the cons is <code>optional</code>, the <small>CDR</small> of this
  cons will only be inserted if it is non-<code>nil</code>.</p>

  <p>If you want to delete an entry from this list, the following
  Lisp snippet might be useful. Adjust accordingly if you want to
  remove another element.</p>

  <div class="lisp">
    <pre class="lisp">
(setq message-required-news-headers
      (delq 'Message-ID message-required-news-headers))
</pre>
  </div>

  <p>Other variables for customizing outgoing news articles:</p>

  <dl compact="compact">
    <dt><code>message-syntax-checks</code></dt>

    <dd>
      <a name="index-message_002dsyntax_002dchecks" id=
      "index-message_002dsyntax_002dchecks"></a>

      <p>Controls what syntax checks should not be performed on
      outgoing posts. To disable checking of long signatures, for
      instance, add</p>

      <div class="lisp">
        <pre class="lisp">
(signature . disabled)
</pre>
      </div>

      <p>to this list.</p>

      <p>Valid checks are:</p>

      <dl compact="compact">
        <dt><code>approved</code></dt>

        <dd>
          <a name="index-approved" id="index-approved"></a>

          <p>Check whether the article has an <code>Approved</code>
          header, which is something only moderators should
          include.</p>
        </dd>

        <dt><code>continuation-headers</code></dt>

        <dd>
          <p>Check whether there are continuation header lines that
          don&rsquo;t begin with whitespace.</p>
        </dd>

        <dt><code>control-chars</code></dt>

        <dd>
          <p>Check for invalid characters.</p>
        </dd>

        <dt><code>empty</code></dt>

        <dd>
          <p>Check whether the article is empty.</p>
        </dd>

        <dt><code>existing-newsgroups</code></dt>

        <dd>
          <p>Check whether the newsgroups mentioned in the
          <code>Newsgroups</code> and <code>Followup-To</code>
          headers exist.</p>
        </dd>

        <dt><code>from</code></dt>

        <dd>
          <p>Check whether the <code>From</code> header seems
          nice.</p>
        </dd>

        <dt><code>illegible-text</code></dt>

        <dd>
          <p>Check whether there is any non-printable character in
          the body.</p>
        </dd>

        <dt><code>invisible-text</code></dt>

        <dd>
          <p>Check whether there is any invisible text in the
          buffer.</p>
        </dd>

        <dt><code>long-header-lines</code></dt>

        <dd>
          <p>Check for too long header lines.</p>
        </dd>

        <dt><code>long-lines</code></dt>

        <dd>
          <a name="index-long-lines" id="index-long-lines"></a>

          <p>Check for too long lines in the body.</p>
        </dd>

        <dt><code>message-id</code></dt>

        <dd>
          <p>Check whether the <code>Message-ID</code> looks
          syntactically ok.</p>
        </dd>

        <dt><code>multiple-headers</code></dt>

        <dd>
          <p>Check for the existence of multiple equal headers.</p>
        </dd>

        <dt><code>new-text</code></dt>

        <dd>
          <p>Check whether there is any new text in the
          messages.</p>
        </dd>

        <dt><code>newsgroups</code></dt>

        <dd>
          <p>Check whether the <code>Newsgroups</code> header
          exists and is not empty.</p>
        </dd>

        <dt><code>quoting-style</code></dt>

        <dd>
          <p>Check whether text follows last quoted portion.</p>
        </dd>

        <dt><code>repeated-newsgroups</code></dt>

        <dd>
          <p>Check whether the <code>Newsgroups</code> and
          <code>Followup-to</code> headers contains repeated group
          names.</p>
        </dd>

        <dt><code>reply-to</code></dt>

        <dd>
          <p>Check whether the <code>Reply-To</code> header looks
          ok.</p>
        </dd>

        <dt><code>sender</code></dt>

        <dd>
          <a name="index-Sender" id="index-Sender"></a>

          <p>Insert a new <code>Sender</code> header if the
          <code>From</code> header looks odd.</p>
        </dd>

        <dt><code>sendsys</code></dt>

        <dd>
          <a name="index-sendsys" id="index-sendsys"></a>

          <p>Check for the existence of version and sendsys
          commands.</p>
        </dd>

        <dt><code>shoot</code></dt>

        <dd>
          <p>Check whether the domain part of the
          <code>Message-ID</code> header looks ok.</p>
        </dd>

        <dt><code>shorten-followup-to</code></dt>

        <dd>
          <p>Check whether to add a <code>Followup-to</code> header
          to shorten the number of groups to post to.</p>
        </dd>

        <dt><code>signature</code></dt>

        <dd>
          <p>Check the length of the signature.</p>
        </dd>

        <dt><code>size</code></dt>

        <dd>
          <p>Check for excessive size.</p>
        </dd>

        <dt><code>subject</code></dt>

        <dd>
          <p>Check whether the <code>Subject</code> header exists
          and is not empty.</p>
        </dd>

        <dt><code>subject-cmsg</code></dt>

        <dd>
          <p>Check the subject for commands.</p>
        </dd>

        <dt><code>valid-newsgroups</code></dt>

        <dd>
          <p>Check whether the <code>Newsgroups</code> and
          <code>Followup-to</code> headers are valid
          syntactically.</p>
        </dd>
      </dl>

      <p>All these conditions are checked by default, except for
      <code>sender</code> for which the check is disabled by
      default if <code>message-insert-canlock</code> is
      non-<code>nil</code> (see <a href=
      "Canceling-News.html#Canceling-News">Canceling News</a>).</p>
    </dd>

    <dt><code>message-ignored-news-headers</code></dt>

    <dd>
      <a name="index-message_002dignored_002dnews_002dheaders" id=
      "index-message_002dignored_002dnews_002dheaders"></a>

      <p>Regexp of headers to be removed before posting. The
      default is<br />
      &lsquo;<samp>^NNTP-Posting-Host:\\|^Xref:\\|^[BGF]cc:\\|^Resent-Fcc:\\|<br />

      ^X-Draft-From:\\|^X-Gnus-Agent-Meta-Information:</samp>&rsquo;.</p>
    </dd>

    <dt><code>message-default-news-headers</code></dt>

    <dd>
      <a name="index-message_002ddefault_002dnews_002dheaders" id=
      "index-message_002ddefault_002dnews_002dheaders"></a>

      <p>This string is inserted at the end of the headers in all
      message buffers that are initialized as news.</p>
    </dd>
  </dl>
  <hr />

  <div class="header">
    <p>Next: <a href="News-Variables.html#News-Variables"
    accesskey="n" rel="next">News Variables</a>, Previous: <a href=
    "Mail-Variables.html#Mail-Variables" accesskey="p" rel=
    "prev">Mail Variables</a>, Up: <a href=
    "Variables.html#Variables" accesskey="u" rel="up">Variables</a>
    &nbsp; [<a href="index.html#SEC_Contents" title=
    "Table of contents" rel="contents">Contents</a>][<a href=
    "Index.html#Index" title="Index" rel="index">Index</a>]</p>
  </div>
</body>
</html>
