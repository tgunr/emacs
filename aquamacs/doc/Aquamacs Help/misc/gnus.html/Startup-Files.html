<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<!-- Copyright (C) 1995-2016 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, with the Front-Cover Texts being "A GNU Manual",
and with the Back-Cover Texts as in (a) below.  A copy of the license
is included in the section entitled "GNU Free Documentation License".

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual." -->
<!-- Created by GNU Texinfo 5.2, http://www.gnu.org/software/texinfo/ -->

<head>
  <meta name="generator" content=
  "HTML Tidy for Mac OS X (vers 31 October 2006 - Apple Inc. build 16.1), see www.w3.org" />

  <title>Gnus Manual: Startup Files</title>
  <meta name="description" content="Gnus Manual: Startup Files" />
  <meta name="keywords" content="Gnus Manual: Startup Files" />
  <meta name="resource-type" content="document" />
  <meta name="distribution" content="global" />
  <meta name="Generator" content="makeinfo" />
  <meta http-equiv="Content-Type" content=
  "text/html; charset=us-ascii" />
  <link href="index.html#Top" rel="start" title="Top" />
  <link href="Index.html#Index" rel="index" title="Index" />
  <link href="index.html#SEC_Contents" rel="contents" title=
  "Table of Contents" />
  <link href="Starting-Up.html#Starting-Up" rel="up" title=
  "Starting Up" />
  <link href="Auto-Save.html#Auto-Save" rel="next" title=
  "Auto Save" />
  <link href="Changing-Servers.html#Changing-Servers" rel="prev"
  title="Changing Servers" />
  <style type="text/css">
/*<![CDATA[*/
  <!--
  a.summary-letter {text-decoration: none}
  blockquote.smallquotation {font-size: smaller}
  div.display {margin-left: 3.2em}
  div.example {margin-left: 3.2em}
  div.indentedblock {margin-left: 3.2em}
  div.lisp {margin-left: 3.2em}
  div.smalldisplay {margin-left: 3.2em}
  div.smallexample {margin-left: 3.2em}
  div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
  div.smalllisp {margin-left: 3.2em}
  kbd {font-style:oblique}
  pre.display {font-family: inherit}
  pre.format {font-family: inherit}
  pre.menu-comment {font-family: serif}
  pre.menu-preformatted {font-family: serif}
  pre.smalldisplay {font-family: inherit; font-size: smaller}
  pre.smallexample {font-size: smaller}
  pre.smallformat {font-family: inherit; font-size: smaller}
  pre.smalllisp {font-size: smaller}
  span.nocodebreak {white-space:nowrap}
  span.nolinebreak {white-space:nowrap}
  span.roman {font-family:serif; font-weight:normal}
  span.sansserif {font-family:sans-serif; font-weight:normal}
  ul.no-bullet {list-style: none}
  -->
  /*]]>*/
  </style>
  <style type="text/css">
/*<![CDATA[*/
  body {
  background-color: #FFFFFF;
  color: #000000;
  }
  :link { color: #0000FF }
  :visited { color: #800080 }
  :active { color: #FF0000 }
  /*]]>*/
  </style>
</head>

<body lang="en" xml:lang="en">
  <a name="Startup-Files" id="Startup-Files"></a>

  <div class="header">
    <p>Next: <a href="Auto-Save.html#Auto-Save" accesskey="n" rel=
    "next">Auto Save</a>, Previous: <a href=
    "Changing-Servers.html#Changing-Servers" accesskey="p" rel=
    "prev">Changing Servers</a>, Up: <a href=
    "Starting-Up.html#Starting-Up" accesskey="u" rel="up">Starting
    Up</a> &nbsp; [<a href="index.html#SEC_Contents" title=
    "Table of contents" rel="contents">Contents</a>][<a href=
    "Index.html#Index" title="Index" rel="index">Index</a>]</p>
  </div>
  <hr />
  <a name="Startup-Files-1" id="Startup-Files-1"></a>

  <h3 class="section">1.6 Startup Files</h3><a name=
  "index-startup-files" id="index-startup-files"></a> <a name=
  "index-_002enewsrc" id="index-_002enewsrc"></a> <a name=
  "index-_002enewsrc_002eel" id="index-_002enewsrc_002eel"></a>
  <a name="index-_002enewsrc_002eeld" id=
  "index-_002enewsrc_002eeld"></a>

  <p>Most common Unix news readers use a shared startup file called
  <samp>.newsrc</samp>. This file contains all the information
  about what groups are subscribed, and which articles in these
  groups have been read.</p>

  <p>Things got a bit more complicated with <small>GNUS</small>. In
  addition to keeping the <samp>.newsrc</samp> file updated, it
  also used a file called <samp>.newsrc.el</samp> for storing all
  the information that didn&rsquo;t fit into the
  <samp>.newsrc</samp> file. (Actually, it also duplicated
  everything in the <samp>.newsrc</samp> file.) <small>GNUS</small>
  would read whichever one of these files was the most recently
  saved, which enabled people to swap between <small>GNUS</small>
  and other newsreaders.</p>

  <p>That was kinda silly, so Gnus went one better: In addition to
  the <samp>.newsrc</samp> and <samp>.newsrc.el</samp> files, Gnus
  also has a file called <samp>.newsrc.eld</samp>. It will read
  whichever of these files that are most recent, but it will never
  write a <samp>.newsrc.el</samp> file. You should never delete the
  <samp>.newsrc.eld</samp> file&mdash;it contains much information
  not stored in the <samp>.newsrc</samp> file.</p><a name=
  "index-gnus_002dsave_002dnewsrc_002dfile" id=
  "index-gnus_002dsave_002dnewsrc_002dfile"></a> <a name=
  "index-gnus_002dread_002dnewsrc_002dfile" id=
  "index-gnus_002dread_002dnewsrc_002dfile"></a>

  <p>You can turn off writing the <samp>.newsrc</samp> file by
  setting <code>gnus-save-newsrc-file</code> to <code>nil</code>,
  which means you can delete the file and save some space, as well
  as exiting from Gnus faster. However, this will make it
  impossible to use other newsreaders than Gnus. But hey, who would
  want to, right? Similarly, setting
  <code>gnus-read-newsrc-file</code> to <code>nil</code> makes Gnus
  ignore the <samp>.newsrc</samp> file and any
  <samp>.newsrc-SERVER</samp> files, which can be convenient if you
  use a different news reader occasionally, and you want to read a
  different subset of the available groups with that news
  reader.</p><a name="index-gnus_002dsave_002dkilled_002dlist" id=
  "index-gnus_002dsave_002dkilled_002dlist"></a>

  <p>If <code>gnus-save-killed-list</code> (default <code>t</code>)
  is <code>nil</code>, Gnus will not save the list of killed groups
  to the startup file. This will save both time (when starting and
  quitting) and space (on disk). It will also mean that Gnus has no
  record of what groups are new or old, so the automatic new groups
  subscription methods become meaningless. You should always set
  <code>gnus-check-new-newsgroups</code> to <code>nil</code> or
  <code>ask-server</code> if you set this variable to
  <code>nil</code> (see <a href="New-Groups.html#New-Groups">New
  Groups</a>). This variable can also be a regular expression. If
  that&rsquo;s the case, remove all groups that do not match this
  regexp before saving. This can be useful in certain obscure
  situations that involve several servers where not all servers
  support <code>ask-server</code>.</p><a name=
  "index-gnus_002dstartup_002dfile" id=
  "index-gnus_002dstartup_002dfile"></a> <a name=
  "index-gnus_002dbackup_002dstartup_002dfile" id=
  "index-gnus_002dbackup_002dstartup_002dfile"></a> <a name=
  "index-version_002dcontrol" id="index-version_002dcontrol"></a>

  <p>The <code>gnus-startup-file</code> variable says where the
  startup files are. The default value is <samp>~/.newsrc</samp>,
  with the Gnus (El Dingo) startup file being whatever that one is,
  with a &lsquo;<samp>.eld</samp>&rsquo; appended. If you want to
  keep multiple numbered backups of this file, set
  <code>gnus-backup-startup-file</code>. It respects the same
  values as the <code>version-control</code> variable.</p><a name=
  "index-gnus_002dsave_002dnewsrc_002dhook" id=
  "index-gnus_002dsave_002dnewsrc_002dhook"></a> <a name=
  "index-gnus_002dsave_002dquick_002dnewsrc_002dhook" id=
  "index-gnus_002dsave_002dquick_002dnewsrc_002dhook"></a> <a name=
  "index-gnus_002dsave_002dstandard_002dnewsrc_002dhook" id=
  "index-gnus_002dsave_002dstandard_002dnewsrc_002dhook"></a>

  <p><code>gnus-save-newsrc-hook</code> is called before saving any
  of the newsrc files, while
  <code>gnus-save-quick-newsrc-hook</code> is called just before
  saving the <samp>.newsrc.eld</samp> file, and
  <code>gnus-save-standard-newsrc-hook</code> is called just before
  saving the <samp>.newsrc</samp> file. The latter two are commonly
  used to turn version control on or off. Version control is on by
  default when saving the startup files. If you want to turn backup
  creation off, say something like:</p>

  <div class="lisp">
    <pre class="lisp">
(defun turn-off-backup ()
  (set (make-local-variable 'backup-inhibited) t))

(add-hook 'gnus-save-quick-newsrc-hook 'turn-off-backup)
(add-hook 'gnus-save-standard-newsrc-hook 'turn-off-backup)
</pre>
  </div><a name="index-gnus_002dinit_002dfile" id=
  "index-gnus_002dinit_002dfile"></a> <a name=
  "index-gnus_002dsite_002dinit_002dfile" id=
  "index-gnus_002dsite_002dinit_002dfile"></a>

  <p>When Gnus starts, it will read the
  <code>gnus-site-init-file</code>
  (<samp>.../site-lisp/gnus-init</samp> by default) and
  <code>gnus-init-file</code> (<samp>~/.gnus</samp> by default)
  files. These are normal Emacs Lisp files and can be used to avoid
  cluttering your <samp>~/.emacs</samp> and <samp>site-init</samp>
  files with Gnus stuff. Gnus will also check for files with the
  same names as these, but with <samp>.elc</samp> and
  <samp>.el</samp> suffixes. In other words, if you have set
  <code>gnus-init-file</code> to <samp>~/.gnus</samp>, it will look
  for <samp>~/.gnus.elc</samp>, <samp>~/.gnus.el</samp>, and
  finally <samp>~/.gnus</samp> (in this order). If Emacs was
  invoked with the <samp>-q</samp> or <samp>--no-init-file</samp>
  options (see <a href=
  "http://www.gnu.org/software/emacs/manual/html_node/emacs/Initial-Options.html#Initial-Options">
  Initial Options</a> in <cite>The Emacs Manual</cite>), Gnus
  doesn&rsquo;t read <code>gnus-init-file</code>.</p>
  <hr />

  <div class="header">
    <p>Next: <a href="Auto-Save.html#Auto-Save" accesskey="n" rel=
    "next">Auto Save</a>, Previous: <a href=
    "Changing-Servers.html#Changing-Servers" accesskey="p" rel=
    "prev">Changing Servers</a>, Up: <a href=
    "Starting-Up.html#Starting-Up" accesskey="u" rel="up">Starting
    Up</a> &nbsp; [<a href="index.html#SEC_Contents" title=
    "Table of contents" rel="contents">Contents</a>][<a href=
    "Index.html#Index" title="Index" rel="index">Index</a>]</p>
  </div>
</body>
</html>
