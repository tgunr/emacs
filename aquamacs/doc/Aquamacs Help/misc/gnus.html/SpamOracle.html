<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<!-- Copyright (C) 1995-2016 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, with the Front-Cover Texts being "A GNU Manual",
and with the Back-Cover Texts as in (a) below.  A copy of the license
is included in the section entitled "GNU Free Documentation License".

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual." -->
<!-- Created by GNU Texinfo 5.2, http://www.gnu.org/software/texinfo/ -->

<head>
  <meta name="generator" content=
  "HTML Tidy for Mac OS X (vers 31 October 2006 - Apple Inc. build 16.1), see www.w3.org" />

  <title>Gnus Manual: SpamOracle</title>
  <meta name="description" content="Gnus Manual: SpamOracle" />
  <meta name="keywords" content="Gnus Manual: SpamOracle" />
  <meta name="resource-type" content="document" />
  <meta name="distribution" content="global" />
  <meta name="Generator" content="makeinfo" />
  <meta http-equiv="Content-Type" content=
  "text/html; charset=us-ascii" />
  <link href="index.html#Top" rel="start" title="Top" />
  <link href="Index.html#Index" rel="index" title="Index" />
  <link href="index.html#SEC_Contents" rel="contents" title=
  "Table of Contents" />
  <link href="Spam-Back-Ends.html#Spam-Back-Ends" rel="up" title=
  "Spam Back Ends" />
  <link href=
  "Extending-the-Spam-package.html#Extending-the-Spam-package" rel=
  "next" title="Extending the Spam package" />
  <link href=
  "Spam-Statistics-Filtering.html#Spam-Statistics-Filtering" rel=
  "prev" title="Spam Statistics Filtering" />
  <style type="text/css">
/*<![CDATA[*/
  <!--
  a.summary-letter {text-decoration: none}
  blockquote.smallquotation {font-size: smaller}
  div.display {margin-left: 3.2em}
  div.example {margin-left: 3.2em}
  div.indentedblock {margin-left: 3.2em}
  div.lisp {margin-left: 3.2em}
  div.smalldisplay {margin-left: 3.2em}
  div.smallexample {margin-left: 3.2em}
  div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
  div.smalllisp {margin-left: 3.2em}
  kbd {font-style:oblique}
  pre.display {font-family: inherit}
  pre.format {font-family: inherit}
  pre.menu-comment {font-family: serif}
  pre.menu-preformatted {font-family: serif}
  pre.smalldisplay {font-family: inherit; font-size: smaller}
  pre.smallexample {font-size: smaller}
  pre.smallformat {font-family: inherit; font-size: smaller}
  pre.smalllisp {font-size: smaller}
  span.nocodebreak {white-space:nowrap}
  span.nolinebreak {white-space:nowrap}
  span.roman {font-family:serif; font-weight:normal}
  span.sansserif {font-family:sans-serif; font-weight:normal}
  ul.no-bullet {list-style: none}
  -->
  /*]]>*/
  </style>
  <style type="text/css">
/*<![CDATA[*/
  body {
  background-color: #FFFFFF;
  color: #000000;
  }
  :link { color: #0000FF }
  :visited { color: #800080 }
  :active { color: #FF0000 }
  /*]]>*/
  </style>
</head>

<body lang="en" xml:lang="en">
  <a name="SpamOracle" id="SpamOracle"></a>

  <div class="header">
    <p>Previous: <a href=
    "Spam-Statistics-Filtering.html#Spam-Statistics-Filtering"
    accesskey="p" rel="prev">Spam Statistics Filtering</a>, Up:
    <a href="Spam-Back-Ends.html#Spam-Back-Ends" accesskey="u" rel=
    "up">Spam Back Ends</a> &nbsp; [<a href=
    "index.html#SEC_Contents" title="Table of contents" rel=
    "contents">Contents</a>][<a href="Index.html#Index" title=
    "Index" rel="index">Index</a>]</p>
  </div>
  <hr />
  <a name="Using-SpamOracle-with-Gnus" id=
  "Using-SpamOracle-with-Gnus"></a>

  <h4 class="subsubsection">9.17.6.11 Using SpamOracle with
  Gnus</h4><a name="index-spam-filtering-14" id=
  "index-spam-filtering-14"></a> <a name="index-SpamOracle" id=
  "index-SpamOracle"></a> <a name="index-spam-17" id=
  "index-spam-17"></a>

  <p>An easy way to filter out spam is to use SpamOracle.
  SpamOracle is an statistical mail filtering tool written by
  Xavier Leroy and needs to be installed separately.</p>

  <p>There are several ways to use SpamOracle with Gnus. In all
  cases, your mail is piped through SpamOracle in its <em>mark</em>
  mode. SpamOracle will then enter an
  &lsquo;<samp>X-Spam</samp>&rsquo; header indicating whether it
  regards the mail as a spam mail or not.</p>

  <p>One possibility is to run SpamOracle as a
  <code>:prescript</code> from the See <a href=
  "Mail-Source-Specifiers.html#Mail-Source-Specifiers">Mail Source
  Specifiers</a>, (see <a href=
  "SpamAssassin.html#SpamAssassin">SpamAssassin</a>). This method
  has the advantage that the user can see the <em>X-Spam</em>
  headers.</p>

  <p>The easiest method is to make <samp>spam.el</samp> (see
  <a href="Spam-Package.html#Spam-Package">Spam Package</a>) call
  SpamOracle.</p><a name="index-spam_002duse_002dspamoracle" id=
  "index-spam_002duse_002dspamoracle"></a>

  <p>To enable SpamOracle usage by <code>spam.el</code>, set the
  variable <code>spam-use-spamoracle</code> to <code>t</code> and
  configure the <code>nnmail-split-fancy</code> or
  <code>nnimap-split-fancy</code>. See <a href=
  "Spam-Package.html#Spam-Package">Spam Package</a>. In this
  example the &lsquo;<samp>INBOX</samp>&rsquo; of an nnimap server
  is filtered using SpamOracle. Mails recognized as spam mails will
  be moved to <code>spam-split-group</code>,
  &lsquo;<samp>Junk</samp>&rsquo; in this case. Ham messages stay
  in &lsquo;<samp>INBOX</samp>&rsquo;:</p>

  <div class="example">
    <pre class="example">
(setq spam-use-spamoracle t
      spam-split-group "Junk"
      ;; <span class=
"roman">for nnimap you&rsquo;ll probably want to set nnimap-split-methods, see the manual</span>
      nnimap-split-inbox '("INBOX")
      nnimap-split-fancy '(| (: spam-split) "INBOX"))
</pre>
  </div>

  <dl>
    <dt><a name="index-spam_002duse_002dspamoracle-1" id=
    "index-spam_002duse_002dspamoracle-1"></a>Variable:
    <strong>spam-use-spamoracle</strong></dt>

    <dd>
      <p>Set to <code>t</code> if you want Gnus to enable spam
      filtering using SpamOracle.</p>
    </dd>
  </dl>

  <dl>
    <dt><a name="index-spam_002dspamoracle_002dbinary" id=
    "index-spam_002dspamoracle_002dbinary"></a>Variable:
    <strong>spam-spamoracle-binary</strong></dt>

    <dd>
      <p>Gnus uses the SpamOracle binary called
      <samp>spamoracle</samp> found in the user&rsquo;s PATH. Using
      the variable <code>spam-spamoracle-binary</code>, this can be
      customized.</p>
    </dd>
  </dl>

  <dl>
    <dt><a name="index-spam_002dspamoracle_002ddatabase" id=
    "index-spam_002dspamoracle_002ddatabase"></a>Variable:
    <strong>spam-spamoracle-database</strong></dt>

    <dd>
      <p>By default, SpamOracle uses the file
      <samp>~/.spamoracle.db</samp> as a database to store its
      analysis. This is controlled by the variable
      <code>spam-spamoracle-database</code> which defaults to
      <code>nil</code>. That means the default SpamOracle database
      will be used. In case you want your database to live
      somewhere special, set <code>spam-spamoracle-database</code>
      to this path.</p>
    </dd>
  </dl>

  <p>SpamOracle employs a statistical algorithm to determine
  whether a message is spam or ham. In order to get good results,
  meaning few false hits or misses, SpamOracle needs training.
  SpamOracle learns the characteristics of your spam mails. Using
  the <em>add</em> mode (training mode) one has to feed good (ham)
  and spam mails to SpamOracle. This can be done by pressing
  <kbd>|</kbd> in the Summary buffer and pipe the mail to a
  SpamOracle process or using <samp>spam.el</samp>&rsquo;s spam-
  and ham-processors, which is much more convenient. For a detailed
  description of spam- and ham-processors, See <a href=
  "Spam-Package.html#Spam-Package">Spam Package</a>.</p>

  <dl>
    <dt><a name=
    "index-gnus_002dgroup_002dspam_002dexit_002dprocessor_002dspamoracle"
    id=
    "index-gnus_002dgroup_002dspam_002dexit_002dprocessor_002dspamoracle">
    </a>Variable:
    <strong>gnus-group-spam-exit-processor-spamoracle</strong></dt>

    <dd>
      <p>Add this symbol to a group&rsquo;s
      <code>spam-process</code> parameter by customizing the group
      parameter or the <code>gnus-spam-process-newsgroups</code>
      variable. When this symbol is added to a group&rsquo;s
      <code>spam-process</code> parameter, spam-marked articles
      will be sent to SpamOracle as spam samples.</p>

      <p><em>WARNING</em></p>

      <p>Instead of the obsolete
      <code>gnus-group-spam-exit-processor-spamoracle</code>, it is
      recommended that you use <code>(spam
      spam-use-spamoracle)</code>. Everything will work the same
      way, we promise.</p>
    </dd>
  </dl>

  <dl>
    <dt><a name=
    "index-gnus_002dgroup_002dham_002dexit_002dprocessor_002dspamoracle"
    id=
    "index-gnus_002dgroup_002dham_002dexit_002dprocessor_002dspamoracle">
    </a>Variable:
    <strong>gnus-group-ham-exit-processor-spamoracle</strong></dt>

    <dd>
      <p>Add this symbol to a group&rsquo;s
      <code>spam-process</code> parameter by customizing the group
      parameter or the <code>gnus-spam-process-newsgroups</code>
      variable. When this symbol is added to a group&rsquo;s
      <code>spam-process</code> parameter, the ham-marked articles
      in <em>ham</em> groups will be sent to the SpamOracle as
      samples of ham messages.</p>

      <p><em>WARNING</em></p>

      <p>Instead of the obsolete
      <code>gnus-group-ham-exit-processor-spamoracle</code>, it is
      recommended that you use <code>(ham
      spam-use-spamoracle)</code>. Everything will work the same
      way, we promise.</p>
    </dd>
  </dl>

  <p><em>Example:</em> These are the Group Parameters of a group
  that has been classified as a ham group, meaning that it should
  only contain ham messages.</p>

  <div class="example">
    <pre class="example">
 ((spam-contents gnus-group-spam-classification-ham)
  (spam-process ((ham spam-use-spamoracle)
                 (spam spam-use-spamoracle))))
</pre>
  </div>

  <p>For this group the <code>spam-use-spamoracle</code> is
  installed for both ham and spam processing. If the group contains
  spam message (e.g., because SpamOracle has not had enough sample
  messages yet) and the user marks some messages as spam messages,
  these messages will be processed by SpamOracle. The processor
  sends the messages to SpamOracle as new samples for spam.</p>
  <hr />

  <div class="header">
    <p>Previous: <a href=
    "Spam-Statistics-Filtering.html#Spam-Statistics-Filtering"
    accesskey="p" rel="prev">Spam Statistics Filtering</a>, Up:
    <a href="Spam-Back-Ends.html#Spam-Back-Ends" accesskey="u" rel=
    "up">Spam Back Ends</a> &nbsp; [<a href=
    "index.html#SEC_Contents" title="Table of contents" rel=
    "contents">Contents</a>][<a href="Index.html#Index" title=
    "Index" rel="index">Index</a>]</p>
  </div>
</body>
</html>
