<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<!-- This manual is for CC Mode in Emacs.

Copyright (C) 1995-2016 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, with the Front-Cover Texts being "A GNU Manual",
and with the Back-Cover Texts as in (a) below.  A copy of the license
is included in the section entitled "GNU Free Documentation License".

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual." -->
<!-- Created by GNU Texinfo 5.2, http://www.gnu.org/software/texinfo/ -->

<head>
  <meta name="generator" content=
  "HTML Tidy for Mac OS X (vers 31 October 2006 - Apple Inc. build 16.1), see www.w3.org" />

  <title>CC Mode Manual: c-offsets-alist</title>
  <meta name="description" content=
  "CC Mode Manual: c-offsets-alist" />
  <meta name="keywords" content=
  "CC Mode Manual: c-offsets-alist" />
  <meta name="resource-type" content="document" />
  <meta name="distribution" content="global" />
  <meta name="Generator" content="makeinfo" />
  <meta http-equiv="Content-Type" content=
  "text/html; charset=us-ascii" />
  <link href="index.html#Top" rel="start" title="Top" />
  <link href=
  "Command-and-Function-Index.html#Command-and-Function-Index" rel=
  "index" title="Command and Function Index" />
  <link href="index.html#SEC_Contents" rel="contents" title=
  "Table of Contents" />
  <link href="Customizing-Indentation.html#Customizing-Indentation"
  rel="up" title="Customizing Indentation" />
  <link href=
  "Interactive-Customization.html#Interactive-Customization" rel=
  "next" title="Interactive Customization" />
  <link href="Customizing-Indentation.html#Customizing-Indentation"
  rel="prev" title="Customizing Indentation" />
  <style type="text/css">
/*<![CDATA[*/
  <!--
  a.summary-letter {text-decoration: none}
  blockquote.smallquotation {font-size: smaller}
  div.display {margin-left: 3.2em}
  div.example {margin-left: 3.2em}
  div.indentedblock {margin-left: 3.2em}
  div.lisp {margin-left: 3.2em}
  div.smalldisplay {margin-left: 3.2em}
  div.smallexample {margin-left: 3.2em}
  div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
  div.smalllisp {margin-left: 3.2em}
  kbd {font-style:oblique}
  pre.display {font-family: inherit}
  pre.format {font-family: inherit}
  pre.menu-comment {font-family: serif}
  pre.menu-preformatted {font-family: serif}
  pre.smalldisplay {font-family: inherit; font-size: smaller}
  pre.smallexample {font-size: smaller}
  pre.smallformat {font-family: inherit; font-size: smaller}
  pre.smalllisp {font-size: smaller}
  span.nocodebreak {white-space:nowrap}
  span.nolinebreak {white-space:nowrap}
  span.roman {font-family:serif; font-weight:normal}
  span.sansserif {font-family:sans-serif; font-weight:normal}
  ul.no-bullet {list-style: none}
  -->
  /*]]>*/
  </style>
  <style type="text/css">
/*<![CDATA[*/
  body {
  background-color: #FFFFFF;
  color: #000000;
  }
  :link { color: #0000FF }
  :visited { color: #800080 }
  :active { color: #FF0000 }
  /*]]>*/
  </style>
</head>

<body lang="en" xml:lang="en">
  <a name="c_002doffsets_002dalist" id=
  "c_002doffsets_002dalist"></a>

  <div class="header">
    <p>Next: <a href=
    "Interactive-Customization.html#Interactive-Customization"
    accesskey="n" rel="next">Interactive Customization</a>,
    Previous: <a href=
    "Customizing-Indentation.html#Customizing-Indentation"
    accesskey="p" rel="prev">Customizing Indentation</a>, Up:
    <a href="Customizing-Indentation.html#Customizing-Indentation"
    accesskey="u" rel="up">Customizing Indentation</a> &nbsp;
    [<a href="index.html#SEC_Contents" title="Table of contents"
    rel="contents">Contents</a>][<a href=
    "Command-and-Function-Index.html#Command-and-Function-Index"
    title="Index" rel="index">Index</a>]</p>
  </div>
  <hr />
  <a name="c_002doffsets_002dalist-1" id=
  "c_002doffsets_002dalist-1"></a>

  <h3 class="section">11.1 c-offsets-alist</h3>

  <p>This section explains the structure and semantics of the style
  variable <code>c-offsets-alist</code>, the principal variable for
  configuring indentation. Details of how to set it up, and its
  relationship to CC Mode&rsquo;s style system are given in
  <a href="Style-Variables.html#Style-Variables">Style
  Variables</a>.</p>

  <dl>
    <dt><a name="index-c_002doffsets_002dalist-1" id=
    "index-c_002doffsets_002dalist-1"></a>User Option:
    <strong>c-offsets-alist</strong></dt>

    <dd>
      <a name="index-offsets_002dalist-_0028c_002d_0029-1" id=
      "index-offsets_002dalist-_0028c_002d_0029-1"></a>

      <p>This is an alist which associates an offset with each
      syntactic symbol. This <em>offset</em> is a rule specifying
      how to indent a line whose syntactic context matches the
      symbol. See <a href=
      "Syntactic-Analysis.html#Syntactic-Analysis">Syntactic
      Analysis</a>.</p>

      <p>Note that the buffer-local binding of this alist in a CC
      Mode buffer contains an entry for <em>every</em> syntactic
      symbol. Its global binding and its settings within style
      specifications usually contain only a few entries. See
      <a href="Style-Variables.html#Style-Variables">Style
      Variables</a>.</p>

      <p>The offset specification associated with any particular
      syntactic symbol can be an integer, a variable name, a
      vector, a function or lambda expression, a list, or one of
      the following special symbols: <code>+</code>,
      <code>-</code>, <code>++</code>, <code>--</code>,
      <code>*</code>, or <code>/</code>. The meanings of these
      values are described in detail below.</p>

      <p>Here is an example fragment of a
      <code>c-offsets-alist</code>, showing some of these kinds of
      offsets:</p>

      <div class="example">
        <pre class="example">
((statement . 0)
 (substatement . +)
 (cpp-macro . [0])
 (topmost-intro-cont . c-lineup-topmost-intro-cont)
 (statement-block-intro . (add c-lineup-whitesmith-in-block
                               c-indent-multi-line-block))
 &hellip;

)
</pre>
      </div>
    </dd>
  </dl>

  <dl>
    <dt><a name="index-c_002dset_002doffset" id=
    "index-c_002dset_002doffset"></a>Command:
    <strong>c-set-offset</strong> <em>(<kbd>C-c
    C-o</kbd>)</em></dt>

    <dd>
      <a name="index-set_002doffset-_0028c_002d_0029" id=
      "index-set_002doffset-_0028c_002d_0029"></a> <a name=
      "index-C_002dc-C_002do" id="index-C_002dc-C_002do"></a>

      <p>This command changes the entry for a syntactic symbol in
      the current binding of <code>c-offsets-alist</code>, or it
      inserts a new entry if there isn&rsquo;t already one for that
      syntactic symbol.</p>

      <p>You can use <code>c-set-offset</code> interactively within
      a CC Mode buffer to make experimental changes to your
      indentation settings. <kbd>C-c C-o</kbd> prompts you for the
      syntactic symbol to change (defaulting to that of the current
      line) and the new offset (defaulting to the current
      offset).</p>

      <p><code>c-set-offset</code> takes two arguments when used
      programmatically: <var>symbol</var>, the syntactic element
      symbol to change and <var>offset</var>, the new offset for
      that syntactic element. You can call the command in your
      <samp>.emacs</samp> to change the global binding of
      <code>c-offsets-alist</code> (see <a href=
      "Style-Variables.html#Style-Variables">Style Variables</a>);
      you can use it in a hook function to make changes from the
      current style. CC Mode itself uses this function when
      initializing styles.</p>
    </dd>
  </dl><a name="index-offset-specification" id=
  "index-offset-specification"></a>

  <p>The &ldquo;offset specifications&rdquo; in
  <code>c-offsets-alist</code> can be any of the following:</p>

  <dl compact="compact">
    <dt>An integer</dt>

    <dd>
      <p>The integer specifies a relative offset. All relative
      offsets<a name="DOCF42" href="#FOOT42" id=
      "DOCF42"><sup>42</sup></a> will be added together and used to
      calculate the indentation relative to an anchor position
      earlier in the buffer. See <a href=
      "Indentation-Calculation.html#Indentation-Calculation">Indentation
      Calculation</a>, for details. Most of the time, it&rsquo;s
      probably better to use one of the special symbols like
      <code>+</code> than an integer (apart from zero).</p>
    </dd>

    <dt>One of the symbols <code>+</code>, <code>-</code>,
    <code>++</code>, <code>--</code>, <code>*</code>, or
    <code>/</code></dt>

    <dd>
      <p>These special symbols describe a relative offset in
      multiples of <code>c-basic-offset</code>:</p>

      <p>By defining a style&rsquo;s indentation in terms of
      <code>c-basic-offset</code>, you can change the amount of
      whitespace given to an indentation level while maintaining
      the same basic shape of your code. Here are the values that
      the special symbols correspond to:</p>

      <dl compact="compact">
        <dt><code>+</code></dt>

        <dd>
          <p><code>c-basic-offset</code> times 1</p>
        </dd>

        <dt><code>-</code></dt>

        <dd>
          <p><code>c-basic-offset</code> times -1</p>
        </dd>

        <dt><code>++</code></dt>

        <dd>
          <p><code>c-basic-offset</code> times 2</p>
        </dd>

        <dt><code>--</code></dt>

        <dd>
          <p><code>c-basic-offset</code> times -2</p>
        </dd>

        <dt><code>*</code></dt>

        <dd>
          <p><code>c-basic-offset</code> times 0.5</p>
        </dd>

        <dt><code>/</code></dt>

        <dd>
          <p><code>c-basic-offset</code> times -0.5</p>
        </dd>
      </dl>
    </dd>

    <dt>A vector</dt>

    <dd>
      <p>The first element of the vector, an integer, sets the
      absolute indentation column. This will override any
      previously calculated indentation, but won&rsquo;t override
      relative indentation calculated from syntactic elements later
      on in the syntactic context of the line being indented. See
      <a href=
      "Indentation-Calculation.html#Indentation-Calculation">Indentation
      Calculation</a>. Any elements in the vector beyond the first
      will be ignored.</p>
    </dd>

    <dt>A function or lambda expression</dt>

    <dd>
      <p>The function will be called and its return value will in
      turn be evaluated as an offset specification. Functions are
      useful when more context than just the syntactic symbol is
      needed to get the desired indentation. See <a href=
      "Line_002dUp-Functions.html#Line_002dUp-Functions">Line-Up
      Functions</a>, and <a href=
      "Custom-Line_002dUp.html#Custom-Line_002dUp">Custom
      Line-Up</a>, for details about them.</p>
    </dd>

    <dt>A symbol with a variable binding</dt>

    <dd>
      <p>If the symbol also has a function binding, the function
      takes precedence over the variable. Otherwise the value of
      the variable is used. It must be an integer (which is used as
      relative offset) or a vector (an absolute offset).</p>
    </dd>

    <dt>A list</dt>

    <dd>
      <p>The offset can also be a list containing several offset
      specifications; these are evaluated recursively and combined.
      A list is typically only useful when some of the offsets are
      line-up functions. A common strategy is calling a sequence of
      functions in turn until one of them recognizes that it is
      appropriate for the source line and returns a
      non-<code>nil</code> value.</p>

      <p><code>nil</code> values are always ignored when the
      offsets are combined. The first element of the list specifies
      the method of combining the non-<code>nil</code> offsets from
      the remaining elements:</p>

      <dl compact="compact">
        <dt><code>first</code></dt>

        <dd>
          <p>Use the first offset that doesn&rsquo;t evaluate to
          <code>nil</code>. Subsequent elements of the list
          don&rsquo;t get evaluated.</p>
        </dd>

        <dt><code>min</code></dt>

        <dd>
          <p>Use the minimum of all the offsets. All must be either
          relative or absolute; they can&rsquo;t be mixed.</p>
        </dd>

        <dt><code>max</code></dt>

        <dd>
          <p>Use the maximum of all the offsets. All must be either
          relative or absolute; they can&rsquo;t be mixed.</p>
        </dd>

        <dt><code>add</code></dt>

        <dd>
          <p>Add all the evaluated offsets together. Exactly one of
          them may be absolute, in which case the result is
          absolute. Any relative offsets that preceded the absolute
          one in the list will be ignored in that case.</p>
        </dd>
      </dl>

      <p>As a compatibility measure, if the first element is none
      of the above then it too will be taken as an offset
      specification and the whole list will be combined according
      to the method <code>first</code>.</p>
    </dd>
  </dl><a name="index-c_002dstrict_002dsyntax_002dp" id=
  "index-c_002dstrict_002dsyntax_002dp"></a> <a name=
  "index-strict_002dsyntax_002dp-_0028c_002d_0029" id=
  "index-strict_002dsyntax_002dp-_0028c_002d_0029"></a>

  <p>If an offset specification evaluates to <code>nil</code>, then
  a relative offset of 0 (zero) is used<a name="DOCF43" href=
  "#FOOT43" id="DOCF43"><sup>43</sup></a>.</p>

  <div class="footnote">
    <hr />

    <h4 class="footnotes-heading">Footnotes</h4>

    <h3><a name="FOOT42" href="#DOCF42" id="FOOT42">(42)</a></h3>

    <p>The syntactic context <code><span class=
    "nolinebreak">((defun-block-intro</span>&nbsp;2724)&nbsp;<span class="nolinebreak">(comment-intro))</span><!-- /@w --></code>
    would likely have two relative offsets.</p>

    <h3><a name="FOOT43" href="#DOCF43" id="FOOT43">(43)</a></h3>

    <p>There is however a variable <code>c-strict-syntax-p</code>
    that when set to non-<code>nil</code> will cause an error to be
    signaled in that case. It&rsquo;s now considered obsolete since
    it doesn&rsquo;t work well with some of the alignment functions
    that return <code>nil</code> instead of zero. You should
    therefore leave <code>c-strict-syntax-p</code> set to
    <code>nil</code>.</p>
  </div>
  <hr />

  <div class="header">
    <p>Next: <a href=
    "Interactive-Customization.html#Interactive-Customization"
    accesskey="n" rel="next">Interactive Customization</a>,
    Previous: <a href=
    "Customizing-Indentation.html#Customizing-Indentation"
    accesskey="p" rel="prev">Customizing Indentation</a>, Up:
    <a href="Customizing-Indentation.html#Customizing-Indentation"
    accesskey="u" rel="up">Customizing Indentation</a> &nbsp;
    [<a href="index.html#SEC_Contents" title="Table of contents"
    rel="contents">Contents</a>][<a href=
    "Command-and-Function-Index.html#Command-and-Function-Index"
    title="Index" rel="index">Index</a>]</p>
  </div>
</body>
</html>
