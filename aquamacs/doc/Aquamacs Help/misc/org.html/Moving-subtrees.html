<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<!-- This manual is for Org version 8.2.9.

Copyright (C) 2004-2016 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, with the Front-Cover Texts being "A GNU Manual,"
and with the Back-Cover Texts as in (a) below.  A copy of the license
is included in the section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual." -->
<!-- Created by GNU Texinfo 5.2, http://www.gnu.org/software/texinfo/ -->

<head>
  <meta name="generator" content=
  "HTML Tidy for Mac OS X (vers 31 October 2006 - Apple Inc. build 16.1), see www.w3.org" />

  <title>The Org Manual: Moving subtrees</title>
  <meta name="description" content=
  "The Org Manual: Moving subtrees" />
  <meta name="keywords" content=
  "The Org Manual: Moving subtrees" />
  <meta name="resource-type" content="document" />
  <meta name="distribution" content="global" />
  <meta name="Generator" content="makeinfo" />
  <meta http-equiv="Content-Type" content=
  "text/html; charset=us-ascii" />
  <link href="index.html#Top" rel="start" title="Top" />
  <link href="Main-Index.html#Main-Index" rel="index" title=
  "Main Index" />
  <link href="index.html#SEC_Contents" rel="contents" title=
  "Table of Contents" />
  <link href="Archiving.html#Archiving" rel="up" title=
  "Archiving" />
  <link href="Internal-archiving.html#Internal-archiving" rel=
  "next" title="Internal archiving" />
  <link href="Archiving.html#Archiving" rel="prev" title=
  "Archiving" />
  <style type="text/css">
/*<![CDATA[*/
  <!--
  a.summary-letter {text-decoration: none}
  blockquote.smallquotation {font-size: smaller}
  div.display {margin-left: 3.2em}
  div.example {margin-left: 3.2em}
  div.indentedblock {margin-left: 3.2em}
  div.lisp {margin-left: 3.2em}
  div.smalldisplay {margin-left: 3.2em}
  div.smallexample {margin-left: 3.2em}
  div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
  div.smalllisp {margin-left: 3.2em}
  kbd {font-style:oblique}
  pre.display {font-family: inherit}
  pre.format {font-family: inherit}
  pre.menu-comment {font-family: serif}
  pre.menu-preformatted {font-family: serif}
  pre.smalldisplay {font-family: inherit; font-size: smaller}
  pre.smallexample {font-size: smaller}
  pre.smallformat {font-family: inherit; font-size: smaller}
  pre.smalllisp {font-size: smaller}
  span.nocodebreak {white-space:nowrap}
  span.nolinebreak {white-space:nowrap}
  span.roman {font-family:serif; font-weight:normal}
  span.sansserif {font-family:sans-serif; font-weight:normal}
  ul.no-bullet {list-style: none}
  -->
  /*]]>*/
  </style>
  <style type="text/css">
/*<![CDATA[*/
  body {
  background-color: #FFFFFF;
  color: #000000;
  }
  :link { color: #0000FF }
  :visited { color: #800080 }
  :active { color: #FF0000 }
  /*]]>*/
  </style>
</head>

<body lang="en" xml:lang="en">
  <a name="Moving-subtrees" id="Moving-subtrees"></a>

  <div class="header">
    <p>Next: <a href="Internal-archiving.html#Internal-archiving"
    accesskey="n" rel="next">Internal archiving</a>, Previous:
    <a href="Archiving.html#Archiving" accesskey="p" rel=
    "prev">Archiving</a>, Up: <a href="Archiving.html#Archiving"
    accesskey="u" rel="up">Archiving</a> &nbsp; [<a href=
    "index.html#SEC_Contents" title="Table of contents" rel=
    "contents">Contents</a>][<a href="Main-Index.html#Main-Index"
    title="Index" rel="index">Index</a>]</p>
  </div>
  <hr />
  <a name="Moving-a-tree-to-the-archive-file" id=
  "Moving-a-tree-to-the-archive-file"></a>

  <h4 class="subsection">9.6.1 Moving a tree to the archive
  file</h4><a name="index-external-archiving" id=
  "index-external-archiving"></a>

  <p>The most common archiving action is to move a project tree to
  another file, the archive file.</p>

  <dl compact="compact">
    <dd><a name="index-C_002dc-C_002dx-C_002ds" id=
    "index-C_002dc-C_002dx-C_002ds"></a> <a name=
    "index-C_002dc-_0024" id="index-C_002dc-_0024"></a> <a name=
    "index-org_002darchive_002dsubtree" id=
    "index-org_002darchive_002dsubtree"></a></dd>

    <dt><kbd><kbd>C-c C-x C-s</kbd> &nbsp;<span class="roman">or
    short</span> &nbsp;<kbd>C-c $</kbd>
    &nbsp;&nbsp;&nbsp;&nbsp;(<code>org-archive-subtree</code>)</kbd></dt>

    <dd>
      <a name="index-org_002darchive_002dlocation" id=
      "index-org_002darchive_002dlocation"></a>

      <p>Archive the subtree starting at the cursor position to the
      location given by <code>org-archive-location</code>. <a name=
      "index-C_002du-C_002dc-C_002dx-C_002ds" id=
      "index-C_002du-C_002dc-C_002dx-C_002ds"></a></p>
    </dd>

    <dt><kbd><kbd>C-u C-c C-x C-s</kbd></kbd></dt>

    <dd>
      <p>Check if any direct children of the current headline could
      be moved to the archive. To do this, each subtree is checked
      for open TODO entries. If none are found, the command offers
      to move it to the archive location. If the cursor is
      <em>not</em> on a headline when this command is invoked, the
      level 1 trees will be checked.</p>
    </dd>
  </dl><a name="index-archive-locations" id=
  "index-archive-locations"></a>

  <p>The default archive location is a file in the same directory
  as the current file, with the name derived by appending
  <samp>_archive</samp> to the current file name. You can also
  choose what heading to file archived items under, with the
  possibility to add them to a datetree in a file. For information
  and examples on how to specify the file and the heading, see the
  documentation string of the variable
  <code>org-archive-location</code>.</p>

  <p>There is also an in-buffer option for setting this variable,
  for example<a name="DOCF97" href="#FOOT97" id=
  "DOCF97"><sup>97</sup></a>:</p><a name="index-_0023_002bARCHIVE"
  id="index-_0023_002bARCHIVE"></a>

  <div class="example">
    <pre class="example">
#+ARCHIVE: %s_done::
</pre>
  </div><a name="index-property_002c-ARCHIVE-1" id=
  "index-property_002c-ARCHIVE-1"></a>

  <p>If you would like to have a special ARCHIVE location for a
  single entry or a (sub)tree, give the entry an
  <code>:ARCHIVE:</code> property with the location as the value
  (see <a href=
  "Properties-and-Columns.html#Properties-and-Columns">Properties
  and Columns</a>).</p><a name=
  "index-org_002darchive_002dsave_002dcontext_002dinfo" id=
  "index-org_002darchive_002dsave_002dcontext_002dinfo"></a>

  <p>When a subtree is moved, it receives a number of special
  properties that record context information like the file from
  where the entry came, its outline path the archiving time etc.
  Configure the variable <code>org-archive-save-context-info</code>
  to adjust the amount of information added.</p>

  <div class="footnote">
    <hr />

    <h4 class="footnotes-heading">Footnotes</h4>

    <h3><a name="FOOT97" href="#DOCF97" id="FOOT97">(97)</a></h3>

    <p>For backward compatibility, the following also works: If
    there are several such lines in a file, each specifies the
    archive location for the text below it. The first such line
    also applies to any text before its definition. However, using
    this method is <em>strongly</em> deprecated as it is
    incompatible with the outline structure of the document. The
    correct method for setting multiple archive locations in a
    buffer is using properties.</p>
  </div>
  <hr />

  <div class="header">
    <p>Next: <a href="Internal-archiving.html#Internal-archiving"
    accesskey="n" rel="next">Internal archiving</a>, Previous:
    <a href="Archiving.html#Archiving" accesskey="p" rel=
    "prev">Archiving</a>, Up: <a href="Archiving.html#Archiving"
    accesskey="u" rel="up">Archiving</a> &nbsp; [<a href=
    "index.html#SEC_Contents" title="Table of contents" rel=
    "contents">Contents</a>][<a href="Main-Index.html#Main-Index"
    title="Index" rel="index">Index</a>]</p>
  </div>
</body>
</html>
