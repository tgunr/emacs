<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<!-- This manual is for Org version 8.2.9.

Copyright (C) 2004-2016 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, with the Front-Cover Texts being "A GNU Manual,"
and with the Back-Cover Texts as in (a) below.  A copy of the license
is included in the section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual." -->
<!-- Created by GNU Texinfo 5.2, http://www.gnu.org/software/texinfo/ -->

<head>
  <meta name="generator" content=
  "HTML Tidy for Mac OS X (vers 31 October 2006 - Apple Inc. build 16.1), see www.w3.org" />

  <title>The Org Manual: Tracking TODO state changes</title>
  <meta name="description" content=
  "The Org Manual: Tracking TODO state changes" />
  <meta name="keywords" content=
  "The Org Manual: Tracking TODO state changes" />
  <meta name="resource-type" content="document" />
  <meta name="distribution" content="global" />
  <meta name="Generator" content="makeinfo" />
  <meta http-equiv="Content-Type" content=
  "text/html; charset=us-ascii" />
  <link href="index.html#Top" rel="start" title="Top" />
  <link href="Main-Index.html#Main-Index" rel="index" title=
  "Main Index" />
  <link href="index.html#SEC_Contents" rel="contents" title=
  "Table of Contents" />
  <link href="Progress-logging.html#Progress-logging" rel="up"
  title="Progress logging" />
  <link href="Tracking-your-habits.html#Tracking-your-habits" rel=
  "next" title="Tracking your habits" />
  <link href="Closing-items.html#Closing-items" rel="prev" title=
  "Closing items" />
  <style type="text/css">
/*<![CDATA[*/
  <!--
  a.summary-letter {text-decoration: none}
  blockquote.smallquotation {font-size: smaller}
  div.display {margin-left: 3.2em}
  div.example {margin-left: 3.2em}
  div.indentedblock {margin-left: 3.2em}
  div.lisp {margin-left: 3.2em}
  div.smalldisplay {margin-left: 3.2em}
  div.smallexample {margin-left: 3.2em}
  div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
  div.smalllisp {margin-left: 3.2em}
  kbd {font-style:oblique}
  pre.display {font-family: inherit}
  pre.format {font-family: inherit}
  pre.menu-comment {font-family: serif}
  pre.menu-preformatted {font-family: serif}
  pre.smalldisplay {font-family: inherit; font-size: smaller}
  pre.smallexample {font-size: smaller}
  pre.smallformat {font-family: inherit; font-size: smaller}
  pre.smalllisp {font-size: smaller}
  span.nocodebreak {white-space:nowrap}
  span.nolinebreak {white-space:nowrap}
  span.roman {font-family:serif; font-weight:normal}
  span.sansserif {font-family:sans-serif; font-weight:normal}
  ul.no-bullet {list-style: none}
  -->
  /*]]>*/
  </style>
  <style type="text/css">
/*<![CDATA[*/
  body {
  background-color: #FFFFFF;
  color: #000000;
  }
  :link { color: #0000FF }
  :visited { color: #800080 }
  :active { color: #FF0000 }
  /*]]>*/
  </style>
</head>

<body lang="en" xml:lang="en">
  <a name="Tracking-TODO-state-changes" id=
  "Tracking-TODO-state-changes"></a>

  <div class="header">
    <p>Next: <a href=
    "Tracking-your-habits.html#Tracking-your-habits" accesskey="n"
    rel="next">Tracking your habits</a>, Previous: <a href=
    "Closing-items.html#Closing-items" accesskey="p" rel=
    "prev">Closing items</a>, Up: <a href=
    "Progress-logging.html#Progress-logging" accesskey="u" rel=
    "up">Progress logging</a> &nbsp; [<a href=
    "index.html#SEC_Contents" title="Table of contents" rel=
    "contents">Contents</a>][<a href="Main-Index.html#Main-Index"
    title="Index" rel="index">Index</a>]</p>
  </div>
  <hr />
  <a name="Tracking-TODO-state-changes-1" id=
  "Tracking-TODO-state-changes-1"></a>

  <h4 class="subsection">5.3.2 Tracking TODO state
  changes</h4><a name=
  "index-drawer_002c-for-state-change-recording" id=
  "index-drawer_002c-for-state-change-recording"></a> <a name=
  "index-org_002dlog_002dstates_002dorder_002dreversed" id=
  "index-org_002dlog_002dstates_002dorder_002dreversed"></a>
  <a name="index-org_002dlog_002dinto_002ddrawer" id=
  "index-org_002dlog_002dinto_002ddrawer"></a> <a name=
  "index-property_002c-LOG_005fINTO_005fDRAWER" id=
  "index-property_002c-LOG_005fINTO_005fDRAWER"></a>

  <p>When TODO keywords are used as workflow states (see <a href=
  "Workflow-states.html#Workflow-states">Workflow states</a>), you
  might want to keep track of when a state change occurred and
  maybe take a note about this change. You can either record just a
  timestamp, or a time-stamped note for a change. These records
  will be inserted after the headline as an itemized list, newest
  first<a name="DOCF54" href="#FOOT54" id=
  "DOCF54"><sup>54</sup></a>. When taking a lot of notes, you might
  want to get the notes out of the way into a drawer (see <a href=
  "Drawers.html#Drawers">Drawers</a>). Customize
  <code>org-log-into-drawer</code> to get this behavior&mdash;the
  recommended drawer for this is called
  <code>LOGBOOK</code><a name="DOCF55" href="#FOOT55" id=
  "DOCF55"><sup>55</sup></a>. You can also overrule the setting of
  this variable for a subtree by setting a
  <code>LOG_INTO_DRAWER</code> property.</p>

  <p>Since it is normally too much to record a note for every
  state, Org mode expects configuration on a per-keyword basis for
  this. This is achieved by adding special markers
  &lsquo;<samp>!</samp>&rsquo; (for a timestamp) or
  &lsquo;<samp>@</samp>&rsquo; (for a note with timestamp) in
  parentheses after each keyword. For example, with the setting</p>

  <div class="lisp">
    <pre class="lisp">
(setq org-todo-keywords
  '((sequence "TODO(t)" "WAIT(w@/!)" "|" "DONE(d!)" "CANCELED(c@)")))
</pre>
  </div>

  <p>To record a timestamp without a note for TODO keywords
  configured with &lsquo;<samp>@</samp>&rsquo;, just type <kbd>C-c
  C-c</kbd> to enter a blank note when prompted.</p><a name=
  "index-org_002dlog_002ddone" id="index-org_002dlog_002ddone"></a>

  <p>You not only define global TODO keywords and fast access keys,
  but also request that a time is recorded when the entry is set to
  DONE<a name="DOCF56" href="#FOOT56" id=
  "DOCF56"><sup>56</sup></a>, and that a note is recorded when
  switching to WAIT or CANCELED. The setting for WAIT is even more
  special: the &lsquo;<samp>!</samp>&rsquo; after the slash means
  that in addition to the note taken when entering the state, a
  timestamp should be recorded when <i>leaving</i> the WAIT state,
  if and only if the <i>target</i> state does not configure logging
  for entering it. So it has no effect when switching from WAIT to
  DONE, because DONE is configured to record a timestamp only. But
  when switching from WAIT back to TODO, the
  &lsquo;<samp>/!</samp>&rsquo; in the WAIT setting now triggers a
  timestamp even though TODO has no logging configured.</p>

  <p>You can use the exact same syntax for setting logging
  preferences local to a buffer:</p>

  <div class="example">
    <pre class="example">
#+TODO: TODO(t) WAIT(w@/!) | DONE(d!) CANCELED(c@)
</pre>
  </div><a name="index-property_002c-LOGGING" id=
  "index-property_002c-LOGGING"></a>

  <p>In order to define logging settings that are local to a
  subtree or a single item, define a LOGGING property in this
  entry. Any non-empty LOGGING property resets all logging settings
  to <code>nil</code>. You may then turn on logging for this
  specific tree using STARTUP keywords like
  <code>lognotedone</code> or <code>logrepeat</code>, as well as
  adding state specific settings like <code>TODO(!)</code>. For
  example</p>

  <div class="example">
    <pre class="example">
* TODO Log each state with only a time
  :PROPERTIES:
  :LOGGING: TODO(!) WAIT(!) DONE(!) CANCELED(!)
  :END:
* TODO Only log when switching to WAIT, and when repeating
  :PROPERTIES:
  :LOGGING: WAIT(@) logrepeat
  :END:
* TODO No logging at all
  :PROPERTIES:
  :LOGGING: nil
  :END:
</pre>
  </div>

  <div class="footnote">
    <hr />

    <h4 class="footnotes-heading">Footnotes</h4>

    <h3><a name="FOOT54" href="#DOCF54" id="FOOT54">(54)</a></h3>

    <p>See the option
    <code>org-log-states-order-reversed</code></p>

    <h3><a name="FOOT55" href="#DOCF55" id="FOOT55">(55)</a></h3>

    <p>Note that the <code>LOGBOOK</code> drawer is unfolded when
    pressing <tt class="key">SPC</tt> in the agenda to show an
    entry&mdash;use <tt class="key">C-u SPC</tt> to keep it folded
    here</p>

    <h3><a name="FOOT56" href="#DOCF56" id="FOOT56">(56)</a></h3>

    <p>It is possible that Org mode will record two timestamps when
    you are using both <code>org-log-done</code> and state change
    logging. However, it will never prompt for two notes&mdash;if
    you have configured both, the state change recording note will
    take precedence and cancel the &lsquo;<samp>Closing
    Note</samp>&rsquo;.</p>
  </div>
  <hr />

  <div class="header">
    <p>Next: <a href=
    "Tracking-your-habits.html#Tracking-your-habits" accesskey="n"
    rel="next">Tracking your habits</a>, Previous: <a href=
    "Closing-items.html#Closing-items" accesskey="p" rel=
    "prev">Closing items</a>, Up: <a href=
    "Progress-logging.html#Progress-logging" accesskey="u" rel=
    "up">Progress logging</a> &nbsp; [<a href=
    "index.html#SEC_Contents" title="Table of contents" rel=
    "contents">Contents</a>][<a href="Main-Index.html#Main-Index"
    title="Index" rel="index">Index</a>]</p>
  </div>
</body>
</html>
