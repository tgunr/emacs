<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<!-- This manual is for Org version 8.2.9.

Copyright (C) 2004-2016 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, with the Front-Cover Texts being "A GNU Manual,"
and with the Back-Cover Texts as in (a) below.  A copy of the license
is included in the section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual." -->
<!-- Created by GNU Texinfo 5.2, http://www.gnu.org/software/texinfo/ -->

<head>
  <meta name="generator" content=
  "HTML Tidy for Mac OS X (vers 31 October 2006 - Apple Inc. build 16.1), see www.w3.org" />

  <title>The Org Manual: noweb-ref</title>
  <meta name="description" content="The Org Manual: noweb-ref" />
  <meta name="keywords" content="The Org Manual: noweb-ref" />
  <meta name="resource-type" content="document" />
  <meta name="distribution" content="global" />
  <meta name="Generator" content="makeinfo" />
  <meta http-equiv="Content-Type" content=
  "text/html; charset=us-ascii" />
  <link href="index.html#Top" rel="start" title="Top" />
  <link href="Main-Index.html#Main-Index" rel="index" title=
  "Main Index" />
  <link href="index.html#SEC_Contents" rel="contents" title=
  "Table of Contents" />
  <link href=
  "Specific-header-arguments.html#Specific-header-arguments" rel=
  "up" title="Specific header arguments" />
  <link href="noweb_002dsep.html#noweb_002dsep" rel="next" title=
  "noweb-sep" />
  <link href="noweb.html#noweb" rel="prev" title="noweb" />
  <style type="text/css">
/*<![CDATA[*/
  <!--
  a.summary-letter {text-decoration: none}
  blockquote.smallquotation {font-size: smaller}
  div.display {margin-left: 3.2em}
  div.example {margin-left: 3.2em}
  div.indentedblock {margin-left: 3.2em}
  div.lisp {margin-left: 3.2em}
  div.smalldisplay {margin-left: 3.2em}
  div.smallexample {margin-left: 3.2em}
  div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
  div.smalllisp {margin-left: 3.2em}
  kbd {font-style:oblique}
  pre.display {font-family: inherit}
  pre.format {font-family: inherit}
  pre.menu-comment {font-family: serif}
  pre.menu-preformatted {font-family: serif}
  pre.smalldisplay {font-family: inherit; font-size: smaller}
  pre.smallexample {font-size: smaller}
  pre.smallformat {font-family: inherit; font-size: smaller}
  pre.smalllisp {font-size: smaller}
  span.nocodebreak {white-space:nowrap}
  span.nolinebreak {white-space:nowrap}
  span.roman {font-family:serif; font-weight:normal}
  span.sansserif {font-family:sans-serif; font-weight:normal}
  ul.no-bullet {list-style: none}
  -->
  /*]]>*/
  </style>
  <style type="text/css">
/*<![CDATA[*/
  body {
  background-color: #FFFFFF;
  color: #000000;
  }
  :link { color: #0000FF }
  :visited { color: #800080 }
  :active { color: #FF0000 }
  /*]]>*/
  </style>
</head>

<body lang="en" xml:lang="en">
  <a name="noweb_002dref" id="noweb_002dref"></a>

  <div class="header">
    <p>Next: <a href="noweb_002dsep.html#noweb_002dsep" accesskey=
    "n" rel="next">noweb-sep</a>, Previous: <a href=
    "noweb.html#noweb" accesskey="p" rel="prev">noweb</a>, Up:
    <a href=
    "Specific-header-arguments.html#Specific-header-arguments"
    accesskey="u" rel="up">Specific header arguments</a> &nbsp;
    [<a href="index.html#SEC_Contents" title="Table of contents"
    rel="contents">Contents</a>][<a href=
    "Main-Index.html#Main-Index" title="Index" rel=
    "index">Index</a>]</p>
  </div>
  <hr />
  <a name="g_t_003anoweb_002dref" id="g_t_003anoweb_002dref"></a>

  <h4 class="subsubsection">14.8.2.14 <code>:noweb-ref</code></h4>

  <p>When expanding &ldquo;noweb&rdquo; style references the bodies
  of all code block with <em>either</em> a block name matching the
  reference name <em>or</em> a <code>:noweb-ref</code> header
  argument matching the reference name will be concatenated
  together to form the replacement text.</p>

  <p>By setting this header argument at the sub-tree or file level,
  simple code block concatenation may be achieved. For example,
  when tangling the following Org mode file, the bodies of code
  blocks will be concatenated into the resulting pure code
  file<a name="DOCF172" href="#FOOT172" id=
  "DOCF172"><sup>172</sup></a>.</p>

  <div class="example">
    <pre class="example">
 #+BEGIN_SRC sh :tangle yes :noweb yes :shebang #!/bin/sh
   &lt;&lt;fullest-disk&gt;&gt;
 #+END_SRC
 * the mount point of the fullest disk
   :PROPERTIES:
   :noweb-ref: fullest-disk
   :END:

 ** query all mounted disks
 #+BEGIN_SRC sh
   df \
 #+END_SRC

 ** strip the header row
 #+BEGIN_SRC sh
   |sed '1d' \
 #+END_SRC

 ** sort by the percent full
 #+BEGIN_SRC sh
   |awk '{print $5 " " $6}'|sort -n |tail -1 \
 #+END_SRC

 ** extract the mount point
 #+BEGIN_SRC sh
   |awk '{print $2}'
 #+END_SRC
</pre>
  </div>

  <p>The <code>:noweb-sep</code> (see <a href=
  "noweb_002dsep.html#noweb_002dsep">noweb-sep</a>) header argument
  holds the string used to separate accumulate noweb references
  like those above. By default a newline is used.</p>

  <div class="footnote">
    <hr />

    <h4 class="footnotes-heading">Footnotes</h4>

    <h3><a name="FOOT172" href="#DOCF172" id=
    "FOOT172">(172)</a></h3>

    <p>(The example needs property inheritance to be turned on for
    the <code>noweb-ref</code> property, see <a href=
    "Property-inheritance.html#Property-inheritance">Property
    inheritance</a>).</p>
  </div>
</body>
</html>
