<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<!-- Copyright (C) 2013-2016 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, with the Front-Cover Texts being "A GNU Manual",
and with the Back-Cover Texts as in (a) below.  A copy of the license
is included in the section entitled "GNU Free Documentation License".

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual." -->
<!-- Created by GNU Texinfo 5.2, http://www.gnu.org/software/texinfo/ -->

<head>
  <meta name="generator" content=
  "HTML Tidy for Mac OS X (vers 31 October 2006 - Apple Inc. build 16.1), see www.w3.org" />

  <title>Todo Mode User Manual: Editing Item Headers and
  Text</title>
  <meta name="description" content=
  "Todo Mode User Manual: Editing Item Headers and Text" />
  <meta name="keywords" content=
  "Todo Mode User Manual: Editing Item Headers and Text" />
  <meta name="resource-type" content="document" />
  <meta name="distribution" content="global" />
  <meta name="Generator" content="makeinfo" />
  <meta http-equiv="Content-Type" content=
  "text/html; charset=us-ascii" />
  <link href="index.html#Top" rel="start" title="Top" />
  <link href="index.html#SEC_Contents" rel="contents" title=
  "Table of Contents" />
  <link href="Item-Editing.html#Item-Editing" rel="up" title=
  "Item Editing" />
  <link href=
  "Relocating-and-Removing-Items.html#Relocating-and-Removing-Items"
  rel="next" title="Relocating and Removing Items" />
  <link href="Inserting-New-Items.html#Inserting-New-Items" rel=
  "prev" title="Inserting New Items" />
  <style type="text/css">
/*<![CDATA[*/
  <!--
  a.summary-letter {text-decoration: none}
  blockquote.smallquotation {font-size: smaller}
  div.display {margin-left: 3.2em}
  div.example {margin-left: 3.2em}
  div.indentedblock {margin-left: 3.2em}
  div.lisp {margin-left: 3.2em}
  div.smalldisplay {margin-left: 3.2em}
  div.smallexample {margin-left: 3.2em}
  div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
  div.smalllisp {margin-left: 3.2em}
  kbd {font-style:oblique}
  pre.display {font-family: inherit}
  pre.format {font-family: inherit}
  pre.menu-comment {font-family: serif}
  pre.menu-preformatted {font-family: serif}
  pre.smalldisplay {font-family: inherit; font-size: smaller}
  pre.smallexample {font-size: smaller}
  pre.smallformat {font-family: inherit; font-size: smaller}
  pre.smalllisp {font-size: smaller}
  span.nocodebreak {white-space:nowrap}
  span.nolinebreak {white-space:nowrap}
  span.roman {font-family:serif; font-weight:normal}
  span.sansserif {font-family:sans-serif; font-weight:normal}
  ul.no-bullet {list-style: none}
  -->
  /*]]>*/
  </style>
  <style type="text/css">
/*<![CDATA[*/
  body {
  background-color: #FFFFFF;
  color: #000000;
  }
  :link { color: #0000FF }
  :visited { color: #800080 }
  :active { color: #FF0000 }
  /*]]>*/
  </style>
</head>

<body lang="en" xml:lang="en">
  <a name="Editing-Item-Headers-and-Text" id=
  "Editing-Item-Headers-and-Text"></a>

  <div class="header">
    <p>Next: <a href=
    "Relocating-and-Removing-Items.html#Relocating-and-Removing-Items"
    accesskey="n" rel="next">Relocating and Removing Items</a>,
    Previous: <a href=
    "Inserting-New-Items.html#Inserting-New-Items" accesskey="p"
    rel="prev">Inserting New Items</a>, Up: <a href=
    "Item-Editing.html#Item-Editing" accesskey="u" rel="up">Item
    Editing</a> &nbsp; [<a href="index.html#SEC_Contents" title=
    "Table of contents" rel="contents">Contents</a>]</p>
  </div>
  <hr />
  <a name="Editing-Item-Headers-and-Text-1" id=
  "Editing-Item-Headers-and-Text-1"></a>

  <h4 class="subsection">5.3.2 Editing Item Headers and Text</h4>

  <p>To make changes to an existing item&rsquo;s content or header,
  type <kbd>e</kbd>, which is bound to the command
  <code>todo-edit-item</code>.</p>

  <dl compact="compact">
    <dt><kbd>e</kbd></dt>

    <dd>
      <p>This command is the entry point for textually editing
      existing items in a category (<code>todo-edit-item</code>).
      It prompts for additional keys until reaching a complete key
      sequence, which specifies the editing parameters you wish to
      apply (see below), and then executes the editing operation
      accordingly.</p>
    </dd>
  </dl>

  <p>Here is a list of the item editing parameters together with
  their mnemonically associated keys and descriptions of their
  effect in <code>todo-edit-item</code>. The list is divided into
  three groups, for reasons explained below.</p>

  <ol>
    <li>&lsquo;<samp>edit</samp>&rsquo; (<kbd>e</kbd>): Edit the
    text of the current item in the minibuffer; the item&rsquo;s
    header is omitted.

      <p>&lsquo;<samp>header</samp>&rsquo; (<kbd>h</kbd>): Edit the
      text and header of the current item in the minibuffer.</p>

      <p>&lsquo;<samp>multiline</samp>&rsquo; (<kbd>m</kbd>): Edit
      the text of the current item in a special buffer in Todo Edit
      mode. After editing, type <kbd>C-x C-q</kbd> to return to
      Todo mode.<a name="DOCF8" href="#FOOT8" id=
      "DOCF8"><sup>8</sup></a></p>

      <p>&lsquo;<samp>diary</samp>&rsquo; (<kbd>y</kbd>): Change
      the current item&rsquo;s diary inclusion status by adding
      <code>todo-nondiary-marker</code> if the item lacks this, or
      by removing it if present.</p>

      <p>&lsquo;<samp>nonmarking</samp>&rsquo; (<kbd>k</kbd>):
      Change the current item&rsquo;s calendar marking status by
      adding <code>diary-nonmarking-symbol</code> if the item lacks
      this, or by removing it if present. Since this symbol only
      applies to diary items, the item is automatically marked as
      such, i.e., if <code>todo-nondiary-marker</code> is present,
      it is removed.</p>

      <p>&lsquo;<samp>date</samp>&rsquo; (<kbd>d</kbd>): Prompt for
      a final key from the second group of item editing parameters
      to edit the current item&rsquo;s date string.</p>

      <p>&lsquo;<samp>time</samp>&rsquo; (<kbd>t</kbd>): Edit the
      current item&rsquo;s time string, if present; otherwise, add
      one. Typing <tt class="key">RET</tt> at the prompt enters the
      current time if <code>todo-always-add-time-string</code> is
      non-<code>nil</code>, otherwise it enters the empty string
      (i.e., no time string).</p>
    </li>
  </ol>

  <p>Editing the text of a lengthy item in the minibuffer can be
  inconvenient; therefore, if you type <kbd>e e</kbd> or <kbd>e
  h</kbd> on an item whose text contains more than one logical
  line, the effect is the same as if you had typed <kbd>e m</kbd>,
  that is, you switch a special buffer in Todo Edit mode.</p>

  <p>When you pass any of the parameters of the preceding group,
  except for the &lsquo;<samp>date</samp>&rsquo; parameter, this
  completes the item editing invocation begun by typing
  <kbd>e</kbd>. Pressing <kbd>d</kbd> to pass the
  &lsquo;<samp>date</samp>&rsquo; parameter, however, prompts you
  with the following parameters and their associated keys, and
  pressing any of these completes the invocation.</p>

  <ol>
    <li>&lsquo;<samp>full</samp>&rsquo; (<kbd>f</kbd>):
    Successively prompt for editing the year, month (with
    completion) and day number parts of the current item&rsquo;s
    date string, and, if the option
    <code>todo-always-add-time-string</code> is
    non-<code>nil</code>, also for editing its time string.

      <p>&lsquo;<samp>calendar</samp>&rsquo; (<kbd>c</kbd>): This
      pops up the Emacs calendar, and after you type <tt class=
      "key">RET</tt> on a date in the calendar makes that date the
      item&rsquo;s date.</p>

      <p>&lsquo;<samp>today</samp>&rsquo; (<kbd>a</kbd>): Make the
      item&rsquo;s date today&rsquo;s date.</p>

      <p>&lsquo;<samp>dayname</samp>&rsquo; (<kbd>n</kbd>): Prompt
      for a weekday name (with completion) and make it the
      item&rsquo;s date header. Note that this replaces an existing
      date string, it does not add the day name to the date
      string.</p>

      <p>&lsquo;<samp>year</samp>&rsquo; (<kbd>y</kbd>): Edit just
      the year component of the current item&rsquo;s date
      string.</p>

      <p>&lsquo;<samp>month</samp>&rsquo; (<kbd>m</kbd>): Edit just
      the month component of the current item&rsquo;s date string
      (with completion).</p>

      <p>&lsquo;<samp>daynum</samp>&rsquo; (<kbd>d</kbd>): Edit
      just the day number component of the current item&rsquo;s
      date string.</p>
    </li>
  </ol>

  <p>With the latter three parameters you can add a positive or
  negative numeric prefix argument to the invocation: this
  increments or decrements the selected date component by the given
  number and automatically adjusts the other date components if
  necessary. For example, if the item&rsquo;s date string is
  &ldquo;January 1, 2013&rdquo;, then typing <kbd>- 3 e d d</kbd>
  results in &ldquo;December 29, 2012&rdquo;.</p>

  <p>The first two groups of parameters apply only to todo items
  that are not marked as done (see <a href=
  "Done-Items.html#Done-Items">Done Items</a>); the two parameters
  of the third group, in contrast, apply only to done todo items.
  You cannot edit the text of such items, but you can edit or
  delete the comment you may have added on marking the item as done
  (see <a href=
  "Done-Items.html#Done-Items"><code>todo-item-done</code></a>,),
  or retroactively add a comment, by passing either of these
  parameters.</p>

  <ol>
    <li>&lsquo;<samp>add/edit comment</samp>&rsquo; (<kbd>c</kbd>):
    Edit the current done item&rsquo;s comment, if it has one;
    otherwise, prompt for and add a comment.

      <p>&lsquo;<samp>delete comment</samp>&rsquo; (<kbd>d</kbd>):
      Delete the current done item&rsquo;s comment, if it has
      one.</p>
    </li>
  </ol>

  <p>The command <code>todo-edit-item</code> is sensitive to the
  distinction between not done and done todo items. If you type
  <kbd>e</kbd> when point is on a done item, this displays the
  following prompt in the echo area:</p>

  <div class="example">
    <pre class="example">
Press a key (so far <kbd>e</kbd>): c=&gt;add/edit comment d=&gt;delete comment
</pre>
  </div>

  <p>Only by typing <kbd>c</kbd> or <kbd>d</kbd> in response to
  this prompt can you complete the invocation. In contrast, if you
  type <kbd>e</kbd> when point is on a non-done todo item, this
  displays the following prompt in the echo area, and you can
  continue or complete the invocation only by typing one of the
  listed keys:</p>

  <div class="example">
    <pre class="example">
Press a key (so far <kbd>e</kbd>): e=&gt;edit h=&gt;header m=&gt;multiline y=&gt;diary k=&gt;nonmarking d=&gt;date t=&gt;time
</pre>
  </div>

  <p>As noted above, passing the &lsquo;<samp>date</samp>&rsquo;
  parameter does not complete the invocation of
  <code>todo-edit-item</code>; rather, it displays the following
  prompt, and typing any of these keys does complete the
  invocation:</p>

  <div class="example">
    <pre class="example">
Press a key (so far <kbd>e d</kbd>): f=&gt;full c=&gt;calendar a=&gt;today n=&gt;dayname y=&gt;year m=&gt;month d=&gt;daynum
</pre>
  </div>

  <p>In addition to the item-level invocations <kbd>e y</kbd>, to
  change the current item&rsquo;s diary inclusion status, and
  <kbd>e k</kbd>, to change the current item&rsquo;s calendar
  marking status, Todo mode also has two related category-level
  commands:</p>

  <dl compact="compact">
    <dt><kbd>C e y</kbd></dt>

    <dt><kbd>C e k</kbd></dt>

    <dd>
      <p>Add <code>todo-nondiary-marker</code> and
      <code>diary-nonmarking-symbol</code>, respectively, to all
      todo items in the current category; if invoked with a prefix
      argument, these markings are removed from all items in the
      category.</p>
    </dd>
  </dl>

  <p>Like <kbd>e k</kbd>, <kbd>C e k</kbd> automatically removes
  <code>todo-nondiary-marker</code> from all items it is present
  on, since only diary items can bear
  <code>diary-nonmarking-symbol</code>.</p>

  <p>Since categories often contain a mix of items marked for diary
  inclusion and exclusion, and of the former, a mix of those to be
  marked and those not to be marked in the calendar, it is more
  useful for these category-level commands, unlike the item-level
  commands, not to be toggles, but to have the same effect on all
  items in the category, and take a prefix argument to reverse the
  effect. (If you really want to toggle the diary-inclusion and
  calendar-marking status of all items in the category, you can do
  this by marking all the items and then invoking <kbd>e y</kbd> or
  <kbd>e k</kbd>, see <a href=
  "Marked-Items.html#Marked-Items">Marked Items</a>).</p>

  <div class="footnote">
    <hr />

    <h4 class="footnotes-heading">Footnotes</h4>

    <h3><a name="FOOT8" href="#DOCF8" id="FOOT8">(8)</a></h3>

    <p>This runs a format check to ensure the item is well-formed.
    However, unlike the command <kbd>F e</kbd> (see <a href=
    "File-Editing.html#File-Editing">File Editing</a>), <kbd>e
    m</kbd> does not expose you to the risk of putting the file in
    an inconsistent state, since it puts only the current item in
    Todo Edit mode.</p>
  </div>
  <hr />

  <div class="header">
    <p>Next: <a href=
    "Relocating-and-Removing-Items.html#Relocating-and-Removing-Items"
    accesskey="n" rel="next">Relocating and Removing Items</a>,
    Previous: <a href=
    "Inserting-New-Items.html#Inserting-New-Items" accesskey="p"
    rel="prev">Inserting New Items</a>, Up: <a href=
    "Item-Editing.html#Item-Editing" accesskey="u" rel="up">Item
    Editing</a> &nbsp; [<a href="index.html#SEC_Contents" title=
    "Table of contents" rel="contents">Contents</a>]</p>
  </div>
</body>
</html>
