<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<!-- Copyright (C) 2013-2016 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, with the Front-Cover Texts being "A GNU Manual",
and with the Back-Cover Texts as in (a) below.  A copy of the license
is included in the section entitled "GNU Free Documentation License".

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual." -->
<!-- Created by GNU Texinfo 5.2, http://www.gnu.org/software/texinfo/ -->

<head>
  <meta name="generator" content=
  "HTML Tidy for Mac OS X (vers 31 October 2006 - Apple Inc. build 16.1), see www.w3.org" />

  <title>Todo Mode User Manual: Inserting New Items</title>
  <meta name="description" content=
  "Todo Mode User Manual: Inserting New Items" />
  <meta name="keywords" content=
  "Todo Mode User Manual: Inserting New Items" />
  <meta name="resource-type" content="document" />
  <meta name="distribution" content="global" />
  <meta name="Generator" content="makeinfo" />
  <meta http-equiv="Content-Type" content=
  "text/html; charset=us-ascii" />
  <link href="index.html#Top" rel="start" title="Top" />
  <link href="index.html#SEC_Contents" rel="contents" title=
  "Table of Contents" />
  <link href="Item-Editing.html#Item-Editing" rel="up" title=
  "Item Editing" />
  <link href=
  "Editing-Item-Headers-and-Text.html#Editing-Item-Headers-and-Text"
  rel="next" title="Editing Item Headers and Text" />
  <link href="Item-Editing.html#Item-Editing" rel="prev" title=
  "Item Editing" />
  <style type="text/css">
/*<![CDATA[*/
  <!--
  a.summary-letter {text-decoration: none}
  blockquote.smallquotation {font-size: smaller}
  div.display {margin-left: 3.2em}
  div.example {margin-left: 3.2em}
  div.indentedblock {margin-left: 3.2em}
  div.lisp {margin-left: 3.2em}
  div.smalldisplay {margin-left: 3.2em}
  div.smallexample {margin-left: 3.2em}
  div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
  div.smalllisp {margin-left: 3.2em}
  kbd {font-style:oblique}
  pre.display {font-family: inherit}
  pre.format {font-family: inherit}
  pre.menu-comment {font-family: serif}
  pre.menu-preformatted {font-family: serif}
  pre.smalldisplay {font-family: inherit; font-size: smaller}
  pre.smallexample {font-size: smaller}
  pre.smallformat {font-family: inherit; font-size: smaller}
  pre.smalllisp {font-size: smaller}
  span.nocodebreak {white-space:nowrap}
  span.nolinebreak {white-space:nowrap}
  span.roman {font-family:serif; font-weight:normal}
  span.sansserif {font-family:sans-serif; font-weight:normal}
  ul.no-bullet {list-style: none}
  -->
  /*]]>*/
  </style>
  <style type="text/css">
/*<![CDATA[*/
  body {
  background-color: #FFFFFF;
  color: #000000;
  }
  :link { color: #0000FF }
  :visited { color: #800080 }
  :active { color: #FF0000 }
  /*]]>*/
  </style>
</head>

<body lang="en" xml:lang="en">
  <a name="Inserting-New-Items" id="Inserting-New-Items"></a>

  <div class="header">
    <p>Next: <a href=
    "Editing-Item-Headers-and-Text.html#Editing-Item-Headers-and-Text"
    accesskey="n" rel="next">Editing Item Headers and Text</a>, Up:
    <a href="Item-Editing.html#Item-Editing" accesskey="u" rel=
    "up">Item Editing</a> &nbsp; [<a href="index.html#SEC_Contents"
    title="Table of contents" rel="contents">Contents</a>]</p>
  </div>
  <hr />
  <a name="Inserting-New-Items-1" id="Inserting-New-Items-1"></a>

  <h4 class="subsection">5.3.1 Inserting New Items</h4>

  <p>To add a new todo item to a category, type <kbd>i</kbd>, which
  is bound to the command <code>todo-insert-item</code>.</p>

  <dl compact="compact">
    <dt><kbd>i</kbd></dt>

    <dd>
      <p>This command is the entry point for inserting new items
      into a category (<code>todo-insert-item</code>). It prompts
      for additional keys until reaching a complete key sequence,
      which specifies the insertion parameters you wish to apply
      (see below). It then prompts for the text of the item, which
      you enter in the minibuffer.<a name="DOCF6" href="#FOOT6" id=
      "DOCF6"><sup>6</sup></a> Called with one prefix argument, it
      also prompts for a category, and called with two prefix
      arguments, it prompts for both a file and a category from
      that file, and inserts the item accordingly; category name
      completion works as with the navigation command <kbd>j</kbd>.
      Finally, it inserts the item into the current or selected
      category of the current or selected todo file at the position
      in the list corresponding to the priority you choose, which
      also depends on the insertion parameters.</p>
    </dd>
  </dl>

  <p>The name of this command reflects the fact that you can insert
  a new item into the category at any position, giving each new
  item any priority in the list, whereas speaking of adding an item
  to a category suggests appending it to the top or bottom.</p>

  <p>In addition to its file and category, each newly inserted todo
  item has a priority in the category and begins with a header
  string, which includes at least the current date in the same
  format used by <code>diary-insert-entry</code> (see <a href=
  "http://www.gnu.org/software/emacs/manual/html_node/emacs/Date-Formats.html#Date-Formats">
  (emacs)Date Formats</a>). You can specify the priority and the
  content of the header string in two ways. First, you can set the
  following item insertion options, which apply on every invocation
  of <code>todo-insert-item</code>.</p>

  <ul>
    <li><code>todo-default-priority</code> is for automatically
    assigning a new item the highest or lowest priority in the
    category, if you do not explicitly assign it a priority on
    invoking <code>todo-insert-item</code>. By default, such new
    items are given highest priority, i.e., inserted at the top of
    the list.</li>

    <li><code>todo-always-add-time-string</code> is for including
    or omitting the current time in the new item&rsquo;s header. By
    default, this time string is omitted.</li>

    <li><code>todo-include-in-diary</code> is for specifying
    whether the item appears in the Fancy Diary display (when the
    todo file is included in the Emacs diary file) by adding or
    omitting <code>todo-nondiary-marker</code>. By default, new
    todo items are so marked, thus excluded from the diary.</li>

    <li><code>todo-diary-nonmarking</code> is for adding or
    omitting <code>diary-nonmarking-symbol</code> to items
    displayed in the diary, to control whether they are marked in
    the calendar (see <a href=
    "http://www.gnu.org/software/emacs/manual/html_node/emacs/Format-of-Diary-File.html#Format-of-Diary-File">
    (emacs)Format of Diary File</a>). By default, todo items that
    are diary entries lack this symbol, thus are marked in the
    calendar.</li>
  </ul>

  <p>Beside setting these options, for more flexibility you can
  also pass certain parameters on each invocation of
  <code>todo-insert-item</code>. These parameters concern not only
  the new item&rsquo;s priority and header, but also its textual
  content. You pass these parameters by typing a sequence of one or
  more keys after the initial <kbd>i</kbd>.</p>

  <p>Here is a list of the item insertion parameters together with
  their mnemonically associated keys<a name="DOCF7" href="#FOOT7"
  id="DOCF7"><sup>7</sup></a> and descriptions of their effect in
  <code>todo-insert-item</code>:</p>

  <ol>
    <li>&lsquo;<samp>default</samp>&rsquo; (<kbd>i</kbd>): Prompt
    for the new item&rsquo;s priority (a number between 1 and one
    more than the number of items already in the category) and add
    a header string conforming to the values of the above options.

      <p>&lsquo;<samp>copy</samp>&rsquo; (<kbd>p</kbd>): Make an
      exact copy of the item at point, including its header string,
      and prompt for its priority. (This is useful for quickly
      making a new todo item whose text or header you want to
      differ only partly from that of an existing item: after
      inserting the copy, you can quickly edit it as needed by
      using operations described in the next section.)</p>
    </li>

    <li>&lsquo;<samp>diary</samp>&rsquo; (<kbd>y</kbd>): Override
    the option <code>todo-include-in-diary</code>; that is, add
    <code>todo-nondiary-marker</code> if the option is
    non-<code>nil</code>, omit this marker if the option is <code>
      nil</code>.

      <p>&lsquo;<samp>nonmarking</samp>&rsquo; (<kbd>k</kbd>):
      Override the option <code>todo-diary-nonmarking</code>; that
      is, add <code>diary-nonmarking-symbol</code> if the option is
      non-<code>nil</code>, omit this symbol if the option is
      <code>nil</code>. Since this symbol only applies to diary
      items, the new item is automatically marked as such, i.e.,
      lacks <code>todo-nondiary-marker</code>.</p>
    </li>

    <li>&lsquo;<samp>calendar</samp>&rsquo; (<kbd>c</kbd>): Pop up
    the Emacs calendar and click a date in it to use that date in
    the new todo item&rsquo;s header.

      <p>&lsquo;<samp>date</samp>&rsquo; (<kbd>d</kbd>): Prompt for
      entering in the minibuffer the year, month (with completion)
      and day number components of the header.</p>

      <p>&lsquo;<samp>dayname</samp>&rsquo; (<kbd>n</kbd>): Prompt
      for entering in the minibuffer a weekday name as the date
      header instead of a year-month-day string.</p>
    </li>

    <li>&lsquo;<samp>time</samp>&rsquo; (<kbd>t</kbd>): Prompt for
    entering a time string in the minibuffer instead of
    automatically inserting the current time; however, typing
    <tt class="key">RET</tt> at the prompt enters the current time
    if <code>todo-always-add-time-string</code> is
    non-<code>nil</code>, otherwise it enters the empty string
    (i.e., no time string).</li>

    <li>&lsquo;<samp>here</samp>&rsquo; (<kbd>h</kbd>): Insert the
    new item in the position of the item at point, pushing that and
    all lower items in the category down, i.e., lowering their
    priority, by one.

      <p>&lsquo;<samp>region</samp>&rsquo; (<kbd>r</kbd>): Use the
      text of the selected region as the text of the new item, and
      insert this in accordance with the item insertion options and
      other parameters passed. If the option
      <code>todo-use-only-highlighted-region</code> is
      non-<code>nil</code>, then use the region only when it is
      highlighted; otherwise, use the region regardless of
      highlighting.</p>
    </li>
  </ol>

  <p>Note that the parameters are divided into five numbered
  groups; within a group, the parameters are mutually exclusive.
  Hence, to build a complete insertion operation, you select at
  most one parameter from at least one of these groups, by typing
  the corresponding key. If you want to apply more than one
  parameter, you must type the corresponding keys in the order of
  the numbered groups, subject to the following constraints.</p>

  <p>The keys of groups 2-4 are continuation keys, that is, each
  can be followed by a key from a following group. If you want to
  finish the sequence with a continuation key, you must double the
  final key. For example, <kbd>i y</kbd> is not a complete key
  sequence; rather, you must type <kbd>i y y</kbd>.</p>

  <p>By contrast, the keys of groups 1 and 5 are final keys; for
  example, <kbd>i i</kbd> and <kbd>i h</kbd> are complete
  sequences. The reason for making two separate groups of the final
  keys is that the parameters &lsquo;<samp>default</samp>&rsquo;
  and &lsquo;<samp>copy</samp>&rsquo; cannot be combined with any
  other parameters, while &lsquo;<samp>here</samp>&rsquo; and
  &lsquo;<samp>region</samp>&rsquo; can be combined with any of the
  parameters from groups 2-4.</p>

  <p>To aid you in building item insertion key sequences, when you
  type an insertion key, this displays a prompt in the echo area
  showing pairs of the remaining possible keys and their associated
  parameters, grouped and ordered in accordance with the above
  list. The initial prompt, after typing <kbd>i</kbd> to invoke
  <code>todo-insert-item</code>, looks like this:</p>

  <div class="example">
    <pre class="example">
Press a key (so far <kbd>i</kbd>):  { i=&gt;default p=&gt;copy } { y=&gt;diary k=&gt;nonmarking } { c=&gt;calendar d=&gt;date n=&gt;dayname } t=&gt;time { h=&gt;here r=&gt;region }
</pre>
  </div>

  <p>If you now type <kbd>y</kbd>, the prompt changes to this:</p>

  <div class="example">
    <pre class="example">
Press a key (so far <kbd>i y</kbd>):  y=&gt;diary:GO! { c=&gt;calendar d=&gt;date n=&gt;dayname } t=&gt;time { h=&gt;here r=&gt;region }
</pre>
  </div>

  <p>Notice that the pair
  &lsquo;<samp>k=&gt;nonmarking</samp>&rsquo; is now absent, since
  it belongs to the same group as the selected pair
  &lsquo;<samp>y=&gt;diary</samp>&rsquo;, hence is no longer
  available for this sequence. Since <kbd>y</kbd> is a continuation
  key, it is still available, but now the string
  &lsquo;<samp>:GO!</samp>&rsquo; is appended to the pair to remind
  you that pressing this key again will complete the sequence.</p>

  <p>An alternative to the key sequence <kbd>i c c</kbd> for
  choosing the item&rsquo;s date from the calendar is also
  available: when point is already on a date in the calendar,
  typing <kbd>i t</kbd>
  (<code>todo-insert-item-from-calendar</code>) prompts for a new
  item and its priority and inserts it in the current category.
  This command, like <code>todo-insert-item</code>, also accepts
  one or two prefix arguments for choosing the category via
  minibuffer completion. Note, however, that the key sequence
  <kbd>i t</kbd> is not defined in Todo mode but in the Calendar
  mode keymap. It is a convenient shortcut if you happen to be
  using the calendar when you decide to make a new todo item.
  (Contrast this with passing the
  &lsquo;<samp>calendar</samp>&rsquo; parameter, which pops open
  the calendar after you have entered the item&rsquo;s text, and
  then you can choose a date from the calendar.)</p>

  <div class="footnote">
    <hr />

    <h4 class="footnotes-heading">Footnotes</h4>

    <h3><a name="FOOT6" href="#DOCF6" id="FOOT6">(6)</a></h3>

    <p>There are two insertion parameters that override prompting
    for and manually entering the new item&rsquo;s text, see
    below.</p>

    <h3><a name="FOOT7" href="#DOCF7" id="FOOT7">(7)</a></h3>

    <p>The non-mnemonic choice of <kbd>i</kbd> for the parameter
    &lsquo;<samp>default</samp>&rsquo; is motivated by the
    convenience of repeating the <kbd>i</kbd> used to invoke
    <code>todo-insert-item</code>.</p>
  </div>
  <hr />

  <div class="header">
    <p>Next: <a href=
    "Editing-Item-Headers-and-Text.html#Editing-Item-Headers-and-Text"
    accesskey="n" rel="next">Editing Item Headers and Text</a>, Up:
    <a href="Item-Editing.html#Item-Editing" accesskey="u" rel=
    "up">Item Editing</a> &nbsp; [<a href="index.html#SEC_Contents"
    title="Table of contents" rel="contents">Contents</a>]</p>
  </div>
</body>
</html>
