<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<!-- This is version 8.6 of The MH-E
Manual, last updated 2016-04-29.

Copyright (C) 1995, 2001-2003, 2005-2016 Free Software
Foundation, Inc.


Permission is granted to copy, distribute and/or modify this document
under the terms of either:

a. the GNU Free Documentation License, Version 1.3 or any later version
published by the Free Software Foundation; with no Invariant Sections,
with the Front-Cover Texts being "A GNU Manual," and with the
Back-Cover Texts as in (a) below. A copy of the license is included in
the section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual."

b. the GNU General Public License as published by the Free Software
Foundation; either version 3, or (at your option) any later version. A
copy of the license is included in the section entitled "GNU General
Public License."
 -->
<!-- Created by GNU Texinfo 5.2, http://www.gnu.org/software/texinfo/ -->

<head>
  <meta name="generator" content=
  "HTML Tidy for Mac OS X (vers 31 October 2006 - Apple Inc. build 16.1), see www.w3.org" />

  <title>The MH-E Manual: Identities</title>
  <meta name="description" content="The MH-E Manual: Identities" />
  <meta name="keywords" content="The MH-E Manual: Identities" />
  <meta name="resource-type" content="document" />
  <meta name="distribution" content="global" />
  <meta name="Generator" content="makeinfo" />
  <meta http-equiv="Content-Type" content=
  "text/html; charset=us-ascii" />
  <link href="index.html#Top" rel="start" title="Top" />
  <link href="Key-Index.html#Key-Index" rel="index" title=
  "Key Index" />
  <link href="index.html#SEC_Contents" rel="contents" title=
  "Table of Contents" />
  <link href="index.html#Top" rel="up" title="Top" />
  <link href="Speedbar.html#Speedbar" rel="next" title=
  "Speedbar" />
  <link href="Aliases.html#Aliases" rel="prev" title="Aliases" />
  <style type="text/css">
/*<![CDATA[*/
  <!--
  a.summary-letter {text-decoration: none}
  blockquote.smallquotation {font-size: smaller}
  div.display {margin-left: 3.2em}
  div.example {margin-left: 3.2em}
  div.indentedblock {margin-left: 3.2em}
  div.lisp {margin-left: 3.2em}
  div.smalldisplay {margin-left: 3.2em}
  div.smallexample {margin-left: 3.2em}
  div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
  div.smalllisp {margin-left: 3.2em}
  kbd {font-style:oblique}
  pre.display {font-family: inherit}
  pre.format {font-family: inherit}
  pre.menu-comment {font-family: serif}
  pre.menu-preformatted {font-family: serif}
  pre.smalldisplay {font-family: inherit; font-size: smaller}
  pre.smallexample {font-size: smaller}
  pre.smallformat {font-family: inherit; font-size: smaller}
  pre.smalllisp {font-size: smaller}
  span.nocodebreak {white-space:nowrap}
  span.nolinebreak {white-space:nowrap}
  span.roman {font-family:serif; font-weight:normal}
  span.sansserif {font-family:sans-serif; font-weight:normal}
  ul.no-bullet {list-style: none}
  -->
  /*]]>*/
  </style>
  <style type="text/css">
/*<![CDATA[*/
  body {
  background-color: #FFFFFF;
  color: #000000;
  }
  :link { color: #0000FF }
  :visited { color: #800080 }
  :active { color: #FF0000 }
  /*]]>*/
  </style>
</head>

<body lang="en" xml:lang="en">
  <a name="Identities" id="Identities"></a>

  <div class="header">
    <p>Next: <a href="Speedbar.html#Speedbar" accesskey="n" rel=
    "next">Speedbar</a>, Previous: <a href="Aliases.html#Aliases"
    accesskey="p" rel="prev">Aliases</a>, Up: <a href=
    "index.html#Top" accesskey="u" rel="up">Top</a> &nbsp;
    [<a href="index.html#SEC_Contents" title="Table of contents"
    rel="contents">Contents</a>][<a href="Key-Index.html#Key-Index"
    title="Index" rel="index">Index</a>]</p>
  </div>
  <hr />
  <a name="Identities-1" id="Identities-1"></a>

  <h2 class="chapter">11 Identities</h2><a name="index-identities"
  id="index-identities"></a> <a name="index-multiple-personalities"
  id="index-multiple-personalities"></a>

  <p>MH-E supports the concept of multiple personalities or
  identities. This means that you can easily have a different
  header and signature at home and at work.</p><a name=
  "index-Identity-menu" id="index-Identity-menu"></a> <a name=
  "index-menu_002c-Identity" id="index-menu_002c-Identity"></a>

  <p>A couple of commands are used to insert identities in
  MH-Letter mode which are also found in the
  &lsquo;<samp>Identity</samp>&rsquo; menu.</p>

  <dl compact="compact">
    <dd><a name="index-C_002dc-C_002dd-1" id=
    "index-C_002dc-C_002dd-1"></a> <a name=
    "index-mh_002dinsert_002didentity-1" id=
    "index-mh_002dinsert_002didentity-1"></a></dd>

    <dt><kbd>C-c C-d</kbd></dt>

    <dd>
      <p>Insert fields specified by given identity
      (<code>mh-insert-identity</code>). <a name=
      "index-Identity-_003e-Insert-Auto-Fields-menu-item" id=
      "index-Identity-_003e-Insert-Auto-Fields-menu-item"></a>
      <a name=
      "index-menu-item_002c-Identity-_003e-Insert-Auto-Fields" id=
      "index-menu-item_002c-Identity-_003e-Insert-Auto-Fields"></a>
      <a name="index-C_002dc-M_002dd-1" id=
      "index-C_002dc-M_002dd-1"></a> <a name=
      "index-mh_002dinsert_002dauto_002dfields-1" id=
      "index-mh_002dinsert_002dauto_002dfields-1"></a></p>
    </dd>

    <dt><kbd>C-c M-d</kbd></dt>

    <dd>
      <p>Insert custom fields if recipient found in
      <code>mh-auto-fields-list</code>
      (<code>mh-insert-auto-fields</code>).</p>
    </dd>
  </dl><a name="index-mh_002didentity-customization-group" id=
  "index-mh_002didentity-customization-group"></a> <a name=
  "index-customization-group_002c-mh_002didentity" id=
  "index-customization-group_002c-mh_002didentity"></a>

  <p>The &lsquo;<samp>mh-identity</samp>&rsquo; customization group
  contains the following options.</p>

  <dl compact="compact">
    <dt><code>mh-auto-fields-list</code> <a name=
    "index-mh_002dauto_002dfields_002dlist" id=
    "index-mh_002dauto_002dfields_002dlist"></a></dt>

    <dd>
      <p>List of recipients for which header lines are
      automatically inserted (default: <code>nil</code>).</p>
    </dd>

    <dt><code>mh-auto-fields-prompt-flag</code> <a name=
    "index-mh_002dauto_002dfields_002dprompt_002dflag" id=
    "index-mh_002dauto_002dfields_002dprompt_002dflag"></a></dt>

    <dd>
      <p>On means to prompt before sending if fields inserted
      (default: &lsquo;<samp>on</samp>&rsquo;)</p>
    </dd>

    <dt><code>mh-identity-default</code> <a name=
    "index-mh_002didentity_002ddefault" id=
    "index-mh_002didentity_002ddefault"></a></dt>

    <dd>
      <p>Default identity to use when <code>mh-letter-mode</code>
      is called (default: &lsquo;<samp>None</samp>&rsquo;).</p>
    </dd>

    <dt><code>mh-identity-handlers</code> <a name=
    "index-mh_002didentity_002dhandlers" id=
    "index-mh_002didentity_002dhandlers"></a></dt>

    <dd>
      <p>Handler functions for fields in
      <code>mh-identity-list</code>.</p>
    </dd>

    <dt><code>mh-identity-list</code> <a name=
    "index-mh_002didentity_002dlist" id=
    "index-mh_002didentity_002dlist"></a></dt>

    <dd>
      <p>List of identities (default: <code>nil</code>).</p>
    </dd>
  </dl>

  <p>Some of the common header fields that people change depending
  on the context are the &lsquo;<samp>From:</samp>&rsquo; and
  &lsquo;<samp>Organization:</samp>&rsquo; fields, as well as the
  signature.</p><a name="index-mh_002didentity_002dlist-1" id=
  "index-mh_002didentity_002dlist-1"></a>

  <p>This is done by customizing the option
  <code>mh-identity-list</code>. In the customization buffer for
  this option, click on the &lsquo;<samp>INS</samp>&rsquo; button
  and enter a label such as &lsquo;<samp>Home</samp>&rsquo; or
  &lsquo;<samp>Work</samp>&rsquo;. Then click on the
  &lsquo;<samp>INS</samp>&rsquo; button with the label
  &lsquo;<samp>Add at least one item below</samp>&rsquo;. The
  &lsquo;<samp>Value Menu</samp>&rsquo; has the following menu
  items:</p>

  <dl compact="compact">
    <dd><a name="index-header-field_002c-From-1" id=
    "index-header-field_002c-From-1"></a> <a name=
    "index-From-header-field-1" id=
    "index-From-header-field-1"></a></dd>

    <dt>&lsquo;<samp>From Field</samp>&rsquo;</dt>

    <dd>
      <p>Specify an alternate &lsquo;<samp>From:</samp>&rsquo;
      header field. You must include a valid email address. A
      standard format is &lsquo;<samp>First Last
      &lt;login@host.domain&gt;</samp>&rsquo;. If you use an
      initial with a period, then you must quote your name as in
      &lsquo;<samp>"First I. Last"
      &lt;login@host.domain&gt;</samp>&rsquo;. <a name=
      "index-header-field_002c-Organization" id=
      "index-header-field_002c-Organization"></a> <a name=
      "index-Organization-header-field" id=
      "index-Organization-header-field"></a></p>
    </dd>

    <dt>&lsquo;<samp>Organization Field</samp>&rsquo;</dt>

    <dd>
      <p>People usually list the name of the company where they
      work here.</p>
    </dd>

    <dt>&lsquo;<samp>Other Field</samp>&rsquo;</dt>

    <dd>
      <p>Set any arbitrary header field and value here. Unless the
      header field is a standard one, precede the name of your
      field&rsquo;s label with &lsquo;<samp>X-</samp>&rsquo;, as in
      &lsquo;<samp>X-Fruit-of-the-Day:</samp>&rsquo;.</p>
    </dd>

    <dt>&lsquo;<samp>Attribution Verb</samp>&rsquo;</dt>

    <dd>
      <p>This value overrides the setting of
      <code>mh-extract-from-attribution-verb</code>. See <a href=
      "Inserting-Letter.html#Inserting-Letter">Inserting
      Letter</a>. <a name="index-signature-1" id=
      "index-signature-1"></a> <a name=
      "index-mh_002dsignature_002dfile_002dname-4" id=
      "index-mh_002dsignature_002dfile_002dname-4"></a></p>
    </dd>

    <dt>&lsquo;<samp>Signature</samp>&rsquo;</dt>

    <dd>
      <p>Set your signature with this item. You can specify the
      contents of <code>mh-signature-file-name</code>, a file, or a
      function. See <a href=
      "Signature.html#Signature">Signature</a>.</p>
    </dd>

    <dt>&lsquo;<samp>GPG Key ID</samp>&rsquo;</dt>

    <dd>
      <p>Specify a different key to sign or encrypt messages.</p>
    </dd>
  </dl><a name="index-Identity-menu-1" id=
  "index-Identity-menu-1"></a> <a name="index-menu_002c-Identity-1"
  id="index-menu_002c-Identity-1"></a> <a name=
  "index-mh_002dinsert_002didentity-2" id=
  "index-mh_002dinsert_002didentity-2"></a> <a name=
  "index-C_002dc-C_002dd-2" id="index-C_002dc-C_002dd-2"></a>

  <p>You can select the identities you have added via the menu
  called &lsquo;<samp>Identity</samp>&rsquo; in the MH-Letter
  buffer. You can also use <kbd>C-c C-d</kbd>
  (<code>mh-insert-identity</code>). To clear the fields and
  signature added by the identity, select the
  &lsquo;<samp>None</samp>&rsquo; identity.</p><a name=
  "index-menu-item_002c-Identity-_003e-Customize-Identities" id=
  "index-menu-item_002c-Identity-_003e-Customize-Identities"></a>
  <a name="index-menu-item_002c-Identity-_003e-Save-as-Default" id=
  "index-menu-item_002c-Identity-_003e-Save-as-Default"></a>
  <a name=
  "index-menu-item_002c-Identity-_003e-Set-Default-for-Session" id=
  "index-menu-item_002c-Identity-_003e-Set-Default-for-Session"></a>
  <a name="index-Identity-_003e-Customize-Identities-menu-item" id=
  "index-Identity-_003e-Customize-Identities-menu-item"></a>
  <a name="index-Identity-_003e-Save-as-Default-menu-item" id=
  "index-Identity-_003e-Save-as-Default-menu-item"></a> <a name=
  "index-Identity-_003e-Set-Default-for-Session-menu-item" id=
  "index-Identity-_003e-Set-Default-for-Session-menu-item"></a>
  <a name="index-mh_002didentity_002ddefault-1" id=
  "index-mh_002didentity_002ddefault-1"></a>

  <p>The &lsquo;<samp>Identity</samp>&rsquo; menu contains two
  other items to save you from having to set the identity on every
  message. The menu item &lsquo;<samp>Set Default for
  Session</samp>&rsquo; can be used to set the default identity to
  the current identity until you exit Emacs. The menu item
  &lsquo;<samp>Save as Default</samp>&rsquo; sets the option
  <code>mh-identity-default</code> to the current identity setting.
  You can also customize the option
  <code>mh-identity-default</code> in the usual fashion. If you
  find that you need to add another identity, the menu item
  &lsquo;<samp>Customize Identities</samp>&rsquo; is available for
  your convenience.</p><a name=
  "index-regular-expressions_002c-mh_002dauto_002dfields_002dlist"
  id=
  "index-regular-expressions_002c-mh_002dauto_002dfields_002dlist"></a>
  <a name="index-mh_002dauto_002dfields_002dlist-1" id=
  "index-mh_002dauto_002dfields_002dlist-1"></a>

  <p>The option <code>mh-auto-fields-list</code> can also be used
  to set the identity depending on the recipient to provide even
  more control. To customize <code>mh-auto-fields-list</code>,
  click on the &lsquo;<samp>INS</samp>&rsquo; button and enter a
  regular expression for the recipient&rsquo;s address (see the
  section <a href=
  "http://www.gnu.org/software/emacs/manual/html_node/emacs/Regexps.html">
  Syntax of Regular Expressions</a> in <cite>The GNU Emacs
  Manual</cite>). Click on the &lsquo;<samp>INS</samp>&rsquo;
  button with the &lsquo;<samp>Add at least one item
  below</samp>&rsquo; label. The &lsquo;<samp>Value
  Menu</samp>&rsquo; contains the following menu items:</p>

  <dl compact="compact">
    <dt>&lsquo;<samp>Identity</samp>&rsquo;</dt>

    <dd>
      <p>Select an identity from those configured in
      <code>mh-identity-list</code>. All of the information for
      that identity will be added if the recipient matches.
      <a name="index-Fcc-header-field-1" id=
      "index-Fcc-header-field-1"></a> <a name=
      "index-header-field_002c-Fcc-1" id=
      "index-header-field_002c-Fcc-1"></a></p>
    </dd>

    <dt>&lsquo;<samp>Fcc Field</samp>&rsquo;</dt>

    <dd>
      <p>Insert an &lsquo;<samp>Fcc:</samp>&rsquo; header field
      with the folder you provide. When you send the message, MH
      will put a copy of your message in this folder. <a name=
      "index-Mail_002dFollowup_002dTo-header-field-1" id=
      "index-Mail_002dFollowup_002dTo-header-field-1"></a> <a name=
      "index-header-field_002c-Mail_002dFollowup_002dTo-1" id=
      "index-header-field_002c-Mail_002dFollowup_002dTo-1"></a></p>
    </dd>

    <dt>&lsquo;<samp>Mail-Followup-To Field</samp>&rsquo;</dt>

    <dd>
      <p>Insert an &lsquo;<samp>Mail-Followup-To:</samp>&rsquo;
      header field with the recipients you provide. If the
      recipient&rsquo;s mail user agent supports this header
      field<a name="DOCF47" href="#FOOT47" id=
      "DOCF47"><sup>47</sup></a>, then their replies will go to the
      addresses listed. This is useful if their replies go both to
      the list and to you and you don&rsquo;t have a mechanism to
      suppress duplicates. If you reply to someone not on the list,
      you must either remove the
      &lsquo;<samp>Mail-Followup-To:</samp>&rsquo; field, or ensure
      the recipient is also listed there so that he receives
      replies to your reply.</p>
    </dd>

    <dt>&lsquo;<samp>Other Field</samp>&rsquo;</dt>

    <dd>
      <p>Other header fields may be added using this menu item.</p>
    </dd>
  </dl><a name="index-mh_002dinsert_002dauto_002dfields-2" id=
  "index-mh_002dinsert_002dauto_002dfields-2"></a> <a name=
  "index-C_002dc-M_002dd-2" id="index-C_002dc-M_002dd-2"></a>
  <a name="index-mh_002dauto_002dfields_002dprompt_002dflag-1" id=
  "index-mh_002dauto_002dfields_002dprompt_002dflag-1"></a>

  <p>These fields can only be added after the recipient is known.
  Because you can continue to add recipients as you edit the draft,
  MH-E waits until the message is sent to perform the
  auto-insertions. This seems strange at first, but you&rsquo;ll
  get used to it. There are two ways to help you feel that the
  desired fields are added. The first is the action when the
  message is sent: if any fields are added automatically, you are
  given a chance to see and to confirm these fields before the
  message is actually sent. You can do away with this confirmation
  by turning off the option
  <code>mh-auto-fields-prompt-flag</code>. The second method is
  manual: once the header contains one or more recipients, you may
  run the command <kbd>C-c M-d</kbd>
  (<code>mh-insert-auto-fields</code>) or choose the
  &lsquo;<samp>Identity -&gt; Insert Auto Fields</samp>&rsquo; menu
  item to insert these fields manually. However, if you use this
  command, the automatic insertion when the message is sent is
  disabled.</p><a name="index-mh_002dauto_002dfields_002dlist-2"
  id="index-mh_002dauto_002dfields_002dlist-2"></a> <a name=
  "index-mh_002didentity_002dlist-2" id=
  "index-mh_002didentity_002dlist-2"></a>

  <p>You should avoid using the same header field in
  <code>mh-auto-fields-list</code> and
  <code>mh-identity-list</code> definitions that may apply to the
  same message as the result is undefined.</p><a name=
  "index-mh_002didentity_002dhandlers-1" id=
  "index-mh_002didentity_002dhandlers-1"></a> <a name=
  "index-mh_002didentity_002dlist-3" id=
  "index-mh_002didentity_002dlist-3"></a>

  <p>The option <code>mh-identity-handlers</code> is used to change
  the way that fields, signatures, and attributions in
  <code>mh-identity-list</code> are added. To customize
  <code>mh-identity-handlers</code>, replace the name of an
  existing handler function associated with the field you want to
  change with the name of a function you have written. You can also
  click on an &lsquo;<samp>INS</samp>&rsquo; button and insert a
  field of your choice and the name of the function you have
  written to handle it.</p><a name=
  "index-mh_002didentity_002dlist-4" id=
  "index-mh_002didentity_002dlist-4"></a>

  <p>The &lsquo;<samp>Field</samp>&rsquo; field can be any field
  that you&rsquo;ve used in your <code>mh-identity-list</code>. The
  special fields &lsquo;<samp>:attribution-verb</samp>&rsquo;,
  &lsquo;<samp>:signature</samp>&rsquo;, or
  &lsquo;<samp>:pgg-default-user-id</samp>&rsquo; are used for the
  <code>mh-identity-list</code> choices &lsquo;<samp>Attribution
  Verb</samp>&rsquo;, &lsquo;<samp>Signature</samp>&rsquo;, and
  &lsquo;<samp>GPG Key ID</samp>&rsquo; respectively.</p>

  <p>The handler associated with the
  &lsquo;<samp>:default</samp>&rsquo; field is used when no other
  field matches.</p>

  <p>The handler functions are passed two or three arguments: the
  field itself (for example, &lsquo;<samp>From</samp>&rsquo;), or
  one of the special fields (for example,
  &lsquo;<samp>:signature</samp>&rsquo;), and the action
  &lsquo;<samp>'remove</samp>&rsquo; or
  &lsquo;<samp>'add</samp>&rsquo;. If the action is
  &lsquo;<samp>'add</samp>&rsquo;, an additional argument
  containing the value for the field is given.</p>

  <div class="footnote">
    <hr />

    <h4 class="footnotes-heading">Footnotes</h4>

    <h3><a name="FOOT47" href="#DOCF47" id="FOOT47">(47)</a></h3>

    <p>&lsquo;<samp>Mail-Followup-To:</samp>&rsquo; is supported by
    nmh.</p>
  </div>
  <hr />

  <div class="header">
    <p>Next: <a href="Speedbar.html#Speedbar" accesskey="n" rel=
    "next">Speedbar</a>, Previous: <a href="Aliases.html#Aliases"
    accesskey="p" rel="prev">Aliases</a>, Up: <a href=
    "index.html#Top" accesskey="u" rel="up">Top</a> &nbsp;
    [<a href="index.html#SEC_Contents" title="Table of contents"
    rel="contents">Contents</a>][<a href="Key-Index.html#Key-Index"
    title="Index" rel="index">Index</a>]</p>
  </div>
</body>
</html>
