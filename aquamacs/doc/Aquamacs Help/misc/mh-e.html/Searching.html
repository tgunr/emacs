<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<!-- This is version 8.6 of The MH-E
Manual, last updated 2016-04-29.

Copyright (C) 1995, 2001-2003, 2005-2016 Free Software
Foundation, Inc.


Permission is granted to copy, distribute and/or modify this document
under the terms of either:

a. the GNU Free Documentation License, Version 1.3 or any later version
published by the Free Software Foundation; with no Invariant Sections,
with the Front-Cover Texts being "A GNU Manual," and with the
Back-Cover Texts as in (a) below. A copy of the license is included in
the section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual."

b. the GNU General Public License as published by the Free Software
Foundation; either version 3, or (at your option) any later version. A
copy of the license is included in the section entitled "GNU General
Public License."
 -->
<!-- Created by GNU Texinfo 5.2, http://www.gnu.org/software/texinfo/ -->

<head>
  <meta name="generator" content=
  "HTML Tidy for Mac OS X (vers 31 October 2006 - Apple Inc. build 16.1), see www.w3.org" />

  <title>The MH-E Manual: Searching</title>
  <meta name="description" content="The MH-E Manual: Searching" />
  <meta name="keywords" content="The MH-E Manual: Searching" />
  <meta name="resource-type" content="document" />
  <meta name="distribution" content="global" />
  <meta name="Generator" content="makeinfo" />
  <meta http-equiv="Content-Type" content=
  "text/html; charset=us-ascii" />
  <link href="index.html#Top" rel="start" title="Top" />
  <link href="Key-Index.html#Key-Index" rel="index" title=
  "Key Index" />
  <link href="index.html#SEC_Contents" rel="contents" title=
  "Table of Contents" />
  <link href="index.html#Top" rel="up" title="Top" />
  <link href="Threading.html#Threading" rel="next" title=
  "Threading" />
  <link href="Tool-Bar.html#Tool-Bar" rel="prev" title=
  "Tool Bar" />
  <style type="text/css">
/*<![CDATA[*/
  <!--
  a.summary-letter {text-decoration: none}
  blockquote.smallquotation {font-size: smaller}
  div.display {margin-left: 3.2em}
  div.example {margin-left: 3.2em}
  div.indentedblock {margin-left: 3.2em}
  div.lisp {margin-left: 3.2em}
  div.smalldisplay {margin-left: 3.2em}
  div.smallexample {margin-left: 3.2em}
  div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
  div.smalllisp {margin-left: 3.2em}
  kbd {font-style:oblique}
  pre.display {font-family: inherit}
  pre.format {font-family: inherit}
  pre.menu-comment {font-family: serif}
  pre.menu-preformatted {font-family: serif}
  pre.smalldisplay {font-family: inherit; font-size: smaller}
  pre.smallexample {font-size: smaller}
  pre.smallformat {font-family: inherit; font-size: smaller}
  pre.smalllisp {font-size: smaller}
  span.nocodebreak {white-space:nowrap}
  span.nolinebreak {white-space:nowrap}
  span.roman {font-family:serif; font-weight:normal}
  span.sansserif {font-family:sans-serif; font-weight:normal}
  ul.no-bullet {list-style: none}
  -->
  /*]]>*/
  </style>
  <style type="text/css">
/*<![CDATA[*/
  body {
  background-color: #FFFFFF;
  color: #000000;
  }
  :link { color: #0000FF }
  :visited { color: #800080 }
  :active { color: #FF0000 }
  p.c1 {font-style: italic}
  /*]]>*/
  </style>
</head>

<body lang="en" xml:lang="en">
  <a name="Searching" id="Searching"></a>

  <div class="header">
    <p>Next: <a href="Threading.html#Threading" accesskey="n" rel=
    "next">Threading</a>, Previous: <a href=
    "Tool-Bar.html#Tool-Bar" accesskey="p" rel="prev">Tool Bar</a>,
    Up: <a href="index.html#Top" accesskey="u" rel="up">Top</a>
    &nbsp; [<a href="index.html#SEC_Contents" title=
    "Table of contents" rel="contents">Contents</a>][<a href=
    "Key-Index.html#Key-Index" title="Index" rel=
    "index">Index</a>]</p>
  </div>
  <hr />
  <a name="Searching-Through-Messages" id=
  "Searching-Through-Messages"></a>

  <h2 class="chapter">15 Searching Through Messages</h2><a name=
  "index-Search-menu-2" id="index-Search-menu-2"></a> <a name=
  "index-menu_002c-Search-2" id="index-menu_002c-Search-2"></a>
  <a name="index-searching" id="index-searching"></a> <a name=
  "index-mh_002dsearch-3" id="index-mh_002dsearch-3"></a> <a name=
  "index-F-s-2" id="index-F-s-2"></a>

  <p>Earlier, the command <kbd>F s</kbd> (<code>mh-search</code>)
  was introduced which helps you find messages that lie buried in
  your folders (see <a href="Folders.html#Folders">Folders</a>).
  This chapter covers this command in more detail. Several commands
  are used to compose the search criteria and to start searching. A
  couple of them can be found in the
  &lsquo;<samp>Search</samp>&rsquo; menu.</p>

  <dl compact="compact">
    <dd><a name="index-C_002dc-_003f-3" id=
    "index-C_002dc-_003f-3"></a> <a name="index-mh_002dhelp-4" id=
    "index-mh_002dhelp-4"></a></dd>

    <dt><kbd>C-c ?</kbd></dt>

    <dd>
      <p>Display cheat sheet for the MH-E commands
      (<code>mh-help</code>). <a name=
      "index-Search-_003e-Perform-Search-menu-item" id=
      "index-Search-_003e-Perform-Search-menu-item"></a> <a name=
      "index-menu-item_002c-Search-_003e-Perform-Search" id=
      "index-menu-item_002c-Search-_003e-Perform-Search"></a>
      <a name="index-C_002dc-C_002dc-6" id=
      "index-C_002dc-C_002dc-6"></a> <a name=
      "index-mh_002dindex_002ddo_002dsearch" id=
      "index-mh_002dindex_002ddo_002dsearch"></a></p>
    </dd>

    <dt><kbd>C-c C-c</kbd></dt>

    <dd>
      <p>Find messages using <code>mh-search-program</code>
      (<code>mh-index-do-search</code>). <a name=
      "index-Search-_003e-Search-with-pick-menu-item" id=
      "index-Search-_003e-Search-with-pick-menu-item"></a> <a name=
      "index-menu-item_002c-Search-_003e-Search-with-pick" id=
      "index-menu-item_002c-Search-_003e-Search-with-pick"></a>
      <a name="index-C_002dc-C_002dp" id=
      "index-C_002dc-C_002dp"></a> <a name=
      "index-mh_002dpick_002ddo_002dsearch" id=
      "index-mh_002dpick_002ddo_002dsearch"></a></p>
    </dd>

    <dt><kbd>C-c C-p</kbd></dt>

    <dd>
      <p>Find messages using <code>pick</code>
      (<code>mh-pick-do-search</code>). <a name=
      "index-C_002dc-_003f-4" id="index-C_002dc-_003f-4"></a>
      <a name="index-mh_002dhelp-5" id=
      "index-mh_002dhelp-5"></a></p>
    </dd>

    <dt><kbd>C-c ?</kbd></dt>

    <dd>
      <p>Display cheat sheet for the MH-E commands
      (<code>mh-help</code>). <a name=
      "index-C_002dc-C_002df-C_002da-1" id=
      "index-C_002dc-C_002df-C_002da-1"></a> <a name=
      "index-C_002dc-C_002df-a-1" id=
      "index-C_002dc-C_002df-a-1"></a> <a name=
      "index-mh_002dto_002dfield-2" id=
      "index-mh_002dto_002dfield-2"></a></p>
    </dd>

    <dt><kbd>C-c C-f a</kbd></dt>

    <dt><kbd>C-c C-f C-a</kbd></dt>

    <dd>
      <p>Move to &lsquo;<samp>Mail-Reply-To:</samp>&rsquo; header
      field (<code>mh-to-field</code>). <a name=
      "index-C_002dc-C_002df-C_002db-1" id=
      "index-C_002dc-C_002df-C_002db-1"></a> <a name=
      "index-C_002dc-C_002df-b-1" id=
      "index-C_002dc-C_002df-b-1"></a></p>
    </dd>

    <dt><kbd>C-c C-f b</kbd></dt>

    <dt><kbd>C-c C-f C-b</kbd></dt>

    <dd>
      <p>Move to &lsquo;<samp>Bcc:</samp>&rsquo; header field
      (<code>mh-to-field</code>). <a name=
      "index-C_002dc-C_002df-C_002dc-1" id=
      "index-C_002dc-C_002df-C_002dc-1"></a> <a name=
      "index-C_002dc-C_002df-c-1" id=
      "index-C_002dc-C_002df-c-1"></a></p>
    </dd>

    <dt><kbd>C-c C-f c</kbd></dt>

    <dt><kbd>C-c C-f C-c</kbd></dt>

    <dd>
      <p>Move to &lsquo;<samp>Cc:</samp>&rsquo; header field
      (<code>mh-to-field</code>). <a name=
      "index-C_002dc-C_002df-C_002dd-1" id=
      "index-C_002dc-C_002df-C_002dd-1"></a> <a name=
      "index-C_002dc-C_002df-d-1" id=
      "index-C_002dc-C_002df-d-1"></a></p>
    </dd>

    <dt><kbd>C-c C-f d</kbd></dt>

    <dt><kbd>C-c C-f C-d</kbd></dt>

    <dd>
      <p>Move to &lsquo;<samp>Dcc:</samp>&rsquo; header field
      (<code>mh-to-field</code>). <a name=
      "index-C_002dc-C_002df-C_002df-2" id=
      "index-C_002dc-C_002df-C_002df-2"></a> <a name=
      "index-C_002dc-C_002df-f-2" id=
      "index-C_002dc-C_002df-f-2"></a></p>
    </dd>

    <dt><kbd>C-c C-f f</kbd></dt>

    <dt><kbd>C-c C-f C-f</kbd></dt>

    <dd>
      <p>Move to &lsquo;<samp>Fcc:</samp>&rsquo; header field
      (<code>mh-to-field</code>). <a name=
      "index-C_002dc-C_002df-C_002dl-1" id=
      "index-C_002dc-C_002df-C_002dl-1"></a> <a name=
      "index-C_002dc-C_002df-l-1" id=
      "index-C_002dc-C_002df-l-1"></a></p>
    </dd>

    <dt><kbd>C-c C-f l</kbd></dt>

    <dt><kbd>C-c C-f C-l</kbd></dt>

    <dd>
      <p>Move to &lsquo;<samp>Mail-Followup-To:</samp>&rsquo;
      header field (<code>mh-to-field</code>). <a name=
      "index-C_002dc-C_002df-C_002dm-1" id=
      "index-C_002dc-C_002df-C_002dm-1"></a> <a name=
      "index-C_002dc-C_002df-m-1" id=
      "index-C_002dc-C_002df-m-1"></a></p>
    </dd>

    <dt><kbd>C-c C-f m</kbd></dt>

    <dt><kbd>C-c C-f C-m</kbd></dt>

    <dd>
      <p>Move to &lsquo;<samp>From:</samp>&rsquo; header field
      (<code>mh-to-field</code>). <a name=
      "index-C_002dc-C_002df-C_002dr-1" id=
      "index-C_002dc-C_002df-C_002dr-1"></a> <a name=
      "index-C_002dc-C_002df-r-1" id=
      "index-C_002dc-C_002df-r-1"></a></p>
    </dd>

    <dt><kbd>C-c C-f r</kbd></dt>

    <dt><kbd>C-c C-f C-r</kbd></dt>

    <dd>
      <p>Move to &lsquo;<samp>Reply-To:</samp>&rsquo; header field
      (<code>mh-to-field</code>). <a name=
      "index-C_002dc-C_002df-C_002ds-1" id=
      "index-C_002dc-C_002df-C_002ds-1"></a> <a name=
      "index-C_002dc-C_002df-s-1" id=
      "index-C_002dc-C_002df-s-1"></a></p>
    </dd>

    <dt><kbd>C-c C-f s</kbd></dt>

    <dt><kbd>C-c C-f C-s</kbd></dt>

    <dd>
      <p>Move to &lsquo;<samp>Subject:</samp>&rsquo; header field
      (<code>mh-to-field</code>). <a name=
      "index-C_002dc-C_002df-C_002dt-3" id=
      "index-C_002dc-C_002df-C_002dt-3"></a> <a name=
      "index-C_002dc-C_002df-t-2" id=
      "index-C_002dc-C_002df-t-2"></a></p>
    </dd>

    <dt><kbd>C-c C-f t</kbd></dt>

    <dt><kbd>C-c C-f C-t</kbd></dt>

    <dd>
      <p>Move to &lsquo;<samp>To:</samp>&rsquo; header field
      (<code>mh-to-field</code>).</p>
    </dd>
  </dl>

  <p>Another few commands are available in the MH-Folder buffer
  resulting from a search.</p>

  <dl compact="compact">
    <dd><a name="index-TAB-5" id="index-TAB-5"></a> <a name=
    "index-mh_002dindex_002dnext_002dfolder" id=
    "index-mh_002dindex_002dnext_002dfolder"></a></dd>

    <dt><kbd><span class="key">TAB</span></kbd></dt>

    <dd>
      <p>Jump to the next folder marker
      (<code>mh-index-next-folder</code>). <a name=
      "index-S_002dTAB-2" id="index-S_002dTAB-2"></a> <a name=
      "index-mh_002dindex_002dprevious_002dfolder" id=
      "index-mh_002dindex_002dprevious_002dfolder"></a></p>
    </dd>

    <dt><kbd>S-<span class="key">TAB</span></kbd></dt>

    <dd>
      <p>Jump to the previous folder marker
      (<code>mh-index-previous-folder</code>). <a name="index-v"
      id="index-v"></a> <a name=
      "index-mh_002dindex_002dvisit_002dfolder" id=
      "index-mh_002dindex_002dvisit_002dfolder"></a></p>
    </dd>

    <dt><kbd>v</kbd></dt>

    <dd>
      <p>Visit original folder from where the message at point was
      found (<code>mh-index-visit-folder</code>).</p>
    </dd>
  </dl><a name="index-mh_002dsearch-customization-group" id=
  "index-mh_002dsearch-customization-group"></a> <a name=
  "index-customization-group_002c-mh_002dsearch" id=
  "index-customization-group_002c-mh_002dsearch"></a>

  <p>There is one option from the
  &lsquo;<samp>mh-search</samp>&rsquo; customization group used in
  searching.</p>

  <dl compact="compact">
    <dt><code>mh-search-program</code> <a name=
    "index-mh_002dsearch_002dprogram" id=
    "index-mh_002dsearch_002dprogram"></a></dt>

    <dd>
      <p>Search program that MH-E shall use (default:
      &lsquo;<samp>Auto-detect</samp>&rsquo;).</p>
    </dd>
  </dl>

  <p>The following hook is available.</p>

  <dl compact="compact">
    <dt><code>mh-search-mode-hook</code> <a name=
    "index-mh_002dsearch_002dmode_002dhook" id=
    "index-mh_002dsearch_002dmode_002dhook"></a></dt>

    <dd>
      <p>Hook run upon entry to <code>mh-search-mode</code>
      (default: <code>nil</code>).</p>
    </dd>
  </dl>

  <p>The following face is available.</p>

  <dl compact="compact">
    <dt><code>mh-search-folder</code> <a name=
    "index-mh_002dsearch_002dfolder-1" id=
    "index-mh_002dsearch_002dfolder-1"></a></dt>

    <dd>
      <p>Folder heading face in MH-Folder buffers created by
      searches.</p>
    </dd>
  </dl><a name="index-mh_002dsearch_002dfolder" id=
  "index-mh_002dsearch_002dfolder"></a> <a name="index-F-s-3" id=
  "index-F-s-3"></a>

  <p>The command <kbd>F s</kbd> (<code>mh-search-folder</code>)
  helps you find messages in your entire corpus of mail. You can
  search for messages to or from a particular person or about a
  particular subject. In fact, you can also search for messages
  containing selected strings in any arbitrary header field or any
  string found within the messages.</p><a name="index-pick" id=
  "index-pick"></a> <a name="index-MH-commands_002c-pick" id=
  "index-MH-commands_002c-pick"></a>

  <p>Out of the box, MH-E uses <code>pick</code> to find messages.
  With a little extra effort, you can set an indexing program which
  rewards you with extremely quick results. The drawback is that
  sometimes the index does not contain the words you&rsquo;re
  looking for. You can still use <code>pick</code> in these
  situations.</p>

  <p>You are prompted for the folder to search. This can be
  &lsquo;<samp>all</samp>&rsquo; to search all folders. Note that
  the search works recursively on the listed folder.</p><a name=
  "index-MH_002dSearch-mode-1" id="index-MH_002dSearch-mode-1"></a>
  <a name="index-modes_002c-MH_002dSearch-1" id=
  "index-modes_002c-MH_002dSearch-1"></a>

  <p>Next, an MH-Search buffer appears where you can enter search
  criteria.</p>

  <table class="cartouche" border="1">
    <tr>
      <td>
        <div class="smallexample">
          <pre class="smallexample">
From:
To:
Cc:
Date:
Subject:
--------
#








--:**  search-pattern   All L7     (MH-Search)---------------------------
Type C-c C-c to search messages, C-c C-p to use pick, C-c ? for help
</pre>
        </div>
      </td>
    </tr>
  </table>

  <p class="c1">Search window</p><a name="index-pick-1" id=
  "index-pick-1"></a> <a name="index-MH-commands_002c-pick-1" id=
  "index-MH-commands_002c-pick-1"></a>

  <p>Edit this template by entering your search criteria in an
  appropriate header field that is already there, or create a new
  field yourself. If the string you&rsquo;re looking for could be
  anywhere in a message, then place the string underneath the row
  of dashes.</p>

  <p>As an example, let&rsquo;s say that we want to find messages
  from Ginnean about horseback riding in the Kosciusko National
  Park (Australia) during January, 1994. Normally we would start
  with a broad search and narrow it down if necessary to produce a
  manageable amount of data, but we&rsquo;ll cut to the chase and
  create a fairly restrictive set of criteria as follows:</p>

  <div class="smallexample">
    <pre class="smallexample">
From: ginnean
To:
Cc:
Date: Jan 1994
Subject:
--------
horse
kosciusko
</pre>
  </div><a name="index-mh_002dto_002dfield-3" id=
  "index-mh_002dto_002dfield-3"></a> <a name=
  "index-C_002dc-C_002df-C_002dt-4" id=
  "index-C_002dc-C_002df-C_002dt-4"></a>

  <p>As with MH-Letter mode, MH-Search provides commands like
  <kbd>C-c C-f C-t</kbd> (<code>mh-to-field</code>) to help you
  fill in the blanks. See <a href=
  "Editing-Message.html#Editing-Message">Editing
  Message</a>.</p><a name="index-F-s-4" id="index-F-s-4"></a>
  <a name="index-mh_002dsearch_002dmode_002dhook-1" id=
  "index-mh_002dsearch_002dmode_002dhook-1"></a>

  <p>If you find that you do the same thing over and over when
  editing the search template, you may wish to bind some shortcuts
  to keys. This can be done with the variable
  <code>mh-search-mode-hook</code>, which is called when <kbd>F
  s</kbd> is run on a new pattern.</p><a name=
  "index-mh_002dindex_002ddo_002dsearch-1" id=
  "index-mh_002dindex_002ddo_002dsearch-1"></a> <a name=
  "index-mh_002dpick_002ddo_002dsearch-1" id=
  "index-mh_002dpick_002ddo_002dsearch-1"></a> <a name=
  "index-C_002dc-C_002dc-7" id="index-C_002dc-C_002dc-7"></a>
  <a name="index-C_002dc-C_002dp-1" id=
  "index-C_002dc-C_002dp-1"></a>

  <p>To perform the search, type <kbd>C-c C-c</kbd>
  (<code>mh-index-do-search</code>). Sometimes you&rsquo;re
  searching for text that is either not indexed, or hasn&rsquo;t
  been indexed yet. In this case you can override the default
  method with the pick method by running the command <kbd>C-c
  C-p</kbd> (<code>mh-pick-do-search</code>).</p><a name=
  "index-folders_002c-_002bmhe_002dindex" id=
  "index-folders_002c-_002bmhe_002dindex"></a> <a name=
  "index-_002bmhe_002dindex" id="index-_002bmhe_002dindex"></a>
  <a name="index-mh_002dindex_002dnext_002dfolder-1" id=
  "index-mh_002dindex_002dnext_002dfolder-1"></a> <a name=
  "index-mh_002dindex_002dprevious_002dfolder-1" id=
  "index-mh_002dindex_002dprevious_002dfolder-1"></a> <a name=
  "index-TAB-6" id="index-TAB-6"></a> <a name="index-S_002dTAB-3"
  id="index-S_002dTAB-3"></a> <a name=
  "index-mh_002dsearch_002dfolder-2" id=
  "index-mh_002dsearch_002dfolder-2"></a>

  <p>The messages that are found are put in a temporary sub-folder
  of &lsquo;<samp>+mhe-index</samp>&rsquo; and are displayed in an
  MH-Folder buffer. This buffer is special because it displays
  messages from multiple folders; each set of messages from a given
  folder has a heading with the folder name. The appearance of the
  heading can be modified by customizing the face
  <code>mh-search-folder</code>. You can jump back and forth
  between the headings using the commands <kbd><span class=
  "key">TAB</span></kbd> (<code>mh-index-next-folder</code>) and
  <kbd>S-<span class="key">TAB</span></kbd>
  (<code>mh-index-previous-folder</code>).</p><a name=
  "index-mh_002dindex_002dvisit_002dfolder-1" id=
  "index-mh_002dindex_002dvisit_002dfolder-1"></a> <a name=
  "index-mh_002drescan_002dfolder-2" id=
  "index-mh_002drescan_002dfolder-2"></a> <a name="index-F-r-4" id=
  "index-F-r-4"></a> <a name="index-v-1" id="index-v-1"></a>

  <p>In addition, the command <kbd>v</kbd>
  (<code>mh-index-visit-folder</code>) can be used to visit the
  folder of the message at point. Initially, only the messages that
  matched the search criteria are displayed in the folder. While
  the temporary buffer has its own set of message numbers, the
  actual messages numbers are shown in the visited folder. Thus,
  the command <kbd>v</kbd> is useful to find the actual message
  number of an interesting message, or to view surrounding messages
  with the command <kbd>F r</kbd> <code>mh-rescan-folder</code>.
  See <a href="Folders.html#Folders">Folders</a>.</p><a name=
  "index-mh_002dkill_002dfolder-3" id=
  "index-mh_002dkill_002dfolder-3"></a> <a name="index-F-k-2" id=
  "index-F-k-2"></a>

  <p>Because this folder is temporary, you&rsquo;ll probably get in
  the habit of killing it when you&rsquo;re done with <kbd>F
  k</kbd> (<code>mh-kill-folder</code>). See <a href=
  "Folders.html#Folders">Folders</a>.</p><a name="index-F-s-5" id=
  "index-F-s-5"></a>

  <p>You can regenerate the results by running <kbd>F s</kbd> with
  a prefix argument.</p><a name="index-procmail-2" id=
  "index-procmail-2"></a> <a name=
  "index-Unix-commands_002c-procmail-2" id=
  "index-Unix-commands_002c-procmail-2"></a> <a name=
  "index-X_002dMHE_002dChecksum-header-field" id=
  "index-X_002dMHE_002dChecksum-header-field"></a> <a name=
  "index-header-field_002c-X_002dMHE_002dChecksum" id=
  "index-header-field_002c-X_002dMHE_002dChecksum"></a>

  <p>Note: This command uses an
  &lsquo;<samp>X-MHE-Checksum:</samp>&rsquo; header field to cache
  the MD5 checksum of a message. This means that if an incoming
  message already contains an
  &lsquo;<samp>X-MHE-Checksum:</samp>&rsquo; field, that message
  might not be found by this command. The following
  <code>procmail</code> recipe avoids this problem by renaming the
  existing header field:</p>

  <div class="smallexample">
    <pre class="smallexample">
:0 wf
| formail -R "X-MHE-Checksum" "X-Old-MHE-Checksum"
</pre>
  </div>

  <p>See <a href="Limits.html#Limits">Limits</a>, for an
  alternative interface to searching.</p><a name=
  "Configuring-Indexed-Searches" id=
  "Configuring-Indexed-Searches"></a>

  <h3 class="section">15.1 Configuring Indexed
  Searches</h3><a name="index-grep" id="index-grep"></a> <a name=
  "index-mairix" id="index-mairix"></a> <a name="index-namazu" id=
  "index-namazu"></a> <a name="index-pick-2" id="index-pick-2"></a>
  <a name="index-swish_002b_002b" id="index-swish_002b_002b"></a>
  <a name="index-swish_002de" id="index-swish_002de"></a> <a name=
  "index-Unix-commands_002c-grep" id=
  "index-Unix-commands_002c-grep"></a> <a name=
  "index-Unix-commands_002c-mairix" id=
  "index-Unix-commands_002c-mairix"></a> <a name=
  "index-Unix-commands_002c-namazu" id=
  "index-Unix-commands_002c-namazu"></a> <a name=
  "index-Unix-commands_002c-pick" id=
  "index-Unix-commands_002c-pick"></a> <a name=
  "index-Unix-commands_002c-swish_002b_002b" id=
  "index-Unix-commands_002c-swish_002b_002b"></a> <a name=
  "index-Unix-commands_002c-swish_002de" id=
  "index-Unix-commands_002c-swish_002de"></a> <a name=
  "index-mh_002dsearch-4" id="index-mh_002dsearch-4"></a> <a name=
  "index-F-s-6" id="index-F-s-6"></a> <a name=
  "index-mh_002dsearch_002dprogram-1" id=
  "index-mh_002dsearch_002dprogram-1"></a>

  <p>The command <kbd>F s</kbd> (<code>mh-search</code>) runs the
  command defined by the option <code>mh-search-program</code>. The
  default value is &lsquo;<samp>Auto-detect</samp>&rsquo; which
  means that MH-E will automatically choose one of
  <code>swish++</code>, <code>swish-e</code>, <code>mairix</code>,
  <code>namazu</code>, <code>pick</code> and <code>grep</code> in
  that order. If, for example, you have both <code>swish++</code>
  and <code>mairix</code> installed and you want to use
  <code>mairix</code>, then you can set this option to
  &lsquo;<samp>mairix</samp>&rsquo;.</p>

  <p>The following sub-sections describe how to set up the various
  indexing programs to use with MH-E.</p><a name="swish_002b_002b"
  id="swish_002b_002b"></a>

  <h4 class="subsection">15.1.1 swish++</h4><a name=
  "index-swish_002b_002b-1" id="index-swish_002b_002b-1"></a>
  <a name="index-Unix-commands_002c-swish_002b_002b-1" id=
  "index-Unix-commands_002c-swish_002b_002b-1"></a>

  <p>In the examples below, replace <samp>/home/user/Mail</samp>
  with the path to your MH directory.</p>

  <p>First create the directory
  <samp>/home/user/Mail/.swish++</samp>. Then create the file
  <samp>/home/user/Mail/.swish++/swish++.conf</samp> with the
  following contents:</p>

  <div class="smallexample">
    <pre class="smallexample">
IncludeMeta         Bcc Cc Comments Content-Description From Keywords
IncludeMeta         Newsgroups Resent-To Subject To
IncludeMeta         Message-Id References In-Reply-To
IncludeFile         Mail    *
IndexFile           /home/user/Mail/.swish++/swish++.index
</pre>
  </div>

  <p>Use the following command line to generate the swish index.
  Run this daily from cron:</p>

  <div class="smallexample">
    <pre class="smallexample">
find /home/user/Mail -path /home/user/Mail/mhe-index -prune \
                     -o -path /home/user/Mail/.swish++ -prune \
                     -o -name "[0-9]*" -print \
    | index -c /home/user/Mail/.swish++/swish++.conf -
</pre>
  </div>

  <p>This command does not index the folders that hold the results
  of your searches in &lsquo;<samp>+mhe-index</samp>&rsquo; since
  they tend to be ephemeral and the original messages are indexed
  anyway.</p><a name="index-index" id="index-index"></a> <a name=
  "index-Unix-commands_002c-index" id=
  "index-Unix-commands_002c-index"></a> <a name=
  "index-index_002b_002b" id="index-index_002b_002b"></a> <a name=
  "index-Unix-commands_002c-index_002b_002b" id=
  "index-Unix-commands_002c-index_002b_002b"></a>

  <p>On some systems (Debian GNU/Linux, for example), use
  <code>index++</code> instead of <code>index</code>.</p><a name=
  "swish" id="swish"></a>

  <h4 class="subsection">15.1.2 swish</h4><a name=
  "index-swish_002de-1" id="index-swish_002de-1"></a> <a name=
  "index-Unix-commands_002c-swish_002de-1" id=
  "index-Unix-commands_002c-swish_002de-1"></a>

  <p>In the examples below, replace <samp>/home/user/Mail</samp>
  with the path to your MH directory.</p>

  <p>First create the directory
  <samp>/home/user/Mail/.swish</samp>. Then create the file
  <samp>/home/user/Mail/.swish/config</samp> with the following
  contents:</p>

  <div class="smallexample">
    <pre class="smallexample">
DefaultContents TXT*
IndexDir /home/user/Mail
IndexFile /home/user/Mail/.swish/index
IndexName "Mail Index"
IndexDescription "Mail Index"
IndexPointer "http://nowhere"
IndexAdmin "nobody"
#MetaNames automatic
IndexReport 3
FollowSymLinks no
UseStemming no
IgnoreTotalWordCountWhenRanking yes
WordCharacters abcdefghijklmnopqrstuvwxyz0123456789-
BeginCharacters abcdefghijklmnopqrstuvwxyz
EndCharacters abcdefghijklmnopqrstuvwxyz0123456789
IgnoreLimit 50 1000
IndexComments 0
FileRules filename contains \D
FileRules pathname contains /home/user/Mail/.swish
FileRules pathname contains /home/user/Mail/mhe-index
FileRules filename is index
</pre>
  </div>

  <p>This configuration does not index the folders that hold the
  results of your searches in &lsquo;<samp>+mhe-index</samp>&rsquo;
  since they tend to be ephemeral and the original messages are
  indexed anyway.</p>

  <p>If there are any directories you would like to ignore, append
  lines like the following to <samp>config</samp>:</p>

  <div class="smallexample">
    <pre class="smallexample">
FileRules pathname contains /home/user/Mail/scripts
</pre>
  </div><a name="index-swish_002de-2" id="index-swish_002de-2"></a>
  <a name="index-Unix-commands_002c-swish_002de-2" id=
  "index-Unix-commands_002c-swish_002de-2"></a>

  <p>Use the following command line to generate the swish index.
  Run this daily from cron:</p>

  <div class="smallexample">
    <pre class="smallexample">
swish-e -c /home/user/Mail/.swish/config
</pre>
  </div><a name="mairix" id="mairix"></a>

  <h4 class="subsection">15.1.3 mairix</h4><a name="index-mairix-1"
  id="index-mairix-1"></a> <a name=
  "index-Unix-commands_002c-mairix-1" id=
  "index-Unix-commands_002c-mairix-1"></a>

  <p>In the examples below, replace <samp>~/Mail</samp> with the
  path to your MH directory.</p>

  <p>First create the directory <samp>~/Mail/.mairix</samp>. Then
  create the file <samp>~/Mail/.mairix/config</samp> with the
  following contents:</p>

  <div class="smallexample">
    <pre class="smallexample">
base=~/Mail

# List of folders that should be indexed. 3 dots at the end means there
# are subfolders within the folder
mh=archive...:inbox:drafts:news:sent:trash

mformat=mh
database=~/Mail/.mairix/database
</pre>
  </div>

  <p>Use the following command line to generate the mairix index.
  Run this daily from cron:</p>

  <div class="smallexample">
    <pre class="smallexample">
mairix -f ~/Mail/.mairix/config
</pre>
  </div><a name="namazu" id="namazu"></a>

  <h4 class="subsection">15.1.4 namazu</h4><a name="index-namazu-1"
  id="index-namazu-1"></a> <a name=
  "index-Unix-commands_002c-namazu-1" id=
  "index-Unix-commands_002c-namazu-1"></a>

  <p>In the examples below, replace <samp>/home/user/Mail</samp>
  with the path to your MH directory.</p>

  <p>First create the directory
  <samp>/home/user/Mail/.namazu</samp>. Then create the file
  <samp>/home/user/Mail/.namazu/mknmzrc</samp> with the following
  contents:</p>

  <div class="smallexample">
    <pre class="smallexample">
package conf;  # Don't remove this line!
$ADDRESS = 'user@localhost';
$ALLOW_FILE = "[0-9]*";
$EXCLUDE_PATH = "^/home/user/Mail/(mhe-index|spam)";
</pre>
  </div>

  <p>This configuration does not index the folders that hold the
  results of your searches in &lsquo;<samp>+mhe-index</samp>&rsquo;
  since they tend to be ephemeral and the original messages are
  indexed anyway.</p>

  <p>Use the following command line to generate the namazu index.
  Run this daily from cron:</p>

  <div class="smallexample">
    <pre class="smallexample">
mknmz -f /home/user/Mail/.namazu/mknmzrc -O /home/user/Mail/.namazu \
      -q /home/user/Mail
</pre>
  </div><a name="pick" id="pick"></a>

  <h4 class="subsection">15.1.5 pick</h4><a name="index-pick-3" id=
  "index-pick-3"></a> <a name="index-MH-commands_002c-pick-2" id=
  "index-MH-commands_002c-pick-2"></a>

  <p>This search method does not require any setup.</p>

  <p>Read <code>pick</code>(1) or the section <a href=
  "http://rand-mh.sourceforge.net/book/mh/finpic.html">Finding
  Messages with pick</a> in the MH book to find out more about how
  to enter the criteria.</p><a name="grep" id="grep"></a>

  <h4 class="subsection">15.1.6 grep</h4><a name="index-grep-1" id=
  "index-grep-1"></a> <a name="index-Unix-commands_002c-grep-1" id=
  "index-Unix-commands_002c-grep-1"></a>

  <p>This search method does not require any setup.</p>

  <p>Unlike the other search methods, this method does not use the
  MH-Search buffer. Instead, you simply enter a regular expression
  in the minibuffer. For help in constructing regular expressions,
  see your man page for <code>grep</code>.</p>
  <hr />

  <div class="header">
    <p>Next: <a href="Threading.html#Threading" accesskey="n" rel=
    "next">Threading</a>, Previous: <a href=
    "Tool-Bar.html#Tool-Bar" accesskey="p" rel="prev">Tool Bar</a>,
    Up: <a href="index.html#Top" accesskey="u" rel="up">Top</a>
    &nbsp; [<a href="index.html#SEC_Contents" title=
    "Table of contents" rel="contents">Contents</a>][<a href=
    "Key-Index.html#Key-Index" title="Index" rel=
    "index">Index</a>]</p>
  </div>
</body>
</html>
