<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<!-- This manual documents RefTeX (version 25.1), a package
to do labels, references, citations and indices for LaTeX documents
with Emacs.

Copyright (C) 1997-2016 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, with the Front-Cover Texts being "A GNU Manual",
and with the Back-Cover Texts as in (a) below.  A copy of the license
is included in the section entitled "GNU Free Documentation License".

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual." -->
<!-- Created by GNU Texinfo 5.2, http://www.gnu.org/software/texinfo/ -->

<head>
  <meta name="generator" content=
  "HTML Tidy for Mac OS X (vers 31 October 2006 - Apple Inc. build 16.1), see www.w3.org" />

  <title>RefTeX User Manual: Problems and Work-Arounds</title>
  <meta name="description" content=
  "RefTeX User Manual: Problems and Work-Arounds" />
  <meta name="keywords" content=
  "RefTeX User Manual: Problems and Work-Arounds" />
  <meta name="resource-type" content="document" />
  <meta name="distribution" content="global" />
  <meta name="Generator" content="makeinfo" />
  <meta http-equiv="Content-Type" content=
  "text/html; charset=us-ascii" />
  <link href="index.html#Top" rel="start" title="Top" />
  <link href="Index.html#Index" rel="index" title="Index" />
  <link href="index.html#SEC_Contents" rel="contents" title=
  "Table of Contents" />
  <link href="index.html#Top" rel="up" title="Top" />
  <link href="Imprint.html#Imprint" rel="next" title="Imprint" />
  <link href="Bib_002dCite.html#Bib_002dCite" rel="prev" title=
  "Bib-Cite" />
  <style type="text/css">
/*<![CDATA[*/
  <!--
  a.summary-letter {text-decoration: none}
  blockquote.smallquotation {font-size: smaller}
  div.display {margin-left: 3.2em}
  div.example {margin-left: 3.2em}
  div.indentedblock {margin-left: 3.2em}
  div.lisp {margin-left: 3.2em}
  div.smalldisplay {margin-left: 3.2em}
  div.smallexample {margin-left: 3.2em}
  div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
  div.smalllisp {margin-left: 3.2em}
  kbd {font-style:oblique}
  pre.display {font-family: inherit}
  pre.format {font-family: inherit}
  pre.menu-comment {font-family: serif}
  pre.menu-preformatted {font-family: serif}
  pre.smalldisplay {font-family: inherit; font-size: smaller}
  pre.smallexample {font-size: smaller}
  pre.smallformat {font-family: inherit; font-size: smaller}
  pre.smalllisp {font-size: smaller}
  span.nocodebreak {white-space:nowrap}
  span.nolinebreak {white-space:nowrap}
  span.roman {font-family:serif; font-weight:normal}
  span.sansserif {font-family:sans-serif; font-weight:normal}
  ul.no-bullet {list-style: none}
  -->
  /*]]>*/
  </style>
  <style type="text/css">
/*<![CDATA[*/
  body {
  background-color: #FFFFFF;
  color: #000000;
  }
  :link { color: #0000FF }
  :visited { color: #800080 }
  :active { color: #FF0000 }
  /*]]>*/
  </style>
</head>

<body lang="en" xml:lang="en">
  <a name="Problems-and-Work_002dArounds" id=
  "Problems-and-Work_002dArounds"></a>

  <div class="header">
    <p>Next: <a href="Imprint.html#Imprint" accesskey="n" rel=
    "next">Imprint</a>, Previous: <a href="AUCTeX.html#AUCTeX"
    accesskey="p" rel="prev">AUCTeX</a>, Up: <a href=
    "index.html#Top" accesskey="u" rel="up">Top</a> &nbsp;
    [<a href="index.html#SEC_Contents" title="Table of contents"
    rel="contents">Contents</a>][<a href="Index.html#Index" title=
    "Index" rel="index">Index</a>]</p>
  </div>
  <hr />
  <a name="Problems-and-Work_002darounds" id=
  "Problems-and-Work_002darounds"></a>

  <h2 class="chapter">15 Problems and Work-arounds</h2><a name=
  "index-Problems-and-work_002darounds" id=
  "index-Problems-and-work_002darounds"></a>

  <ul>
    <li><b>LaTeX commands</b><br />
    <a name="index-LaTeX-commands_002c-not-found" id=
    "index-LaTeX-commands_002c-not-found"></a> <code>\input</code>,
    <code>\include</code>, and <code>\section</code> (etc.)
    statements have to be first on a line (except for white
    space).</li>

    <li><b>Commented regions</b><br />
    <a name="index-Labels_002c-commented-out" id=
    "index-Labels_002c-commented-out"></a> RefTeX sees also labels
    in regions commented out and will refuse to make duplicates of
    such labels. This is considered to be a feature.</li>

    <li><b>Wrong section numbers</b><br />
    <a name="index-Section-numbers_002c-wrong" id=
    "index-Section-numbers_002c-wrong"></a> <a name=
    "index-reftex_002denable_002dpartial_002dscans-4" id=
    "index-reftex_002denable_002dpartial_002dscans-4"></a> When
    using partial scans (<code>reftex-enable-partial-scans</code>),
    the section numbers in the table of contents may eventually
    become wrong. A full scan will fix this.</li>

    <li><b>Local settings</b><br />
    <a name="index-Settings_002c-local" id=
    "index-Settings_002c-local"></a> <a name=
    "index-reftex_002dadd_002dlabel_002denvironments-1" id=
    "index-reftex_002dadd_002dlabel_002denvironments-1"></a>
    <a name="index-reftex_002dset_002dcite_002dformat-1" id=
    "index-reftex_002dset_002dcite_002dformat-1"></a> <a name=
    "index-reftex_002dadd_002dsection_002dlevels-1" id=
    "index-reftex_002dadd_002dsection_002dlevels-1"></a> The label
    environment definitions in <code>reftex-label-alist</code> are
    global and apply to all documents. If you need to make
    definitions local to a document, because they would interfere
    with settings in other documents, you should use AUCTeX and set
    up style files with calls to
    <code>reftex-add-label-environments</code>,
    <code>reftex-set-cite-format</code>,
    <code>reftex-add-index-macros</code>, and
    <code>reftex-add-section-levels</code>. Settings made with
    these functions remain local to the current document. See
    <a href="AUCTeX.html#AUCTeX">AUCTeX</a>.</li>

    <li>
      <b>Funny display in selection buffer</b><br />
      <a name="index-x_002dsymbol_002c-Emacs-package" id=
      "index-x_002dsymbol_002c-Emacs-package"></a> <a name=
      "index-Emacs-packages_002c-x_002dsymbol" id=
      "index-Emacs-packages_002c-x_002dsymbol"></a> <a name=
      "index-isotex_002c-Emacs-package" id=
      "index-isotex_002c-Emacs-package"></a> <a name=
      "index-Emacs-packages_002c-isotex" id=
      "index-Emacs-packages_002c-isotex"></a> <a name=
      "index-iso_002dcvt_002c-Emacs-package" id=
      "index-iso_002dcvt_002c-Emacs-package"></a> <a name=
      "index-Emacs-packages_002c-iso_002dcvt" id=
      "index-Emacs-packages_002c-iso_002dcvt"></a> When using
      packages which make the buffer representation of a file
      different from its disk representation (e.g., x-symbol,
      isotex, iso-cvt) you may find that RefTeX&rsquo;s parsing
      information sometimes reflects the disk state of a file. This
      happens only in <em>unvisited</em> parts of a multifile
      document, because RefTeX visits these files literally for
      speed reasons. Then both short context and section headings
      may look different from what you usually see on your screen.
      In rare cases <code>reftex-toc</code> may have problems to
      jump to an affected section heading. There are three possible
      ways to deal with this:

      <ul class="no-bullet">
        <li>- <a name=
        "index-reftex_002dkeep_002dtemporary_002dbuffers-1" id=
        "index-reftex_002dkeep_002dtemporary_002dbuffers-1"></a>
        <code>(setq reftex-keep-temporary-buffers t)</code><br />
        This implies that RefTeX will load all parts of a multifile
        document into Emacs (i.e., there won&rsquo;t be any
        temporary buffers).</li>

        <li>- <a name=
        "index-reftex_002dinitialize_002dtemporary_002dbuffers" id=
        "index-reftex_002dinitialize_002dtemporary_002dbuffers"></a>
        <code>(setq reftex-initialize-temporary-buffers
        t)</code><br />
        This means full initialization of temporary buffers. It
        involves a penalty when the same unvisited file is used for
        lookup often.</li>

        <li>- Set <code>reftex-initialize-temporary-buffers</code>
        to a list of hook functions doing a minimal
        initialization.</li>
      </ul><a name="index-reftex_002drefontify_002dcontext" id=
      "index-reftex_002drefontify_002dcontext"></a>

      <p>See also the variable
      <code>reftex-refontify-context</code>.</p>
    </li>

    <li>
      <b>Labels as arguments to \begin</b><br />
      <a name="index-pf_002c-LaTeX-package" id=
      "index-pf_002c-LaTeX-package"></a> <a name=
      "index-LaTeX-packages_002c-pf" id=
      "index-LaTeX-packages_002c-pf"></a> Some packages use an
      additional argument to a <code>\begin</code> macro to specify
      a label. E.g., Lamport&rsquo;s <samp>pf.sty</samp> uses both

      <div class="example">
        <pre class="example">
\step{<var>label</var>}{<var>claim</var>}   and      \begin{step+}{<var>label</var>}
                                  <var>claim</var>
                               \end{step+}
</pre>
      </div>

      <p>We need to trick RefTeX into swallowing this:</p>

      <div class="lisp">
        <pre class="lisp">
;; Configuration for Lamport's pf.sty
(setq reftex-label-alist
  '(("\\step{*}{}"       ?p "st:" "~\\stepref{%s}" 2 ("Step" "St."))
    ("\\begin{step+}{*}" ?p "st:" "~\\stepref{%s}" 1000)))
</pre>
      </div>

      <p>The first line is just a normal configuration for a macro.
      For the <code>step+</code> environment we actually tell
      RefTeX to look for the <em>macro</em>
      &lsquo;<samp>\begin{step+}</samp>&rsquo; and interpret the
      <em>first</em> argument (which really is a second argument to
      the macro <code>\begin</code>) as a label of type
      <code>?p</code>. Argument count for this macro starts only
      after the &lsquo;<samp>{step+}</samp>&rsquo;, also when
      specifying how to get context.</p>
    </li>

    <li>
      <b>Idle timers in XEmacs</b><br />
      <a name="index-Idle-timer-restart" id=
      "index-Idle-timer-restart"></a> <a name=
      "index-reftex_002duse_002ditimer_002din_002dxemacs" id=
      "index-reftex_002duse_002ditimer_002din_002dxemacs"></a> In
      XEmacs, idle timer restart does not work reliably after fast
      keystrokes. Therefore RefTeX currently uses the post command
      hook to start the timer used for automatic crossref
      information. When this bug gets fixed, a real idle timer can
      be requested with

      <div class="lisp">
        <pre class="lisp">
(setq reftex-use-itimer-in-xemacs t)
</pre>
      </div>
    </li>

    <li>
      <b>Viper mode</b><br />
      <a name="index-Viper-mode" id="index-Viper-mode"></a>
      <a name="index-Key-bindings_002c-problems-with-Viper-mode"
      id="index-Key-bindings_002c-problems-with-Viper-mode"></a>
      <a name="index-viper_002dharness_002dminor_002dmode" id=
      "index-viper_002dharness_002dminor_002dmode"></a> With
      <i>Viper</i> mode prior to Vipers version 3.01, you need to
      protect RefTeX&rsquo;s keymaps with

      <div class="lisp">
        <pre class="lisp">
(viper-harness-minor-mode "reftex")
</pre>
      </div>
    </li>
  </ul>
  <hr />

  <div class="header">
    <p>Next: <a href="Imprint.html#Imprint" accesskey="n" rel=
    "next">Imprint</a>, Previous: <a href="AUCTeX.html#AUCTeX"
    accesskey="p" rel="prev">AUCTeX</a>, Up: <a href=
    "index.html#Top" accesskey="u" rel="up">Top</a> &nbsp;
    [<a href="index.html#SEC_Contents" title="Table of contents"
    rel="contents">Contents</a>][<a href="Index.html#Index" title=
    "Index" rel="index">Index</a>]</p>
  </div>
</body>
</html>
