<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<!-- This file documents Calc, the GNU Emacs calculator, included with
GNU Emacs 25.1.

Copyright (C) 1990-1991, 2001-2016 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being just "GNU GENERAL PUBLIC LICENSE", with the
Front-Cover Texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the section
entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual." -->
<!-- Created by GNU Texinfo 5.2, http://www.gnu.org/software/texinfo/ -->

<head>
  <meta name="generator" content=
  "HTML Tidy for Mac OS X (vers 31 October 2006 - Apple Inc. build 16.1), see www.w3.org" />

  <title>GNU Emacs Calc Manual: Specifying Operators</title>
  <meta name="description" content=
  "GNU Emacs Calc Manual: Specifying Operators" />
  <meta name="keywords" content=
  "GNU Emacs Calc Manual: Specifying Operators" />
  <meta name="resource-type" content="document" />
  <meta name="distribution" content="global" />
  <meta name="Generator" content="makeinfo" />
  <meta http-equiv="Content-Type" content=
  "text/html; charset=us-ascii" />
  <link href="index.html#Top" rel="start" title="Top" />
  <link href="Key-Index.html#Key-Index" rel="index" title=
  "Key Index" />
  <link href="index.html#SEC_Contents" rel="contents" title=
  "Table of Contents" />
  <link href="Reducing-and-Mapping.html#Reducing-and-Mapping" rel=
  "up" title="Reducing and Mapping" />
  <link href="Mapping.html#Mapping" rel="next" title="Mapping" />
  <link href="Reducing-and-Mapping.html#Reducing-and-Mapping" rel=
  "prev" title="Reducing and Mapping" />
  <style type="text/css">
/*<![CDATA[*/
  <!--
  a.summary-letter {text-decoration: none}
  blockquote.smallquotation {font-size: smaller}
  div.display {margin-left: 3.2em}
  div.example {margin-left: 3.2em}
  div.indentedblock {margin-left: 3.2em}
  div.lisp {margin-left: 3.2em}
  div.smalldisplay {margin-left: 3.2em}
  div.smallexample {margin-left: 3.2em}
  div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
  div.smalllisp {margin-left: 3.2em}
  kbd {font-style:oblique}
  pre.display {font-family: inherit}
  pre.format {font-family: inherit}
  pre.menu-comment {font-family: serif}
  pre.menu-preformatted {font-family: serif}
  pre.smalldisplay {font-family: inherit; font-size: smaller}
  pre.smallexample {font-size: smaller}
  pre.smallformat {font-family: inherit; font-size: smaller}
  pre.smalllisp {font-size: smaller}
  span.nocodebreak {white-space:nowrap}
  span.nolinebreak {white-space:nowrap}
  span.roman {font-family:serif; font-weight:normal}
  span.sansserif {font-family:sans-serif; font-weight:normal}
  ul.no-bullet {list-style: none}
  -->
  /*]]>*/
  </style>
  <style type="text/css">
/*<![CDATA[*/
  body {
  background-color: #FFFFFF;
  color: #000000;
  }
  :link { color: #0000FF }
  :visited { color: #800080 }
  :active { color: #FF0000 }
  /*]]>*/
  </style>
</head>

<body lang="en" xml:lang="en">
  <a name="Specifying-Operators" id="Specifying-Operators"></a>

  <div class="header">
    <p>Next: <a href="Mapping.html#Mapping" accesskey="n" rel=
    "next">Mapping</a>, Previous: <a href=
    "Reducing-and-Mapping.html#Reducing-and-Mapping" accesskey="p"
    rel="prev">Reducing and Mapping</a>, Up: <a href=
    "Reducing-and-Mapping.html#Reducing-and-Mapping" accesskey="u"
    rel="up">Reducing and Mapping</a> &nbsp; [<a href=
    "index.html#SEC_Contents" title="Table of contents" rel=
    "contents">Contents</a>][<a href="Key-Index.html#Key-Index"
    title="Index" rel="index">Index</a>]</p>
  </div>
  <hr />
  <a name="Specifying-Operators-1" id="Specifying-Operators-1"></a>

  <h4 class="subsection">9.8.1 Specifying Operators</h4>

  <p>Commands in this section (like <kbd>V A</kbd>) prompt you to
  press the key corresponding to the desired operator. Press
  <kbd>?</kbd> for a partial list of the available operators.
  Generally, an operator is any key or sequence of keys that would
  normally take one or more arguments from the stack and replace
  them with a result. For example, <kbd>V A H C</kbd> uses the
  hyperbolic cosine operator, <code>cosh</code>. (Since
  <code>cosh</code> expects one argument, <kbd>V A H C</kbd>
  requires a vector with a single element as its argument.)</p>

  <p>You can press <kbd>x</kbd> at the operator prompt to select
  any algebraic function by name to use as the operator. This
  includes functions you have defined yourself using the <kbd>Z
  F</kbd> command. (See <a href=
  "Algebraic-Definitions.html#Algebraic-Definitions">Algebraic
  Definitions</a>.) If you give a name for which no function has
  been defined, the result is left in symbolic form, as in
  &lsquo;<samp>f(1, 2, 3)</samp>&rsquo;. Calc will prompt for the
  number of arguments the function takes if it can&rsquo;t figure
  it out on its own (say, because you named a function that is
  currently undefined). It is also possible to type a digit key
  before the function name to specify the number of arguments,
  e.g., <kbd>V M 3 x f <span class="key">RET</span></kbd> calls
  <code>f</code> with three arguments even if it looks like it
  ought to have only two. This technique may be necessary if the
  function allows a variable number of arguments. For example, the
  <kbd>v e</kbd> [<code>vexp</code>] function accepts two or three
  arguments; if you want to map with the three-argument version,
  you will have to type <kbd>V M 3 v e</kbd>.</p>

  <p>It is also possible to apply any formula to a vector by
  treating that formula as a function. When prompted for the
  operator to use, press <kbd>'</kbd> (the apostrophe) and type
  your formula as an algebraic entry. You will then be prompted for
  the argument list, which defaults to a list of all variables that
  appear in the formula, sorted into alphabetic order. For example,
  suppose you enter the formula
  &lsquo;<samp>x&nbsp;+&nbsp;2y^x</samp>&rsquo;<!-- /@w -->. The
  default argument list would be &lsquo;<samp>(x y)</samp>&rsquo;,
  which means that if this function is applied to the arguments
  &lsquo;<samp>[3, 10]</samp>&rsquo; the result will be
  &lsquo;<samp>3 + 2*10^3</samp>&rsquo;. (If you plan to use a
  certain formula in this way often, you might consider defining it
  as a function with <kbd>Z F</kbd>.)</p>

  <p>Another way to specify the arguments to the formula you enter
  is with <kbd>$</kbd>, <kbd>$$</kbd>, and so on. For example,
  <kbd>V A ' $$ + 2$^$$</kbd> has the same effect as the previous
  example. The argument list is automatically taken to be
  &lsquo;<samp>($$ $)</samp>&rsquo;. (The order of the arguments
  may seem backwards, but it is analogous to the way normal
  algebraic entry interacts with the stack.)</p>

  <p>If you press <kbd>$</kbd> at the operator prompt, the effect
  is similar to the apostrophe except that the relevant formula is
  taken from top-of-stack instead. The actual vector arguments of
  the <kbd>V A $</kbd> or related command then start at the
  second-to-top stack position. You will still be prompted for an
  argument list.</p><a name="index-Nameless-functions" id=
  "index-Nameless-functions"></a> <a name="index-Generic-functions"
  id="index-Generic-functions"></a>

  <p>A function can be written without a name using the notation
  &lsquo;<samp>&lt;#1 - #2&gt;</samp>&rsquo;, which means &ldquo;a
  function of two arguments that computes the first argument minus
  the second argument.&rdquo; The symbols
  &lsquo;<samp>#1</samp>&rsquo; and &lsquo;<samp>#2</samp>&rsquo;
  are placeholders for the arguments. You can use any names for
  these placeholders if you wish, by including an argument list
  followed by a colon: &lsquo;<samp>&lt;x, y : x -
  y&gt;</samp>&rsquo;. When you type <kbd>V A ' $$ + 2$^$$
  <span class="key">RET</span></kbd>, Calc builds the nameless
  function &lsquo;<samp>&lt;#1 + 2 #2^#1&gt;</samp>&rsquo; as the
  function to map across the vectors. When you type <kbd>V A ' x +
  2y^x <span class="key">RET</span> <span class=
  "key">RET</span></kbd>, Calc builds the nameless function
  &lsquo;<samp>&lt;x,&nbsp;y&nbsp;:&nbsp;x&nbsp;+&nbsp;2&nbsp;y^x&gt;</samp>&rsquo;<!-- /@w -->.
  In both cases, Calc also writes the nameless function to the
  Trail so that you can get it back later if you wish.</p>

  <p>If there is only one argument, you can write
  &lsquo;<samp>#</samp>&rsquo; in place of
  &lsquo;<samp>#1</samp>&rsquo;. (Note that &lsquo;<samp>&lt;
  &gt;</samp>&rsquo; notation is also used for date forms. Calc
  tells that &lsquo;<samp>&lt;<var>stuff</var>&gt;</samp>&rsquo; is
  a nameless function by the presence of
  &lsquo;<samp>#</samp>&rsquo; signs inside <var>stuff</var>, or by
  the fact that <var>stuff</var> begins with a list of variables
  followed by a colon.)</p>

  <p>You can type a nameless function directly to <kbd>V A '</kbd>,
  or put one on the stack and use it with
  <kbd>V&nbsp;A&nbsp;$</kbd><!-- /@w -->. Calc will not prompt for
  an argument list in this case, since the nameless function
  specifies the argument list as well as the function itself. In
  <kbd>V A '</kbd>, you can omit the &lsquo;<samp>&lt;
  &gt;</samp>&rsquo; marks if you use &lsquo;<samp>#</samp>&rsquo;
  notation for the arguments, so that <kbd>V A ' #1+#2 <span class=
  "key">RET</span></kbd> is the same as <kbd>V A ' &lt;#1+#2&gt;
  <span class="key">RET</span></kbd>, which in turn is the same as
  <kbd>V A ' $$+$ <span class="key">RET</span></kbd>.</p><a name=
  "index-Lambda-expressions" id="index-Lambda-expressions"></a>
  <a name="index-lambda" id="index-lambda"></a>

  <p>The internal format for &lsquo;<samp>&lt;x, y : x +
  y&gt;</samp>&rsquo; is &lsquo;<samp>lambda(x, y, x +
  y)</samp>&rsquo;. (The word <code>lambda</code> derives from Lisp
  notation and the theory of functions.) The internal format for
  &lsquo;<samp>&lt;#1 + #2&gt;</samp>&rsquo; is
  &lsquo;<samp>lambda(ArgA, ArgB, ArgA + ArgB)</samp>&rsquo;. Note
  that there is no actual Calc function called <code>lambda</code>;
  the whole point is that the <code>lambda</code> expression is
  used in its symbolic form, not evaluated for an answer until it
  is applied to specific arguments by a command like <kbd>V A</kbd>
  or <kbd>V M</kbd>.</p>

  <p>(Actually, <code>lambda</code> does have one special property:
  Its arguments are never evaluated; for example, putting
  &lsquo;<samp>&lt;(2/3) #&gt;</samp>&rsquo; on the stack will not
  simplify the &lsquo;<samp>2/3</samp>&rsquo; until the nameless
  function is actually called.)</p><a name="index-add" id=
  "index-add"></a> <a name="index-sub" id="index-sub"></a> <a name=
  "index-mul" id="index-mul"></a> <a name="index-div" id=
  "index-div"></a> <a name="index-pow-1" id="index-pow-1"></a>
  <a name="index-neg" id="index-neg"></a> <a name="index-mod" id=
  "index-mod"></a> <a name="index-vconcat" id="index-vconcat"></a>

  <p>As usual, commands like <kbd>V A</kbd> have algebraic function
  name equivalents. For example, <kbd>V A k g</kbd> with an
  argument of &lsquo;<samp>v</samp>&rsquo; is equivalent to
  &lsquo;<samp>apply(gcd, v)</samp>&rsquo;. The first argument
  specifies the operator name, and is either a variable whose name
  is the same as the function name, or a nameless function like
  &lsquo;<samp>&lt;#^3+1&gt;</samp>&rsquo;. Operators that are
  normally written as algebraic symbols have the names
  <code>add</code>, <code>sub</code>, <code>mul</code>,
  <code>div</code>, <code>pow</code>, <code>neg</code>,
  <code>mod</code>, and <code>vconcat</code>.</p><a name=
  "index-call" id="index-call"></a>

  <p>The <code>call</code> function builds a function call out of
  several arguments: &lsquo;<samp>call(gcd, x, y)</samp>&rsquo; is
  the same as &lsquo;<samp>apply(gcd, [x, y])</samp>&rsquo;, which
  in turn is the same as &lsquo;<samp>gcd(x, y)</samp>&rsquo;. The
  first argument of <code>call</code>, like the other functions
  described here, may be either a variable naming a function, or a
  nameless function (&lsquo;<samp>call(&lt;#1+2#2&gt;, x,
  y)</samp>&rsquo; is the same as &lsquo;<samp>x +
  2y</samp>&rsquo;).</p>

  <p>(Experts will notice that it&rsquo;s not quite proper to use a
  variable to name a function, since the name <code>gcd</code>
  corresponds to the Lisp variable <code>var-gcd</code> but to the
  Lisp function <code>calcFunc-gcd</code>. Calc automatically makes
  this translation, so you don&rsquo;t have to worry about it.)</p>
  <hr />

  <div class="header">
    <p>Next: <a href="Mapping.html#Mapping" accesskey="n" rel=
    "next">Mapping</a>, Previous: <a href=
    "Reducing-and-Mapping.html#Reducing-and-Mapping" accesskey="p"
    rel="prev">Reducing and Mapping</a>, Up: <a href=
    "Reducing-and-Mapping.html#Reducing-and-Mapping" accesskey="u"
    rel="up">Reducing and Mapping</a> &nbsp; [<a href=
    "index.html#SEC_Contents" title="Table of contents" rel=
    "contents">Contents</a>][<a href="Key-Index.html#Key-Index"
    title="Index" rel="index">Index</a>]</p>
  </div>
</body>
</html>
