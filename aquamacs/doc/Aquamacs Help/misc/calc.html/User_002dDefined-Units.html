<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<!-- This file documents Calc, the GNU Emacs calculator, included with
GNU Emacs 25.1.

Copyright (C) 1990-1991, 2001-2016 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being just "GNU GENERAL PUBLIC LICENSE", with the
Front-Cover Texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the section
entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual." -->
<!-- Created by GNU Texinfo 5.2, http://www.gnu.org/software/texinfo/ -->

<head>
  <meta name="generator" content=
  "HTML Tidy for Mac OS X (vers 31 October 2006 - Apple Inc. build 16.1), see www.w3.org" />

  <title>GNU Emacs Calc Manual: User-Defined Units</title>
  <meta name="description" content=
  "GNU Emacs Calc Manual: User-Defined Units" />
  <meta name="keywords" content=
  "GNU Emacs Calc Manual: User-Defined Units" />
  <meta name="resource-type" content="document" />
  <meta name="distribution" content="global" />
  <meta name="Generator" content="makeinfo" />
  <meta http-equiv="Content-Type" content=
  "text/html; charset=us-ascii" />
  <link href="index.html#Top" rel="start" title="Top" />
  <link href="Key-Index.html#Key-Index" rel="index" title=
  "Key Index" />
  <link href="index.html#SEC_Contents" rel="contents" title=
  "Table of Contents" />
  <link href="Units.html#Units" rel="up" title="Units" />
  <link href="Logarithmic-Units.html#Logarithmic-Units" rel="next"
  title="Logarithmic Units" />
  <link href="Predefined-Units.html#Predefined-Units" rel="prev"
  title="Predefined Units" />
  <style type="text/css">
/*<![CDATA[*/
  <!--
  a.summary-letter {text-decoration: none}
  blockquote.smallquotation {font-size: smaller}
  div.display {margin-left: 3.2em}
  div.example {margin-left: 3.2em}
  div.indentedblock {margin-left: 3.2em}
  div.lisp {margin-left: 3.2em}
  div.smalldisplay {margin-left: 3.2em}
  div.smallexample {margin-left: 3.2em}
  div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
  div.smalllisp {margin-left: 3.2em}
  kbd {font-style:oblique}
  pre.display {font-family: inherit}
  pre.format {font-family: inherit}
  pre.menu-comment {font-family: serif}
  pre.menu-preformatted {font-family: serif}
  pre.smalldisplay {font-family: inherit; font-size: smaller}
  pre.smallexample {font-size: smaller}
  pre.smallformat {font-family: inherit; font-size: smaller}
  pre.smalllisp {font-size: smaller}
  span.nocodebreak {white-space:nowrap}
  span.nolinebreak {white-space:nowrap}
  span.roman {font-family:serif; font-weight:normal}
  span.sansserif {font-family:sans-serif; font-weight:normal}
  ul.no-bullet {list-style: none}
  -->
  /*]]>*/
  </style>
  <style type="text/css">
/*<![CDATA[*/
  body {
  background-color: #FFFFFF;
  color: #000000;
  }
  :link { color: #0000FF }
  :visited { color: #800080 }
  :active { color: #FF0000 }
  /*]]>*/
  </style>
</head>

<body lang="en" xml:lang="en">
  <a name="User_002dDefined-Units" id="User_002dDefined-Units"></a>

  <div class="header">
    <p>Next: <a href="Logarithmic-Units.html#Logarithmic-Units"
    accesskey="n" rel="next">Logarithmic Units</a>, Previous:
    <a href="Predefined-Units.html#Predefined-Units" accesskey="p"
    rel="prev">Predefined Units</a>, Up: <a href="Units.html#Units"
    accesskey="u" rel="up">Units</a> &nbsp; [<a href=
    "index.html#SEC_Contents" title="Table of contents" rel=
    "contents">Contents</a>][<a href="Key-Index.html#Key-Index"
    title="Index" rel="index">Index</a>]</p>
  </div>
  <hr />
  <a name="User_002dDefined-Units-1" id=
  "User_002dDefined-Units-1"></a>

  <h3 class="section">11.4 User-Defined Units</h3>

  <p>Calc provides ways to get quick access to your selected
  &ldquo;favorite&rdquo; units, as well as ways to define your own
  new units.</p><a name="index-u-0_002d9" id="index-u-0_002d9"></a>
  <a name="index-calc_002dquick_002dunits" id=
  "index-calc_002dquick_002dunits"></a> <a name="index-Units" id=
  "index-Units"></a> <a name="index-Units-variable" id=
  "index-Units-variable"></a> <a name="index-Quick-units" id=
  "index-Quick-units"></a>

  <p>To select your favorite units, store a vector of unit names or
  expressions in the Calc variable <code>Units</code>. The <kbd>u
  1</kbd> through <kbd>u 9</kbd> commands
  (<code>calc-quick-units</code>) provide access to these units. If
  the value on the top of the stack is a plain number (with no
  units attached), then <kbd>u 1</kbd> gives it the specified
  units. (Basically, it multiplies the number by the first item in
  the <code>Units</code> vector.) If the number on the stack
  <em>does</em> have units, then <kbd>u 1</kbd> converts that
  number to the new units. For example, suppose the vector
  &lsquo;<samp>[in, ft]</samp>&rsquo; is stored in
  <code>Units</code>. Then <kbd>30 u 1</kbd> will create the
  expression &lsquo;<samp>30 in</samp>&rsquo;, and <kbd>u 2</kbd>
  will convert that expression to &lsquo;<samp>2.5
  ft</samp>&rsquo;.</p>

  <p>The <kbd>u 0</kbd> command accesses the tenth element of
  <code>Units</code>. Only ten quick units may be defined at a
  time. If the <code>Units</code> variable has no stored value (the
  default), or if its value is not a vector, then the quick-units
  commands will not function. The <kbd>s U</kbd> command is a
  convenient way to edit the <code>Units</code> variable; see
  <a href=
  "Operations-on-Variables.html#Operations-on-Variables">Operations
  on Variables</a>.</p><a name="index-u-d" id="index-u-d"></a>
  <a name="index-calc_002ddefine_002dunit" id=
  "index-calc_002ddefine_002dunit"></a> <a name=
  "index-User_002ddefined-units" id=
  "index-User_002ddefined-units"></a>

  <p>The <kbd>u d</kbd> (<code>calc-define-unit</code>) command
  records the units expression on the top of the stack as the
  definition for a new, user-defined unit. For example, putting
  &lsquo;<samp>16.5 ft</samp>&rsquo; on the stack and typing <kbd>u
  d rod</kbd> defines the new unit &lsquo;<samp>rod</samp>&rsquo;
  to be equivalent to 16.5 feet. The unit conversion and
  simplification commands will now treat <code>rod</code> just like
  any other unit of length. You will also be prompted for an
  optional English description of the unit, which will appear in
  the Units Table. If you wish the definition of this unit to be
  displayed in a special way in the Units Table buffer (such as
  with an asterisk to indicate an approximate value), then you can
  call this command with an argument, <kbd>C-u u d</kbd>; you will
  then also be prompted for a string that will be used to display
  the definition.</p><a name="index-u-u" id="index-u-u"></a>
  <a name="index-calc_002dundefine_002dunit" id=
  "index-calc_002dundefine_002dunit"></a>

  <p>The <kbd>u u</kbd> (<code>calc-undefine-unit</code>) command
  removes a user-defined unit. It is not possible to remove one of
  the predefined units, however.</p>

  <p>If you define a unit with an existing unit name, your new
  definition will replace the original definition of that unit. If
  the unit was a predefined unit, the old definition will not be
  replaced, only &ldquo;shadowed.&rdquo; The built-in definition
  will reappear if you later use <kbd>u u</kbd> to remove the
  shadowing definition.</p>

  <p>To create a new fundamental unit, use either 1 or the unit
  name itself as the defining expression. Otherwise the expression
  can involve any other units that you like (except for composite
  units like &lsquo;<samp>mfi</samp>&rsquo;). You can create a new
  composite unit with a sum of other units as the defining
  expression. The next unit operation like <kbd>u c</kbd> or <kbd>u
  v</kbd> will rebuild the internal unit table incorporating your
  modifications. Note that erroneous definitions (such as two units
  defined in terms of each other) will not be detected until the
  unit table is next rebuilt; <kbd>u v</kbd> is a convenient way to
  force this to happen.</p>

  <p>Temperature units are treated specially inside the Calculator;
  it is not possible to create user-defined temperature
  units.</p><a name="index-u-p" id="index-u-p"></a> <a name=
  "index-calc_002dpermanent_002dunits" id=
  "index-calc_002dpermanent_002dunits"></a> <a name=
  "index-Calc-init-file_002c-user_002ddefined-units" id=
  "index-Calc-init-file_002c-user_002ddefined-units"></a>

  <p>The <kbd>u p</kbd> (<code>calc-permanent-units</code>) command
  stores the user-defined units in your Calc init file (the file
  given by the variable <code>calc-settings-file</code>, typically
  <samp>~/.emacs.d/calc.el</samp>), so that the units will still be
  available in subsequent Emacs sessions. If there was already a
  set of user-defined units in your Calc init file, it is replaced
  by the new set. (See <a href=
  "General-Mode-Commands.html#General-Mode-Commands">General Mode
  Commands</a>, for a way to tell Calc to use a different file for
  the Calc init file.)</p>
  <hr />

  <div class="header">
    <p>Next: <a href="Logarithmic-Units.html#Logarithmic-Units"
    accesskey="n" rel="next">Logarithmic Units</a>, Previous:
    <a href="Predefined-Units.html#Predefined-Units" accesskey="p"
    rel="prev">Predefined Units</a>, Up: <a href="Units.html#Units"
    accesskey="u" rel="up">Units</a> &nbsp; [<a href=
    "index.html#SEC_Contents" title="Table of contents" rel=
    "contents">Contents</a>][<a href="Key-Index.html#Key-Index"
    title="Index" rel="index">Index</a>]</p>
  </div>
</body>
</html>
