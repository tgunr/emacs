<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<!-- This file documents Calc, the GNU Emacs calculator, included with
GNU Emacs 25.1.

Copyright (C) 1990-1991, 2001-2016 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being just "GNU GENERAL PUBLIC LICENSE", with the
Front-Cover Texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the section
entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual." -->
<!-- Created by GNU Texinfo 5.2, http://www.gnu.org/software/texinfo/ -->

<head>
  <meta name="generator" content=
  "HTML Tidy for Mac OS X (vers 31 October 2006 - Apple Inc. build 16.1), see www.w3.org" />

  <title>GNU Emacs Calc Manual: Free-Form Dates</title>
  <meta name="description" content=
  "GNU Emacs Calc Manual: Free-Form Dates" />
  <meta name="keywords" content=
  "GNU Emacs Calc Manual: Free-Form Dates" />
  <meta name="resource-type" content="document" />
  <meta name="distribution" content="global" />
  <meta name="Generator" content="makeinfo" />
  <meta http-equiv="Content-Type" content=
  "text/html; charset=us-ascii" />
  <link href="index.html#Top" rel="start" title="Top" />
  <link href="Key-Index.html#Key-Index" rel="index" title=
  "Key Index" />
  <link href="index.html#SEC_Contents" rel="contents" title=
  "Table of Contents" />
  <link href="Date-Formats.html#Date-Formats" rel="up" title=
  "Date Formats" />
  <link href="Standard-Date-Formats.html#Standard-Date-Formats"
  rel="next" title="Standard Date Formats" />
  <link href="Date-Formatting-Codes.html#Date-Formatting-Codes"
  rel="prev" title="Date Formatting Codes" />
  <style type="text/css">
/*<![CDATA[*/
  <!--
  a.summary-letter {text-decoration: none}
  blockquote.smallquotation {font-size: smaller}
  div.display {margin-left: 3.2em}
  div.example {margin-left: 3.2em}
  div.indentedblock {margin-left: 3.2em}
  div.lisp {margin-left: 3.2em}
  div.smalldisplay {margin-left: 3.2em}
  div.smallexample {margin-left: 3.2em}
  div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
  div.smalllisp {margin-left: 3.2em}
  kbd {font-style:oblique}
  pre.display {font-family: inherit}
  pre.format {font-family: inherit}
  pre.menu-comment {font-family: serif}
  pre.menu-preformatted {font-family: serif}
  pre.smalldisplay {font-family: inherit; font-size: smaller}
  pre.smallexample {font-size: smaller}
  pre.smallformat {font-family: inherit; font-size: smaller}
  pre.smalllisp {font-size: smaller}
  span.nocodebreak {white-space:nowrap}
  span.nolinebreak {white-space:nowrap}
  span.roman {font-family:serif; font-weight:normal}
  span.sansserif {font-family:sans-serif; font-weight:normal}
  ul.no-bullet {list-style: none}
  -->
  /*]]>*/
  </style>
  <style type="text/css">
/*<![CDATA[*/
  body {
  background-color: #FFFFFF;
  color: #000000;
  }
  :link { color: #0000FF }
  :visited { color: #800080 }
  :active { color: #FF0000 }
  /*]]>*/
  </style>
</head>

<body lang="en" xml:lang="en">
  <a name="Free_002dForm-Dates" id="Free_002dForm-Dates"></a>

  <div class="header">
    <p>Next: <a href=
    "Standard-Date-Formats.html#Standard-Date-Formats" accesskey=
    "n" rel="next">Standard Date Formats</a>, Previous: <a href=
    "Date-Formatting-Codes.html#Date-Formatting-Codes" accesskey=
    "p" rel="prev">Date Formatting Codes</a>, Up: <a href=
    "Date-Formats.html#Date-Formats" accesskey="u" rel="up">Date
    Formats</a> &nbsp; [<a href="index.html#SEC_Contents" title=
    "Table of contents" rel="contents">Contents</a>][<a href=
    "Key-Index.html#Key-Index" title="Index" rel=
    "index">Index</a>]</p>
  </div>
  <hr />
  <a name="Free_002dForm-Dates-1" id="Free_002dForm-Dates-1"></a>

  <h4 class="subsubsection">6.7.7.3 Free-Form Dates</h4>

  <p>When reading a date form during algebraic entry, Calc falls
  back on the algorithm described here if the input does not
  exactly match the current date format. This algorithm generally
  &ldquo;does the right thing&rdquo; and you don&rsquo;t have to
  worry about it, but it is described here in full detail for the
  curious.</p>

  <p>Calc does not distinguish between upper- and lower-case
  letters while interpreting dates.</p>

  <p>First, the time portion, if present, is located somewhere in
  the text and then removed. The remaining text is then interpreted
  as the date.</p>

  <p>A time is of the form &lsquo;<samp>hh:mm:ss</samp>&rsquo;,
  possibly with the seconds part omitted and possibly with an AM/PM
  indicator added to indicate 12-hour time. If the AM/PM is
  present, the minutes may also be omitted. The AM/PM part may be
  any of the words &lsquo;<samp>am</samp>&rsquo;,
  &lsquo;<samp>pm</samp>&rsquo;, &lsquo;<samp>noon</samp>&rsquo;,
  or &lsquo;<samp>midnight</samp>&rsquo;; each of these may be
  abbreviated to one letter, and the alternate forms
  &lsquo;<samp>a.m.</samp>&rsquo;, &lsquo;<samp>p.m.</samp>&rsquo;,
  and &lsquo;<samp>mid</samp>&rsquo; are also understood. Obviously
  &lsquo;<samp>noon</samp>&rsquo; and
  &lsquo;<samp>midnight</samp>&rsquo; are allowed only on 12:00:00.
  The words &lsquo;<samp>noon</samp>&rsquo;,
  &lsquo;<samp>mid</samp>&rsquo;, and
  &lsquo;<samp>midnight</samp>&rsquo; are also recognized with no
  number attached. Midnight will represent the beginning of a
  day.</p>

  <p>If there is no AM/PM indicator, the time is interpreted in
  24-hour format.</p>

  <p>When reading the date portion, Calc first checks to see if it
  is an ISO 8601 week-numbering date; if the string contains an
  integer representing the year, a &ldquo;W&rdquo; followed by two
  digits for the week number, and an integer from 1 to 7
  representing the weekday (in that order), then all other
  characters are ignored and this information determines the date.
  Otherwise, all words and numbers are isolated from the string;
  other characters are ignored. All words must be either month
  names or day-of-week names (the latter of which are ignored).
  Names can be written in full or as three-letter
  abbreviations.</p>

  <p>Large numbers, or numbers with &lsquo;<samp>+</samp>&rsquo; or
  &lsquo;<samp>-</samp>&rsquo; signs, are interpreted as years. If
  one of the other numbers is greater than 12, then that must be
  the day and the remaining number in the input is therefore the
  month. Otherwise, Calc assumes the month, day and year are in the
  same order that they appear in the current date format. If the
  year is omitted, the current year is taken from the system
  clock.</p>

  <p>If there are too many or too few numbers, or any
  unrecognizable words, then the input is rejected.</p>

  <p>If there are any large numbers (of five digits or more) other
  than the year, they are ignored on the assumption that they are
  something like Julian dates that were included along with the
  traditional date components when the date was formatted.</p>

  <p>One of the words &lsquo;<samp>ad</samp>&rsquo;,
  &lsquo;<samp>a.d.</samp>&rsquo;, &lsquo;<samp>bc</samp>&rsquo;,
  or &lsquo;<samp>b.c.</samp>&rsquo; may optionally be used; the
  latter two are equivalent to a minus sign on the year value.</p>

  <p>If you always enter a four-digit year, and use a name instead
  of a number for the month, there is no danger of ambiguity.</p>
  <hr />

  <div class="header">
    <p>Next: <a href=
    "Standard-Date-Formats.html#Standard-Date-Formats" accesskey=
    "n" rel="next">Standard Date Formats</a>, Previous: <a href=
    "Date-Formatting-Codes.html#Date-Formatting-Codes" accesskey=
    "p" rel="prev">Date Formatting Codes</a>, Up: <a href=
    "Date-Formats.html#Date-Formats" accesskey="u" rel="up">Date
    Formats</a> &nbsp; [<a href="index.html#SEC_Contents" title=
    "Table of contents" rel="contents">Contents</a>][<a href=
    "Key-Index.html#Key-Index" title="Index" rel=
    "index">Index</a>]</p>
  </div>
</body>
</html>
