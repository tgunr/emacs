<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<!-- This file describes the Emacs GnuTLS integration.

Copyright (C) 2012-2016 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, with the Front-Cover Texts being "A GNU Manual,"
and with the Back-Cover Texts as in (a) below.  A copy of the license
is included in the section entitled "GNU Free Documentation License".

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual." -->
<!-- Created by GNU Texinfo 5.2, http://www.gnu.org/software/texinfo/ -->

<head>
  <meta name="generator" content=
  "HTML Tidy for Mac OS X (vers 31 October 2006 - Apple Inc. build 16.1), see www.w3.org" />

  <title>Emacs GnuTLS Integration 0.3: Help For Users</title>
  <meta name="description" content=
  "Emacs GnuTLS Integration 0.3: Help For Users" />
  <meta name="keywords" content=
  "Emacs GnuTLS Integration 0.3: Help For Users" />
  <meta name="resource-type" content="document" />
  <meta name="distribution" content="global" />
  <meta name="Generator" content="makeinfo" />
  <meta http-equiv="Content-Type" content=
  "text/html; charset=us-ascii" />
  <link href="index.html#Top" rel="start" title="Top" />
  <link href="Function-Index.html#Function-Index" rel="index"
  title="Function Index" />
  <link href="index.html#SEC_Contents" rel="contents" title=
  "Table of Contents" />
  <link href="index.html#Top" rel="up" title="Top" />
  <link href="Help-For-Developers.html#Help-For-Developers" rel=
  "next" title="Help For Developers" />
  <link href="Overview.html#Overview" rel="prev" title=
  "Overview" />
  <style type="text/css">
/*<![CDATA[*/
  <!--
  a.summary-letter {text-decoration: none}
  blockquote.smallquotation {font-size: smaller}
  div.display {margin-left: 3.2em}
  div.example {margin-left: 3.2em}
  div.indentedblock {margin-left: 3.2em}
  div.lisp {margin-left: 3.2em}
  div.smalldisplay {margin-left: 3.2em}
  div.smallexample {margin-left: 3.2em}
  div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
  div.smalllisp {margin-left: 3.2em}
  kbd {font-style:oblique}
  pre.display {font-family: inherit}
  pre.format {font-family: inherit}
  pre.menu-comment {font-family: serif}
  pre.menu-preformatted {font-family: serif}
  pre.smalldisplay {font-family: inherit; font-size: smaller}
  pre.smallexample {font-size: smaller}
  pre.smallformat {font-family: inherit; font-size: smaller}
  pre.smalllisp {font-size: smaller}
  span.nocodebreak {white-space:nowrap}
  span.nolinebreak {white-space:nowrap}
  span.roman {font-family:serif; font-weight:normal}
  span.sansserif {font-family:sans-serif; font-weight:normal}
  ul.no-bullet {list-style: none}
  -->
  /*]]>*/
  </style>
  <style type="text/css">
/*<![CDATA[*/
  body {
  background-color: #FFFFFF;
  color: #000000;
  }
  :link { color: #0000FF }
  :visited { color: #800080 }
  :active { color: #FF0000 }
  /*]]>*/
  </style>
</head>

<body lang="en" xml:lang="en">
  <a name="Help-For-Users" id="Help-For-Users"></a>

  <div class="header">
    <p>Next: <a href="Help-For-Developers.html#Help-For-Developers"
    accesskey="n" rel="next">Help For Developers</a>, Previous:
    <a href="Overview.html#Overview" accesskey="p" rel=
    "prev">Overview</a>, Up: <a href="index.html#Top" accesskey="u"
    rel="up">Top</a> &nbsp; [<a href="index.html#SEC_Contents"
    title="Table of contents" rel="contents">Contents</a>][<a href=
    "Function-Index.html#Function-Index" title="Index" rel=
    "index">Index</a>]</p>
  </div>
  <hr />
  <a name="Help-For-Users-1" id="Help-For-Users-1"></a>

  <h2 class="chapter">2 Help For Users</h2>

  <p>From the user&rsquo;s perspective, there&rsquo;s nothing to
  the GnuTLS integration. It Just Works for any Emacs Lisp code
  that uses <code>open-protocol-stream</code> or
  <code>open-network-stream</code> (see <a href=
  "http://www.gnu.org/software/emacs/manual/html_node/elisp/Network.html#Network">
  Network Connections</a> in <cite>The Emacs Lisp Reference
  Manual</cite>). The two functions are equivalent, the first one
  being an alias of the second.</p>

  <p>There&rsquo;s one way to find out if GnuTLS is available, by
  calling <code>gnutls-available-p</code>. This is a little bit
  trickier on the W32 (Windows) platform, but if you have the
  GnuTLS DLLs (available from <a href=
  "http://sourceforge.net/projects/ezwinports/files/">http://sourceforge.net/projects/ezwinports/files/</a>
  thanks to Eli Zaretskii) in the same directory as Emacs, you
  should be OK.</p>

  <dl>
    <dt><a name="index-gnutls_002davailable_002dp" id=
    "index-gnutls_002davailable_002dp"></a>Function:
    <strong>gnutls-available-p</strong></dt>

    <dd>
      <p>This function returns <code>t</code> if GnuTLS is
      available in this instance of Emacs.</p>
    </dd>
  </dl>

  <p>Oh, but sometimes things go wrong. Budgets aren&rsquo;t
  balanced, television ads lie, and even TLS and SSL connections
  can fail to work properly. Well, there&rsquo;s something to be
  done in the last case.</p>

  <dl>
    <dt><a name="index-gnutls_002dlog_002dlevel" id=
    "index-gnutls_002dlog_002dlevel"></a>Variable:
    <strong>gnutls-log-level</strong></dt>

    <dd>
      <p>The <code>gnutls-log-level</code> variable sets the log
      level. 1 is verbose. 2 is very verbose. 5 is crazy. Crazy!
      Set it to 1 or 2 and look in the <samp>*Messages*</samp>
      buffer for the debugging information.</p>
    </dd>
  </dl>

  <dl>
    <dt><a name="index-gnutls_002dalgorithm_002dpriority" id=
    "index-gnutls_002dalgorithm_002dpriority"></a>Variable:
    <strong>gnutls-algorithm-priority</strong></dt>

    <dd>
      <p>The <code>gnutls-algorithm-priority</code> variable sets
      the GnuTLS priority string. This is global, not per host name
      (although <code>gnutls-negotiate</code> supports a priority
      string per connection so it could be done if needed). The
      priority string syntax is in the <a href=
      "http://www.gnu.org/software/gnutls/documentation.html">GnuTLS
      documentation</a>.</p>
    </dd>
  </dl>

  <dl>
    <dt><a name="index-gnutls_002dtrustfiles" id=
    "index-gnutls_002dtrustfiles"></a>Variable:
    <strong>gnutls-trustfiles</strong></dt>

    <dd>
      <p>The <code>gnutls-trustfiles</code> variable is a list of
      trustfiles (certificates for the issuing authorities). This
      is global, not per host name (although
      <code>gnutls-negotiate</code> supports a trustfile per
      connection so it could be done if needed). The trustfiles can
      be in PEM or DER format and examples can be found in most
      Unix distributions. By default the following locations are
      tried in this order:
      <samp>/etc/ssl/certs/ca-certificates.crt</samp> for Debian,
      Ubuntu, Gentoo and Arch Linux;
      <samp>/etc/pki/tls/certs/ca-bundle.crt</samp> for Fedora and
      RHEL; <samp>/etc/ssl/ca-bundle.pem</samp> for Suse;
      <samp>/usr/ssl/certs/ca-bundle.crt</samp> for Cygwin;
      <samp>/usr/local/share/certs/ca-root-nss.crt</samp> for
      FreeBSD. You can easily customize
      <code>gnutls-trustfiles</code> to be something else, but let
      us know if you do, so we can make the change to benefit the
      other users of that platform.</p>
    </dd>
  </dl>

  <dl>
    <dt><a name="index-gnutls_002dverify_002derror" id=
    "index-gnutls_002dverify_002derror"></a>Variable:
    <strong>gnutls-verify-error</strong></dt>

    <dd>
      <p>The <code>gnutls-verify-error</code> variable allows you
      to verify SSL/TLS server certificates for all connections or
      by host name. It defaults to <code>nil</code> for now but
      will likely be changed to <code>t</code> later, meaning that
      all certificates will be verified.</p>

      <p>There are two checks available currently, that the
      certificate has been issued by a trusted authority as defined
      by <code>gnutls-trustfiles</code>, and that the hostname
      matches the certificate. <code>t</code> enables both checks,
      but you can enable them individually as well with
      <code>:trustfiles</code> and <code>:hostname</code>
      instead.</p>

      <p>Because of the low-level interactions with the GnuTLS
      library, there is no way currently to ask if a certificate
      can be accepted. You have to look in the
      <samp>*Messages*</samp> buffer.</p>
    </dd>
  </dl>

  <dl>
    <dt><a name="index-gnutls_002dmin_002dprime_002dbits" id=
    "index-gnutls_002dmin_002dprime_002dbits"></a>Variable:
    <strong>gnutls-min-prime-bits</strong></dt>

    <dd>
      <p>The <code>gnutls-min-prime-bits</code> variable is a
      pretty exotic customization for cases where you want to
      refuse handshakes with keys under a specific size. If you
      don&rsquo;t know for sure that you need it, you don&rsquo;t.
      Leave it <code>nil</code>.</p>
    </dd>
  </dl>
  <hr />

  <div class="header">
    <p>Next: <a href="Help-For-Developers.html#Help-For-Developers"
    accesskey="n" rel="next">Help For Developers</a>, Previous:
    <a href="Overview.html#Overview" accesskey="p" rel=
    "prev">Overview</a>, Up: <a href="index.html#Top" accesskey="u"
    rel="up">Top</a> &nbsp; [<a href="index.html#SEC_Contents"
    title="Table of contents" rel="contents">Contents</a>][<a href=
    "Function-Index.html#Function-Index" title="Index" rel=
    "index">Index</a>]</p>
  </div>
</body>
</html>
