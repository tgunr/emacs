<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<!-- Copyright (C) 1995-1997, 2001-2016 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, with the Front-Cover Texts being "A GNU Manual",
and with the Back-Cover Texts as in (a) below.  A copy of the license
is included in the section entitled "GNU Free Documentation License".

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual." -->
<!-- Created by GNU Texinfo 5.2, http://www.gnu.org/software/texinfo/ -->

<head>
  <meta name="generator" content=
  "HTML Tidy for Mac OS X (vers 31 October 2006 - Apple Inc. build 16.1), see www.w3.org" />

  <title>Viper Is a Package for Emacs Rebels: Groundwork</title>
  <meta name="description" content=
  "Viper Is a Package for Emacs Rebels: Groundwork" />
  <meta name="keywords" content=
  "Viper Is a Package for Emacs Rebels: Groundwork" />
  <meta name="resource-type" content="document" />
  <meta name="distribution" content="global" />
  <meta name="Generator" content="makeinfo" />
  <meta http-equiv="Content-Type" content=
  "text/html; charset=us-ascii" />
  <link href="index.html#Top" rel="start" title="Top" />
  <link href="Key-Index.html#Key-Index" rel="index" title=
  "Key Index" />
  <link href="index.html#SEC_Contents" rel="contents" title=
  "Table of Contents" />
  <link href="Commands.html#Commands" rel="up" title="Commands" />
  <link href="Text-Handling.html#Text-Handling" rel="next" title=
  "Text Handling" />
  <link href="Commands.html#Commands" rel="prev" title=
  "Commands" />
  <style type="text/css">
/*<![CDATA[*/
  <!--
  a.summary-letter {text-decoration: none}
  blockquote.smallquotation {font-size: smaller}
  div.display {margin-left: 3.2em}
  div.example {margin-left: 3.2em}
  div.indentedblock {margin-left: 3.2em}
  div.lisp {margin-left: 3.2em}
  div.smalldisplay {margin-left: 3.2em}
  div.smallexample {margin-left: 3.2em}
  div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
  div.smalllisp {margin-left: 3.2em}
  kbd {font-style:oblique}
  pre.display {font-family: inherit}
  pre.format {font-family: inherit}
  pre.menu-comment {font-family: serif}
  pre.menu-preformatted {font-family: serif}
  pre.smalldisplay {font-family: inherit; font-size: smaller}
  pre.smallexample {font-size: smaller}
  pre.smallformat {font-family: inherit; font-size: smaller}
  pre.smalllisp {font-size: smaller}
  span.nocodebreak {white-space:nowrap}
  span.nolinebreak {white-space:nowrap}
  span.roman {font-family:serif; font-weight:normal}
  span.sansserif {font-family:sans-serif; font-weight:normal}
  ul.no-bullet {list-style: none}
  -->
  /*]]>*/
  </style>
  <style type="text/css">
/*<![CDATA[*/
  body {
  background-color: #FFFFFF;
  color: #000000;
  }
  :link { color: #0000FF }
  :visited { color: #800080 }
  :active { color: #FF0000 }
  /*]]>*/
  </style>
</head>

<body lang="en" xml:lang="en">
  <a name="Groundwork" id="Groundwork"></a>

  <div class="header">
    <p>Next: <a href="Text-Handling.html#Text-Handling" accesskey=
    "n" rel="next">Text Handling</a>, Up: <a href=
    "Commands.html#Commands" accesskey="u" rel="up">Commands</a>
    &nbsp; [<a href="index.html#SEC_Contents" title=
    "Table of contents" rel="contents">Contents</a>][<a href=
    "Key-Index.html#Key-Index" title="Index" rel=
    "index">Index</a>]</p>
  </div>
  <hr />
  <a name="Groundwork-1" id="Groundwork-1"></a>

  <h3 class="section">4.1 Groundwork</h3>

  <p>The VI command set is based on the idea of combining motion
  commands with other commands. The motion command is used as a
  text region specifier for other commands. We classify motion
  commands into <em>point commands</em> and <em>line
  commands</em>.</p><a name="index-point-commands-1" id=
  "index-point-commands-1"></a>

  <p>The point commands are:</p>

  <blockquote>
    <p><kbd>h</kbd>, <kbd>l</kbd>, <kbd>0</kbd>, <kbd>$</kbd>,
    <kbd>w</kbd>, <kbd>W</kbd>, <kbd>b</kbd>, <kbd>B</kbd>,
    <kbd>e</kbd>, <kbd>E</kbd>, <kbd>(</kbd>, <kbd>)</kbd>,
    <kbd>/</kbd>, <kbd>?</kbd>, <kbd>`</kbd>, <kbd>f</kbd>,
    <kbd>F</kbd>, <kbd>t</kbd>, <kbd>T</kbd>, <kbd>%</kbd>,
    <kbd>;</kbd>, <kbd>,</kbd>, <kbd>^</kbd></p>
  </blockquote><a name="index-line-commands-1" id=
  "index-line-commands-1"></a>

  <p>The line commands are:</p>

  <blockquote>
    <p><kbd>j</kbd>, <kbd>k</kbd>, <kbd>+</kbd>, <kbd>-</kbd>,
    <kbd>H</kbd>, <kbd>M</kbd>, <kbd>L</kbd>, <kbd>{</kbd>,
    <kbd>}</kbd>, <kbd>G</kbd>, <kbd>'</kbd>, <kbd>[[</kbd>,
    <kbd>]]</kbd>, <kbd>[]</kbd></p>
  </blockquote>

  <p>Text Deletion Commands (see <a href=
  "Deleting-Text.html#Deleting-Text">Deleting Text</a>), Change
  commands (see <a href="Changing-Text.html#Changing-Text">Changing
  Text</a>), even Shell Commands (see <a href=
  "Shell-Commands.html#Shell-Commands">Shell Commands</a>) use
  these commands to describe a region of text to operate
  on.</p><a name="index-r-and-R-region-specifiers-1" id=
  "index-r-and-R-region-specifiers-1"></a>

  <p>Viper adds two region descriptors, <kbd>r</kbd> and
  <kbd>R</kbd>. These describe the Emacs regions (see <a href=
  "Basics.html#Basics">Basics</a>), but they are not movement
  commands.</p>

  <p>The command description uses angle brackets
  &lsquo;<samp>&lt;&gt;</samp>&rsquo; to indicate metasyntactic
  variables, since the normal conventions of using simple text can
  be confusing with Viper where the commands themselves are
  characters. Watch out where <kbd>&lt;</kbd> shift commands and
  <kbd>&lt;count&gt;</kbd> are mentioned together!!!</p><a name=
  "index-_003cmove_003e-1" id="index-_003cmove_003e-1"></a>
  <a name="index-_003ca_002dz_003e-1" id=
  "index-_003ca_002dz_003e-1"></a> <a name=
  "index-_003caddress_003e-1" id="index-_003caddress_003e-1"></a>
  <a name="index-_003cmove_003e" id="index-_003cmove_003e"></a>
  <a name="index-_003ca_002dz_003e" id=
  "index-_003ca_002dz_003e"></a> <a name="index-_003caddress_003e"
  id="index-_003caddress_003e"></a> <a name="index-movements" id=
  "index-movements"></a>

  <p>&lsquo;<samp>&lt;move&gt;</samp>&rsquo; refers to the above
  movement commands, and &lsquo;<samp>&lt;a-z&gt;</samp>&rsquo;
  refers to registers or textmarkers from
  &lsquo;<samp>a</samp>&rsquo; to &lsquo;<samp>z</samp>&rsquo;.
  Note that the &lsquo;<samp>&lt;move&gt;</samp>&rsquo; is
  described by full move commands, that is to say they will take
  counts, and otherwise behave like normal move commands. <a name=
  "index-Ex-addresses" id="index-Ex-addresses"></a>
  &lsquo;<samp>&lt;address&gt;</samp>&rsquo; refers to Ex line
  addresses, which include</p>

  <dl compact="compact">
    <dt><kbd>. &lt;No address&gt;</kbd></dt>

    <dd>
      <p>Current line</p>
    </dd>

    <dt><kbd>.+n .-n</kbd></dt>

    <dd>
      <p>Add or subtract for current line</p>
    </dd>

    <dt><kbd>number</kbd></dt>

    <dd>
      <p>Actual line number, use <kbd>.=</kbd> to get the line
      number</p>
    </dd>

    <dt><kbd>'&lt;a-z&gt;</kbd></dt>

    <dd>
      <p>Textmarker</p>
    </dd>

    <dt><kbd>$</kbd></dt>

    <dd>
      <p>Last line</p>
    </dd>

    <dt><kbd>x,y</kbd></dt>

    <dd>
      <p>Where x and y are one of the above</p>
    </dd>

    <dt><kbd>%</kbd></dt>

    <dd>
      <a name="index-_0025-_0028Ex-address_0029" id=
      "index-_0025-_0028Ex-address_0029"></a>

      <p>For the whole file, same as (1,$).</p>
    </dd>

    <dt><kbd>/&lt;pat&gt;/</kbd></dt>

    <dt><kbd>?&lt;pat&gt;?</kbd></dt>

    <dd>
      <p>Next or previous line with pattern &lt;pat&gt;.</p>

      <p>Note that the pattern is allowed to contain newline
      character (inserted as <kbd>C-qC-j</kbd>). Therefore, one can
      search for patterns that span several lines.</p>
    </dd>
  </dl><a name="index-_0025-_0028Current-file_0029" id=
  "index-_0025-_0028Current-file_0029"></a>

  <p>Note that &lsquo;<samp>%</samp>&rsquo; is used in Ex commands
  <kbd>:e</kbd> and <kbd>:r &lt;shell-cmd&gt;</kbd> to mean current
  file. If you want a &lsquo;<samp>%</samp>&rsquo; in your command,
  it must be escaped as &lsquo;<samp>\%</samp>&rsquo;. Note that
  <kbd>:w</kbd> and the regular <kbd>:r &lt;file&gt;</kbd> command
  doesn&rsquo;t support the meta symbols
  &lsquo;<samp>%</samp>&rsquo; and &lsquo;<samp>#</samp>&rsquo;,
  because file history is a better mechanism. <a name=
  "index-_0023-_0028Previous-file_0029" id=
  "index-_0023-_0028Previous-file_0029"></a> Similarly,
  &lsquo;<samp>#</samp>&rsquo; expands to the previous file. The
  previous file is the first file in <kbd>:args</kbd> listing. This
  defaults to previous window in the VI sense if you have one
  window only.</p><a name="index-_003cargs_003e-1" id=
  "index-_003cargs_003e-1"></a> <a name="index-_003ccmd_003e-1" id=
  "index-_003ccmd_003e-1"></a> <a name="index-_003cargs_003e" id=
  "index-_003cargs_003e"></a> <a name="index-_003ccmd_003e" id=
  "index-_003ccmd_003e"></a>

  <p>Others like &lsquo;<samp>&lt;args&gt; --
  arguments</samp>&rsquo;, &lsquo;<samp>&lt;cmd&gt; --
  command</samp>&rsquo; etc. should be fairly obvious.</p>

  <p>Common characters referred to include:</p>

  <dl compact="compact">
    <dt><kbd>&lt;sp&gt;</kbd></dt>

    <dd>
      <p>Space</p>
    </dd>

    <dt><kbd>&lt;ht&gt;</kbd></dt>

    <dd>
      <p>Tab</p>
    </dd>

    <dt><kbd>&lt;lf&gt;</kbd></dt>

    <dd>
      <p>Linefeed</p>
    </dd>

    <dt><kbd>&lt;esc&gt;</kbd></dt>

    <dd>
      <p>Escape</p>
    </dd>

    <dt><kbd>&lt;cr&gt;</kbd></dt>

    <dd>
      <p>Return, Enter</p>
    </dd>
  </dl><a name="index-_003ccr_003e" id="index-_003ccr_003e"></a>
  <a name="index-_003cesc_003e" id="index-_003cesc_003e"></a>
  <a name="index-_003clf_003e" id="index-_003clf_003e"></a>
  <a name="index-_003cht_003e" id="index-_003cht_003e"></a>
  <a name="index-_003csp_003e" id="index-_003csp_003e"></a>
  <a name="index-words" id="index-words"></a> <a name="index-WORDS"
  id="index-WORDS"></a> <a name="index-char" id="index-char"></a>
  <a name="index-CHAR" id="index-CHAR"></a>

  <p>We also use &lsquo;<samp>word</samp>&rsquo; for
  alphanumeric/non-alphanumeric words, and
  &lsquo;<samp>WORD</samp>&rsquo; for whitespace delimited words.
  &lsquo;<samp>char</samp>&rsquo; refers to any
  <acronym>ASCII</acronym> character,
  &lsquo;<samp>CHAR</samp>&rsquo; to non-whitespace character.
  Brackets &lsquo;<samp>[]</samp>&rsquo; indicate optional
  parameters; &lsquo;<samp>&lt;count&gt;</samp>&rsquo; also
  optional, usually defaulting to 1. Brackets are elided for
  &lsquo;<samp>&lt;count&gt;</samp>&rsquo; to eschew
  obfuscation.</p>

  <p>Viper&rsquo;s idea of Vi&rsquo;s words is slightly different
  from Vi. First, Viper words understand Emacs symbol tables.
  Therefore, all symbols declared to be alphanumeric in a symbol
  table can automatically be made part of the Viper word. This is
  useful when, for instance, editing text containing European,
  Cyrillic, Japanese, etc., texts.</p>

  <p>Second, Viper lets you depart from Vi&rsquo;s idea of a word
  by changing the a syntax preference via the customization widget
  (the variable <code>viper-syntax-preference</code>) or by
  executing <code>viper-set-syntax-preference</code>
  interactively.</p>

  <p>By default, Viper syntax preference is
  <code>reformed-vi</code>, which means that Viper considers only
  those symbols to be part of a word that are specified as
  word-symbols by the current Emacs syntax table (which may be
  different for different major modes) plus the underscore symbol
  <kbd>_</kbd>, minus the symbols that are not considered words in
  Vi (e.g., &lsquo;<samp>,</samp>&rsquo;,
  &lsquo;<samp>;</samp>&rsquo;, etc.), but may be considered as
  word-symbols by various Emacs major modes. Reformed-Vi works very
  close to Vi, and it also recognizes words in other alphabets.
  Therefore, this is the most appropriate mode for editing text and
  is likely to fit all your needs.</p>

  <p>You can also set Viper syntax preference to
  <code>strict-vi</code>, which would cause Viper to view all
  non-English letters as non-word-symbols.</p>

  <p>You can also specify <code>emacs</code> as your preference,
  which would make Viper use exactly the same notion of a word as
  Emacs does. In particular, the underscore may not be part of a
  word in some major modes.</p>

  <p>Finally, if <code>viper-syntax-preference</code> is set to
  <code>extended</code>, Viper words would consist of characters
  that are classified as alphanumeric <em>or</em> as parts of
  symbols. This is convenient for editing programs.</p>

  <p><code>viper-syntax-preference</code> is a local variable, so
  it can have different values for different major modes. For
  instance, in programming modes it can have the value
  <code>extended</code>. In text modes where words contain special
  characters, such as European (non-English) letters, Cyrillic
  letters, etc., the value can be <code>reformed-vi</code> or
  <code>emacs</code>. If you consider using different syntactic
  preferences for different major modes, you should execute, for
  example,</p>

  <div class="example">
    <pre class="example">
(viper-set-syntax-preference nil "extended")
</pre>
  </div>

  <p>in the appropriate major mode hooks.</p><a name=
  "index-viper_002dsyntax_002dpreference-1" id=
  "index-viper_002dsyntax_002dpreference-1"></a> <a name=
  "index-viper_002dset_002dsyntax_002dpreference-1" id=
  "index-viper_002dset_002dsyntax_002dpreference-1"></a> <a name=
  "index-syntax-table-1" id="index-syntax-table-1"></a>

  <p>The above discussion concerns only the movement commands. In
  regular expressions, words remain the same as in Emacs. That is,
  the expressions <code>\w</code>, <code>\&gt;</code>,
  <code>\&lt;</code>, etc., use Emacs&rsquo;s idea of what is a
  word, and they don&rsquo;t look into the value of variable
  <code>viper-syntax-preference</code>. This is because Viper
  avoids changing syntax tables in order to not thwart the various
  major modes that set these tables.</p>

  <p>The usual Emacs convention is used to indicate Control
  Characters, i.e., C-h for Control-h. <em>Do not confuse this with
  a sequence of separate characters C, -, h!!!</em> The
  <kbd>^</kbd> is itself, never used to indicate a Control
  character.</p>

  <p>Finally, we note that Viper&rsquo;s Ex-style commands can be
  made to work on the current Emacs region. This is done by typing
  a digit argument before <kbd>:</kbd>. For instance, typing
  <kbd>1:</kbd> will prompt you with something like
  <em>:123,135</em>, assuming that the current region starts at
  line 123 and ends at line 135. There is no need to type the line
  numbers, since Viper inserts them automatically in front of the
  Ex command. <a name="index-Ex-commands-2" id=
  "index-Ex-commands-2"></a></p>
  <hr />

  <div class="header">
    <p>Next: <a href="Text-Handling.html#Text-Handling" accesskey=
    "n" rel="next">Text Handling</a>, Up: <a href=
    "Commands.html#Commands" accesskey="u" rel="up">Commands</a>
    &nbsp; [<a href="index.html#SEC_Contents" title=
    "Table of contents" rel="contents">Contents</a>][<a href=
    "Key-Index.html#Key-Index" title="Index" rel=
    "index">Index</a>]</p>
  </div>
</body>
</html>
