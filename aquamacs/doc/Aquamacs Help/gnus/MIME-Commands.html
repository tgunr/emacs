<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
  <meta name="generator" content=
  "HTML Tidy for Mac OS X (vers 31 October 2006 - Apple Inc. build 16.1), see www.w3.org" />

  <title>MIME Commands - Gnus Manual</title>
  <meta http-equiv="Content-Type" content=
  "text/html; charset=us-ascii" />
  <meta name="description" content="Gnus Manual" />
  <meta name="generator" content="makeinfo 4.13" />
  <link title="Top" rel="start" href="index.html#Top" />
  <link rel="up" href="Summary-Buffer.html#Summary-Buffer" title=
  "Summary Buffer" />
  <link rel="prev" href="Article-Treatment.html#Article-Treatment"
  title="Article Treatment" />
  <link rel="next" href="Charsets.html#Charsets" title=
  "Charsets" />
  <link href="http://www.gnu.org/software/texinfo/" rel=
  "generator-home" title="Texinfo Homepage" /><!--
Copyright (C) 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,
2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010 Free Software Foundation, Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with no Invariant Sections, with the Front-Cover texts
     being ``A GNU Manual'', and with the Back-Cover Texts as in (a)
     below.  A copy of the license is included in the section entitled
     ``GNU Free Documentation License''.

     (a) The FSF's Back-Cover Text is: ``You have the freedom to copy
     and modify this GNU manual.  Buying copies from the FSF supports
     it in developing GNU and promoting software freedom.''
   -->
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <style type="text/css">
/*<![CDATA[*/
  <!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; }
  span.sansserif { font-family:sans-serif; font-weight:normal; }
  -->
  /*]]>*/
  </style>
</head>

<body>
  <div class="node">
    <a name="MIME-Commands" id="MIME-Commands"></a>

    <p>Next:&nbsp;<a rel="next" accesskey="n" href=
    "Charsets.html#Charsets">Charsets</a>, Previous:&nbsp;<a rel=
    "previous" accesskey="p" href=
    "Article-Treatment.html#Article-Treatment">Article
    Treatment</a>, Up:&nbsp;<a rel="up" accesskey="u" href=
    "Summary-Buffer.html#Summary-Buffer">Summary Buffer</a></p>
    <hr />
  </div>

  <h3 class="section">3.19 MIME Commands</h3>

  <p><a name="index-MIME-decoding-1444" id=
  "index-MIME-decoding-1444"></a><a name="index-attachments-1445"
  id="index-attachments-1445"></a><a name=
  "index-viewing-attachments-1446" id=
  "index-viewing-attachments-1446"></a> The following commands all
  understand the numerical prefix. For instance, <kbd>3 K v</kbd>
  means &ldquo;view the third <acronym>MIME</acronym>
  part&rdquo;.</p>

  <dl>
    <dt><kbd>b</kbd></dt>

    <dt><kbd>K v</kbd></dt>

    <dd><a name="index-b-_0028Summary_0029-1447" id=
    "index-b-_0028Summary_0029-1447"></a><a name=
    "index-K-v-_0028Summary_0029-1448" id=
    "index-K-v-_0028Summary_0029-1448"></a>View the
    <acronym>MIME</acronym> part.<br /></dd>

    <dt><kbd>K o</kbd></dt>

    <dd><a name="index-K-o-_0028Summary_0029-1449" id=
    "index-K-o-_0028Summary_0029-1449"></a>Save the
    <acronym>MIME</acronym> part.<br /></dd>

    <dt><kbd>K O</kbd></dt>

    <dd><a name="index-K-O-_0028Summary_0029-1450" id=
    "index-K-O-_0028Summary_0029-1450"></a>Prompt for a file name,
    then save the <acronym>MIME</acronym> part and strip it from
    the article. The stripped <acronym>MIME</acronym> object will
    be referred via the message/external-body
    <acronym>MIME</acronym> type.<br /></dd>

    <dt><kbd>K r</kbd></dt>

    <dd><a name="index-K-r-_0028Summary_0029-1451" id=
    "index-K-r-_0028Summary_0029-1451"></a>Replace the
    <acronym>MIME</acronym> part with an external body.<br /></dd>

    <dt><kbd>K d</kbd></dt>

    <dd><a name="index-K-d-_0028Summary_0029-1452" id=
    "index-K-d-_0028Summary_0029-1452"></a>Delete the
    <acronym>MIME</acronym> part and add some information about the
    removed part.<br /></dd>

    <dt><kbd>K c</kbd></dt>

    <dd><a name="index-K-c-_0028Summary_0029-1453" id=
    "index-K-c-_0028Summary_0029-1453"></a>Copy the
    <acronym>MIME</acronym> part.<br /></dd>

    <dt><kbd>K e</kbd></dt>

    <dd><a name="index-K-e-_0028Summary_0029-1454" id=
    "index-K-e-_0028Summary_0029-1454"></a>View the
    <acronym>MIME</acronym> part externally.<br /></dd>

    <dt><kbd>K i</kbd></dt>

    <dd><a name="index-K-i-_0028Summary_0029-1455" id=
    "index-K-i-_0028Summary_0029-1455"></a>View the
    <acronym>MIME</acronym> part internally.<br /></dd>

    <dt><kbd>K |</kbd></dt>

    <dd><a name="index-K-_007c-_0028Summary_0029-1456" id=
    "index-K-_007c-_0028Summary_0029-1456"></a>Pipe the
    <acronym>MIME</acronym> part to an external command.</dd>
  </dl>

  <p>The rest of these <acronym>MIME</acronym> commands do not use
  the numerical prefix in the same manner:</p>

  <dl>
    <dt><kbd>K H</kbd></dt>

    <dd>
      <a name="index-K-H-_0028Summary_0029-1457" id=
      "index-K-H-_0028Summary_0029-1457"></a><a name=
      "index-gnus_002darticle_002dbrowse_002dhtml_002darticle-1458"
      id=
      "index-gnus_002darticle_002dbrowse_002dhtml_002darticle-1458"></a>View
      &lsquo;<samp><span class=
      "samp">text/html</span></samp>&rsquo; parts of the current
      article with a WWW browser. Inline images embedded in a
      message using the <code>cid</code> scheme, as they are
      generally considered to be safe, will be processed properly.
      The message header is added to the beginning of every
      <acronym>HTML</acronym> part unless the prefix argument is
      given.

      <p>Warning: Spammers use links to images (using the
      <code>http</code> scheme) in <acronym>HTML</acronym> articles
      to verify whether you have read the message. As this command
      passes the <acronym>HTML</acronym> content to the browser
      without eliminating these &ldquo;web bugs&rdquo; you should
      only use it for mails from trusted senders.</p>

      <p>If you always want to display <acronym>HTML</acronym>
      parts in the browser, set <code>mm-text-html-renderer</code>
      to <code>nil</code>.</p>

      <p>This command creates temporary files to pass
      <acronym>HTML</acronym> contents including images if any to
      the browser, and deletes them when exiting the group (if you
      want).<br /></p>
    </dd>

    <dt><kbd>K b</kbd></dt>

    <dd><a name="index-K-b-_0028Summary_0029-1459" id=
    "index-K-b-_0028Summary_0029-1459"></a>Make all the
    <acronym>MIME</acronym> parts have buttons in front of them.
    This is mostly useful if you wish to save (or perform other
    actions) on inlined parts.<br /></dd>

    <dt><kbd>K m</kbd></dt>

    <dd><a name="index-K-m-_0028Summary_0029-1460" id=
    "index-K-m-_0028Summary_0029-1460"></a><a name=
    "index-gnus_002dsummary_002drepair_002dmultipart-1461" id=
    "index-gnus_002dsummary_002drepair_002dmultipart-1461"></a>Some
    multipart messages are transmitted with missing or faulty
    headers. This command will attempt to &ldquo;repair&rdquo;
    these messages so that they can be viewed in a more pleasant
    manner (<code>gnus-summary-repair-multipart</code>).<br /></dd>

    <dt><kbd>X m</kbd></dt>

    <dd><a name="index-X-m-_0028Summary_0029-1462" id=
    "index-X-m-_0028Summary_0029-1462"></a><a name=
    "index-gnus_002dsummary_002dsave_002dparts-1463" id=
    "index-gnus_002dsummary_002dsave_002dparts-1463"></a>Save all
    parts matching a <acronym>MIME</acronym> type to a directory
    (<code>gnus-summary-save-parts</code>). Understands the
    process/prefix convention (see <a href=
    "Process_002fPrefix.html#Process_002fPrefix">Process/Prefix</a>).<br />
    </dd>

    <dt><kbd>M-t</kbd></dt>

    <dd><a name="index-M_002dt-_0028Summary_0029-1464" id=
    "index-M_002dt-_0028Summary_0029-1464"></a><a name=
    "index-gnus_002dsummary_002dtoggle_002ddisplay_002dbuttonized-1465"
    id=
    "index-gnus_002dsummary_002dtoggle_002ddisplay_002dbuttonized-1465"></a>Toggle
    the buttonized display of the article buffer
    (<code>gnus-summary-toggle-display-buttonized</code>).<br /></dd>

    <dt><kbd>W M w</kbd></dt>

    <dd><a name="index-W-M-w-_0028Summary_0029-1466" id=
    "index-W-M-w-_0028Summary_0029-1466"></a><a name=
    "index-gnus_002darticle_002ddecode_002dmime_002dwords-1467" id=
    "index-gnus_002darticle_002ddecode_002dmime_002dwords-1467"></a>Decode
    RFC 2047-encoded words in the article headers
    (<code>gnus-article-decode-mime-words</code>).<br /></dd>

    <dt><kbd>W M c</kbd></dt>

    <dd>
      <a name="index-W-M-c-_0028Summary_0029-1468" id=
      "index-W-M-c-_0028Summary_0029-1468"></a><a name=
      "index-gnus_002darticle_002ddecode_002dcharset-1469" id=
      "index-gnus_002darticle_002ddecode_002dcharset-1469"></a>Decode
      encoded article bodies as well as charsets
      (<code>gnus-article-decode-charset</code>).

      <p>This command looks in the <code>Content-Type</code> header
      to determine the charset. If there is no such header in the
      article, you can give it a prefix, which will prompt for the
      charset to decode as. In regional groups where people post
      using some common encoding (but do not include
      <acronym>MIME</acronym> headers), you can set the
      <code>charset</code> group/topic parameter to the required
      charset (see <a href=
      "Group-Parameters.html#Group-Parameters">Group
      Parameters</a>).<br /></p>
    </dd>

    <dt><kbd>W M v</kbd></dt>

    <dd><a name="index-W-M-v-_0028Summary_0029-1470" id=
    "index-W-M-v-_0028Summary_0029-1470"></a><a name=
    "index-gnus_002dmime_002dview_002dall_002dparts-1471" id=
    "index-gnus_002dmime_002dview_002dall_002dparts-1471"></a>View
    all the <acronym>MIME</acronym> parts in the current article
    (<code>gnus-mime-view-all-parts</code>).</dd>
  </dl>

  <p>Relevant variables:</p>

  <dl>
    <dt><code>gnus-ignored-mime-types</code></dt>

    <dd>
      <a name="index-gnus_002dignored_002dmime_002dtypes-1472" id=
      "index-gnus_002dignored_002dmime_002dtypes-1472"></a>This is
      a list of regexps. <acronym>MIME</acronym> types that match a
      regexp from this list will be completely ignored by Gnus. The
      default value is <code>nil</code>.

      <p>To have all Vcards be ignored, you'd say something like
      this:</p>
      <pre class="lisp">
          (setq gnus-ignored-mime-types
                '("text/x-vcard"))
</pre><br />
    </dd>

    <dt><code>gnus-article-loose-mime</code></dt>

    <dd><a name="index-gnus_002darticle_002dloose_002dmime-1473"
    id="index-gnus_002darticle_002dloose_002dmime-1473"></a>If
    non-<code>nil</code>, Gnus won't require the
    &lsquo;<samp><span class=
    "samp">MIME-Version</span></samp>&rsquo; header before
    interpreting the message as a <acronym>MIME</acronym> message.
    This helps when reading messages from certain broken mail user
    agents. The default is <code>t</code>.<br /></dd>

    <dt><code>gnus-article-emulate-mime</code></dt>

    <dd><a name="index-gnus_002darticle_002demulate_002dmime-1474"
    id=
    "index-gnus_002darticle_002demulate_002dmime-1474"></a><a name=
    "index-uuencode-1475" id="index-uuencode-1475"></a><a name=
    "index-yEnc-1476" id="index-yEnc-1476"></a>There are other,
    non-<acronym>MIME</acronym> encoding methods used. The most
    common is &lsquo;<samp><span class=
    "samp">uuencode</span></samp>&rsquo;, but yEncode is also
    getting to be popular. If this variable is
    non-<code>nil</code>, Gnus will look in message bodies to see
    if it finds these encodings, and if so, it'll run them through
    the Gnus <acronym>MIME</acronym> machinery. The default is
    <code>t</code>. Only single-part yEnc encoded attachments can
    be decoded. There's no support for encoding in Gnus.<br /></dd>

    <dt><code>gnus-unbuttonized-mime-types</code></dt>

    <dd><a name=
    "index-gnus_002dunbuttonized_002dmime_002dtypes-1477" id=
    "index-gnus_002dunbuttonized_002dmime_002dtypes-1477"></a>This
    is a list of regexps. <acronym>MIME</acronym> types that match
    a regexp from this list won't have <acronym>MIME</acronym>
    buttons inserted unless they aren't displayed or this variable
    is overridden by <code>gnus-buttonized-mime-types</code>. The
    default value is <code>(".*/.*")</code>. This variable is only
    used when <code>gnus-inhibit-mime-unbuttonizing</code> is
    <code>nil</code>.<br /></dd>

    <dt><code>gnus-buttonized-mime-types</code></dt>

    <dd>
      <a name="index-gnus_002dbuttonized_002dmime_002dtypes-1478"
      id=
      "index-gnus_002dbuttonized_002dmime_002dtypes-1478"></a>This
      is a list of regexps. <acronym>MIME</acronym> types that
      match a regexp from this list will have
      <acronym>MIME</acronym> buttons inserted unless they aren't
      displayed. This variable overrides
      <code>gnus-unbuttonized-mime-types</code>. The default value
      is <code>nil</code>. This variable is only used when
      <code>gnus-inhibit-mime-unbuttonizing</code> is
      <code>nil</code>.

      <p>To see e.g. security buttons but no other buttons, you
      could set this variable to <code>("multipart/signed")</code>
      and leave <code>gnus-unbuttonized-mime-types</code> at the
      default value.</p>

      <p>You could also add <code>"multipart/alternative"</code> to
      this list to display radio buttons that allow you to choose
      one of two media types those mails include. See also
      <code>mm-discouraged-alternatives</code> (see <a href=
      "../emacs-mime/Display-Customization.html#Display-Customization">
      Display Customization</a>).<br /></p>
    </dd>

    <dt><code>gnus-inhibit-mime-unbuttonizing</code></dt>

    <dd><a name=
    "index-gnus_002dinhibit_002dmime_002dunbuttonizing-1479" id=
    "index-gnus_002dinhibit_002dmime_002dunbuttonizing-1479"></a>If
    this is non-<code>nil</code>, then all <acronym>MIME</acronym>
    parts get buttons. The default value is
    <code>nil</code>.<br /></dd>

    <dt><code>gnus-article-mime-part-function</code></dt>

    <dd>
      <a name=
      "index-gnus_002darticle_002dmime_002dpart_002dfunction-1480"
      id=
      "index-gnus_002darticle_002dmime_002dpart_002dfunction-1480"></a>For
      each <acronym>MIME</acronym> part, this function will be
      called with the <acronym>MIME</acronym> handle as the
      parameter. The function is meant to be used to allow users to
      gather information from the article (e. g., add Vcard info to
      the bbdb database) or to do actions based on parts (e. g.,
      automatically save all jpegs into some directory).

      <p>Here's an example function the does the latter:</p>
      <pre class="lisp">
          (defun my-save-all-jpeg-parts (handle)
            (when (equal (car (mm-handle-type handle)) "image/jpeg")
              (with-temp-buffer
                (insert (mm-get-part handle))
                (write-region (point-min) (point-max)
                              (read-file-name "Save jpeg to: ")))))
          (setq gnus-article-mime-part-function
                'my-save-all-jpeg-parts)
</pre>

      <p><a name=
      "index-gnus_002dmime_002dmultipart_002dfunctions-1481" id=
      "index-gnus_002dmime_002dmultipart_002dfunctions-1481"></a><br />
      </p>
    </dd>

    <dt><code>gnus-mime-multipart-functions</code></dt>

    <dd>
      Alist of <acronym>MIME</acronym> multipart types and
      functions to handle them.

      <p><a name=
      "index-gnus_002dmime_002ddisplay_002dmultipart_002dalternative_002das_002dmixed-1482"
      id=
      "index-gnus_002dmime_002ddisplay_002dmultipart_002dalternative_002das_002dmixed-1482">
      </a><br /></p>
    </dd>

    <dt>
    <code>gnus-mime-display-multipart-alternative-as-mixed</code></dt>

    <dd>
      Display "multipart/alternative" parts as "multipart/mixed".

      <p><a name=
      "index-gnus_002dmime_002ddisplay_002dmultipart_002drelated_002das_002dmixed-1483"
      id=
      "index-gnus_002dmime_002ddisplay_002dmultipart_002drelated_002das_002dmixed-1483">
      </a><br /></p>
    </dd>

    <dt>
    <code>gnus-mime-display-multipart-related-as-mixed</code></dt>

    <dd>
      Display "multipart/related" parts as "multipart/mixed".

      <p>If displaying &lsquo;<samp><span class=
      "samp">text/html</span></samp>&rsquo; is discouraged, see
      <code>mm-discouraged-alternatives</code>, images or other
      material inside a "multipart/related" part might be
      overlooked when this variable is <code>nil</code>. <a href=
      "../emacs-mime/Display-Customization.html#Display-Customization">
      Display Customization</a>.</p>

      <p><a name=
      "index-gnus_002dmime_002ddisplay_002dmultipart_002das_002dmixed-1484"
      id=
      "index-gnus_002dmime_002ddisplay_002dmultipart_002das_002dmixed-1484">
      </a><br /></p>
    </dd>

    <dt><code>gnus-mime-display-multipart-as-mixed</code></dt>

    <dd>
      Display "multipart" parts as "multipart/mixed". If
      <code>t</code>, it overrides <code>nil</code> values of
      <code>gnus-mime-display-multipart-alternative-as-mixed</code>
      and
      <code>gnus-mime-display-multipart-related-as-mixed</code>.

      <p><a name=
      "index-mm_002dfile_002dname_002drewrite_002dfunctions-1485"
      id=
      "index-mm_002dfile_002dname_002drewrite_002dfunctions-1485"></a><br />
      </p>
    </dd>

    <dt><code>mm-file-name-rewrite-functions</code></dt>

    <dd>
      List of functions used for rewriting file names of
      <acronym>MIME</acronym> parts. Each function takes a file
      name as input and returns a file name.

      <p>Ready-made functions include<br />
      <code>mm-file-name-delete-whitespace</code>,
      <code>mm-file-name-trim-whitespace</code>,
      <code>mm-file-name-collapse-whitespace</code>, and
      <code>mm-file-name-replace-whitespace</code>. The later uses
      the value of the variable
      <code>mm-file-name-replace-whitespace</code> to replace each
      whitespace character in a file name with that string; default
      value is <code>"_"</code> (a single underscore). <a name=
      "index-mm_002dfile_002dname_002ddelete_002dwhitespace-1486"
      id=
      "index-mm_002dfile_002dname_002ddelete_002dwhitespace-1486"></a><a name="index-mm_002dfile_002dname_002dtrim_002dwhitespace-1487"
      id=
      "index-mm_002dfile_002dname_002dtrim_002dwhitespace-1487"></a><a name="index-mm_002dfile_002dname_002dcollapse_002dwhitespace-1488"
      id=
      "index-mm_002dfile_002dname_002dcollapse_002dwhitespace-1488"></a><a name="index-mm_002dfile_002dname_002dreplace_002dwhitespace-1489"
      id=
      "index-mm_002dfile_002dname_002dreplace_002dwhitespace-1489"></a><a name="index-mm_002dfile_002dname_002dreplace_002dwhitespace-1490"
      id=
      "index-mm_002dfile_002dname_002dreplace_002dwhitespace-1490"></a>
      The standard functions <code>capitalize</code>,
      <code>downcase</code>, <code>upcase</code>, and
      <code>upcase-initials</code> may be useful, too.</p>

      <p>Everybody knows that whitespace characters in file names
      are evil, except those who don't know. If you receive lots of
      attachments from such unenlightened users, you can make live
      easier by adding</p>
      <pre class="lisp">
          (setq mm-file-name-rewrite-functions
                '(mm-file-name-trim-whitespace
                  mm-file-name-collapse-whitespace
                  mm-file-name-replace-whitespace))
</pre>

      <p class="noindent">to your <samp><span class=
      "file">~/.gnus.el</span></samp> file.</p>
    </dd>
  </dl>
</body>
</html>
